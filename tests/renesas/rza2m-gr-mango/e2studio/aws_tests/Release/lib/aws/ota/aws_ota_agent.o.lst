   1              		.cpu cortex-a9
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 4
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"aws_ota_agent.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.prvRequestTimer_Callback,"ax",%progbits
  17              		.align	2
  18              		.syntax unified
  19              		.arm
  20              		.fpu neon
  22              	prvRequestTimer_Callback:
  23              	.LFB24:
  24              		.file 1 "D:/Work/DeviceTester/amazon-freertos/lib/ota/aws_ota_agent.c"
   1:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /*
   2:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Amazon FreeRTOS OTA Agent V1.0.1
   3:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
   5:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * the Software without restriction, including without limitation the rights to
   8:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * subject to the following conditions:
  11:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
  12:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * The above copyright notice and this permission notice shall be included in all
  13:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * copies or substantial portions of the Software.
  14:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
  15:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
  22:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * http://aws.amazon.com/freertos
  23:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * http://www.FreeRTOS.org
  24:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
  25:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  26:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  27:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Standard library includes. */
  28:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include <string.h>
  29:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include <stdlib.h>
  30:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include <stdio.h>
  31:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  32:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* OTA agent includes. */
  33:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_ota_pal.h"
  34:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_ota_agent.h" /*lint !e537 intentional include of all interfaces used by this file. */
  35:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "event_groups.h"
  36:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_clientcredential.h"
  37:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_ota_cbor.h"
  38:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_application_version.h"
  39:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_ota_agent_config.h"
  40:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  41:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Internal header file for shared definitions. */
  42:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_ota_agent_internal.h"
  43:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  44:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* FreeRTOS includes. */
  45:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "FreeRTOS.h"     /*lint !e537 intentional include of all interfaces used by this file. */
  46:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "timers.h"       /*lint !e537 intentional include of all interfaces used by this file. */
  47:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "task.h"         /*lint !e537 intentional include of all interfaces used by this file. */
  48:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "event_groups.h" /*lint !e537 intentional include of all interfaces used by this file. */
  49:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "queue.h"
  50:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  51:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* MQTT includes. */
  52:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "aws_mqtt_agent.h"
  53:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  54:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* JSON job document parser includes. */
  55:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "jsmn.h" /*lint !e537 All headers have multiple inclusion prevention. */
  56:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #include "mbedtls/base64.h"
  57:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  58:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Returns the byte offset of the element 'e' in the typedef structure 't'.
  59:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Setting an arbitrarily large base of 0x10000 and masking off that base allows
  60:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * us to do the same thing as a zero offset without the lint warnings of using a
  61:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * null pointer. No structure is anywhere near 64K in size.
  62:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * */
  63:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /*lint -emacro((923,9078),OFFSET_OF) Intentionally cast pointer to uint32_t because we are using it
  64:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OFFSET_OF( t, e )    ( ( uint32_t ) ( &( ( t * ) 0x10000UL )->e ) & 0xffffUL )
  65:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  66:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* General constants. */
  67:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_JSON_STR_LEN               256U             /* Limit our JSON string compares to so
  68:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_ERASED_BLOCKS_VAL              0xffU            /* The starting state of a group of era
  69:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_FILES                      1U               /* [MUST REMAIN 1! Future support.] Max
  70:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_NUM_MSG_Q_ENTRIES              6U               /* Maximum number of entries in the OTA
  71:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_SUBSCRIBE_WAIT_TICKS           pdMS_TO_TICKS( 30000UL )
  72:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_UNSUBSCRIBE_WAIT_TICKS         pdMS_TO_TICKS( 1000UL )
  73:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_PUBLISH_WAIT_TICKS             pdMS_TO_TICKS( 10000UL )
  74:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_STREAM_REQUEST_MOMENTUM    32U              /* Max number of stream requests allowe
  75:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define U32_MAX_PLACES                     10U              /* Maximum number of output digits of a
  76:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  77:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* OTA Agent task event flags. */
  78:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_EVT_MASK_MSG_READY             0x00000001UL /* OTA MQTT message ready event flag. */
  79:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_EVT_MASK_SHUTDOWN              0x00000002UL /* Event flag to request OTA shutdown. */
  80:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_EVT_MASK_REQ_TIMEOUT           0x00000004UL /* Event flag indicating the request timer 
  81:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_EVT_MASK_USER_ABORT            0x00000008UL /* Event flag to indicate user initiated OT
  82:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_EVT_MASK_ALL_EVENTS            ( OTA_EVT_MASK_MSG_READY | OTA_EVT_MASK_SHUTDOWN | OTA_E
  83:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  84:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Stream GET message constants. */
  85:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  86:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_CLIENT_TOKEN             "rdy"              /* Arbitrary client token sent in the strea
  87:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_BLOCK_BITMAP_SIZE    128U               /* Max allowed number of bytes to track all
  88:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_REQUEST_MSG_MAX_SIZE     ( 3U * OTA_MAX_BLOCK_BITMAP_SIZE )
  89:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  90:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Agent to Job Service status message constants. */
  91:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  92:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_STATUS_MSG_MAX_SIZE        128U             /* Max length of a job status message to th
  93:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_UPDATE_STATUS_FREQUENCY    64U              /* Update the job status every 64 unique bl
  94:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  95:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Job document parser constants. */
  96:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  97:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_JSON_TOKENS    64U                      /* Number of JSON tokens supported in a sin
  98:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_MAX_TOPIC_LEN      256U                     /* Max length of a dynamically generated to
  99:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 100:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* When subscribing to MQTT topics with a callback handler, we use the callback
 101:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * context variable as a subscription type to expedite dispatch of the published
 102:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * messages instead of comparing against the topic string.
 103:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 104:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef enum
 105:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 106:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_PubMsgType_Job = 0, /* Messages on the topic are job messages. */
 107:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_PubMsgType_Stream   /* Messages on the topic are stream messages. */
 108:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_PubMsgType_t;
 109:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 110:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 111:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef struct
 112:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 113:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTPublishData_t xPubData; /* The MQTT publish data. */
 114:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     union
 115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 116:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_PubMsgType_t eMsgType; /* The OTA published message type (job or stream). */
 117:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         int32_t lMsgType;          /* The OTA published message type as a signed 32 bit value. */
 118:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     };                             /*lint !e658 Anonymous union is intentional as we use prefixes a
 119:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_PubMsg_t;
 120:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 121:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 122:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* The OTA job document contains parameters that are required for us to build the
 123:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * stream request message and manage the OTA process. Including info like file name,
 124:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * size, attributes, etc. The following value specifies the number of parameters
 125:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * that are included in the job document model although some may be optional. */
 126:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 127:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_NUM_JOB_PARAMS         ( 16 ) /* Number of parameters in the job document. */
 128:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* We need the following string to match in a couple places in the code so use a #define. */
 129:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_JSON_UPDATED_BY_KEY    "updatedBy"
 130:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 131:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_ClientTokenKey[] = "clientToken";
 132:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_ExecutionKey[] = "execution";
 133:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_JobIDKey[] = "jobId";
 134:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_StatusDetailsKey[] = "statusDetails";
 135:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_SelfTestKey[] = "self_test";
 136:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_UpdatedByKey[] = OTA_JSON_UPDATED_BY_KEY;
 137:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_JobDocKey[] = "jobDocument";
 138:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_OTAUnitKey[] = "afr_ota";
 139:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FileGroupKey[] = "files";
 140:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_StreamNameKey[] = "streamname";
 141:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FilePathKey[] = "filepath";
 142:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FileSizeKey[] = "filesize";
 143:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FileIDKey[] = "fileid";
 144:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FileAttributeKey[] = "attr";
 145:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JSON_FileCertNameKey[] = "certfile";
 146:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 147:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** enum
 148:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 149:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_Receiving = 0,  /* Update progress status. */
 150:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_SigCheckPassed, /* Set status details to Self Test Ready. */
 151:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_SelfTestActive, /* Set status details to Self Test Active. */
 152:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_Accepted,       /* Set job state to Succeeded. */
 153:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_Rejected,       /* Set job state to Failed. */
 154:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobReason_Aborted,        /* Set job state to Failed. */
 155:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eNumJobReasons
 156:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** };
 157:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 158:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* These are the associated statusDetails 'reason' codes that go along with
 159:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * the above enums during the OTA update process. The 'Receiving' state is
 160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * updated with transfer progress as #blocks received of #total.
 161:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 162:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char * pcOTA_JobReason_Strings[ eNumJobReasons ] = { "", "ready", "active", "accepted"
 163:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 164:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /*lint -esym(749,OTA_JobStatus_t::eJobStatus_Rejected) Until the Job Service supports it, this is u
 165:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef enum
 166:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobStatus_InProgress = 0,
 168:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobStatus_Failed,
 169:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobStatus_Succeeded,
 170:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobStatus_Rejected,      /* Not possible today using the "get next job" feature. FUTURE! */
 171:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eJobStatus_FailedWithVal, /* This shows 2 numeric reason codes. */
 172:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eNumJobStatusMappings
 173:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_JobStatus_t;
 174:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 175:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* We map all of the above status cases to one of these 4 status strings.
 176:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * These are the only strings that are supported by the Job Service. You
 177:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * shall not change them to arbitrary strings or the job will not change
 178:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * states.
 179:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * */
 180:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_String_InProgress[] = "IN_PROGRESS";
 181:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_String_Failed[] = "FAILED";
 182:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_String_Succeeded[] = "SUCCEEDED";
 183:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_String_Rejected[] = "REJECTED";
 184:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 185:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char * pcOTA_JobStatus_Strings[ eNumJobStatusMappings ] =
 186:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 187:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     cOTA_String_InProgress,
 188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     cOTA_String_Failed,
 189:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     cOTA_String_Succeeded,
 190:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     cOTA_String_Rejected,
 191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     cOTA_String_Failed, /* eJobStatus_FailedWithVal */
 192:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** };
 193:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 194:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 195:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_DOC_MODEL_MAX_PARAMS    32U                    /* The parameter list is backed by a 32 
 196:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_JOB_PARAM_REQUIRED      ( ( bool_t ) pdTRUE )  /* Used to denote a required document mo
 197:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_JOB_PARAM_OPTIONAL      ( ( bool_t ) pdFALSE ) /* Used to denote an optional document m
 198:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** #define OTA_DONT_STORE_PARAM        0xffffffffUL           /* If ulDestOffset in the model is 0xfff
 199:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 200:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This union allows us to access document model parameter addresses as their
 201:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * actual type without casting every time we access a parameter. */
 202:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 203:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef union MultiParmPtr
 204:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 205:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char ** ppcPtr;
 206:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     const char ** ppcConstPtr;
 207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t * pulPtr;
 208:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulVal;
 209:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t * pxBoolPtr;
 210:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     Sig256_t ** ppxSig256Ptr;
 211:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     void ** ppvPtr;
 212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } MultiParmPtr_t;
 213:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 214:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 215:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* OTA job document parser error codes. */
 216:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 217:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef enum
 218:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 219:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_Unknown = -1,        /* The error code has not yet been set by a logic path. *
 220:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_None = 0,            /* Signifies no error has occurred. */
 221:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_BusyWithExistingJob, /* We're busy with a job but received a new job document.
 222:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_NullJob,             /* A null job was reported (no job ID). */
 223:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_BusyWithSameJob,     /* We're already busy with the reported job ID. */
 224:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_ZeroFileSize,        /* Job document specified a zero sized file. This is not 
 225:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_NonConformingJobDoc, /* The job document failed to fulfill the model requireme
 226:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_BadModelInitParams,  /* There was an invalid initialization parameter used in 
 227:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eOTA_JobParseErr_NoContextAvailable   /* There wasn't an OTA context available. */
 228:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_JobParseErr_t;
 229:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 230:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 231:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /*lint -e830 -e9003 Keep these in one location for easy discovery should they change in the future.
 232:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Topic strings used by the OTA process. */
 233:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* These first few are topic extensions to the dynamic base topic that includes the Thing name. */
 234:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobsGetNextAccepted_TopicTemplate[] = "$aws/things/%s/jobs/$next/get/accepte
 235:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobsNotifyNext_TopicTemplate[] = "$aws/things/%s/jobs/notify-next";
 236:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobsGetNext_TopicTemplate[] = "$aws/things/%s/jobs/$next/get";
 237:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_TopicTemplate[] = "$aws/things/%s/jobs/%s/update";
 238:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_StreamData_TopicTemplate[] = "$aws/things/%s/streams/%s/data/cbor";
 239:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_GetStream_TopicTemplate[] = "$aws/things/%s/streams/%s/get/cbor";
 240:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_GetNextJob_MsgTemplate[] = "{\"clientToken\":\"%u:%s\"}";
 241:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_StatusTemplate[] = "{\"status\":\"%s\",\"statusDetails\":{";
 242:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_ReceiveDetailsTemplate[] = "\"%s\":\"%u/%u\"}}";
 243:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_SelfTestDetailsTemplate[] = "\"%s\":\"%s\",\"" OTA_JSON_UPDATED_BY
 244:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_ReasonStrTemplate[] = "\"reason\":\"%s: 0x%08x\"}}";
 245:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_SucceededStrTemplate[] = "\"reason\":\"%s v%u.%u.%u\"}}";
 246:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_JobStatus_ReasonValTemplate[] = "\"reason\":\"0x%08x: 0x%08x\"}}";
 247:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static const char cOTA_String_Receive[] = "receive";
 248:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 249:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Flag for self-test mode. */
 250:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t xInSelfTest = false;
 251:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 252:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Test a null terminated string against a JSON string of known length and return whether
 253:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * it is the same or not. */
 254:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 255:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** bool_t JSON_IsCStringEqual( const char * pcJSONString,
 256:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             uint32_t ulLen,
 257:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             const char * pcCString );
 258:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 259:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* OTA agent private function prototypes. */
 260:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 261:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvOTAUpdateTask( void * pvUnused );
 262:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 263:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Start a timer to kick-off the OTA update request. Pass it the OTA file context. */
 264:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 265:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStartRequestTimer( OTA_FileContext_t * C );
 266:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 267:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Stop the OTA update request timer. */
 268:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 269:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStopRequestTimer( OTA_FileContext_t * C );
 270:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 271:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This is the OTA update request timer callback action (upon timeout). */
 272:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 273:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvRequestTimer_Callback( TimerHandle_t T );
 274:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 275:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Stop the OTA self test timer if it is running. */
 276:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 277:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStopSelfTestTimer( void );
 278:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 279:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Start the self test timer if we're in self test mode. */
 280:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 281:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static BaseType_t OTA_CheckForSelfTest( void );
 282:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* When the self test response timer expires, reset the device since we're likely broken. */
 284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 285:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvSelfTestTimer_Callback( TimerHandle_t T );
 286:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 287:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Subscribe to the jobs notification topic (i.e. New file version available). */
 288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 289:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvSubscribeToJobNotificationTopics( void );
 290:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 291:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* UnSubscribe from the jobs notification topic. */
 292:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 293:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvUnSubscribeFromJobNotificationTopic( void );
 294:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Subscribe to the firmware update receive topic. */
 296:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 297:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvSubscribeToDataStream( OTA_FileContext_t * C );
 298:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 299:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* UnSubscribe from the firmware update receive topic. */
 300:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 301:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvUnSubscribeFromDataStream( OTA_FileContext_t * C );
 302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 303:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Publish a message using the platforms PubSub mechanism. */
 304:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 305:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static MQTTAgentReturnCode_t prvPublishMessage( void * pvClient,
 306:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 const char * const pcTopic,
 307:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint16_t usTopicLen,
 308:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 char * pcMsg,
 309:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulMsgSize,
 310:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 MQTTQoS_t eQOS );
 311:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 312:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Called when the OTA agent receives a file data block message. */
 313:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 314:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static IngestResult_t prvIngestDataBlock( OTA_FileContext_t * C,
 315:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           const char * pcRawMsg,
 316:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           uint32_t ulMsgSize,
 317:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           OTA_Err_t * pxCloseResult );
 318:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 319:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Called when the OTA agent receives an OTA version message. */
 320:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 321:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvProcessOTAJobMsg( const char * pcRawMsg,
 322:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulMsgLen );
 323:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 324:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Get an available OTA file context structure or NULL if none available. */
 325:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 326:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvGetFreeContext( void );
 327:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 328:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Parse a JSON document using the specified document model. */
 329:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 330:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvParseJSONbyModel( const char * pcJSON,
 331:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           uint32_t ulMsgLen,
 332:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           JSON_DocModel_t * pxDocModel );
 333:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 334:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Parse the OTA job document, validate and return the populated OTA context if valid. */
 335:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 336:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvParseJobDoc( const char * pcJSON,
 337:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                            uint32_t ulMsgLen );
 338:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Close an open OTA file context and free it. */
 340:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvOTA_Close( OTA_FileContext_t * const C );
 342:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 343:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Called when a MQTT message is received on an OTA agent topic of interest. */
 344:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 345:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static MQTTBool_t prvOTAPublishCallback( void * pvCallbackContext,
 346:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          const MQTTPublishData_t * const pxPublishData );
 347:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 348:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Update the job status topic with our progress of the OTA transfer. */
 349:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 350:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvUpdateJobStatus( OTA_FileContext_t * C,
 351:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_JobStatus_t eStatus,
 352:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 int32_t lReason,
 353:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 int32_t lSubReason );
 354:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 355:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Construct the "Get Stream" message and publish it to the stream service request topic. */
 356:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 357:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvPublishGetStreamMessage( OTA_FileContext_t * C );
 358:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 359:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Internal function to set the image state including an optional reason code. */
 360:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 361:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvSetImageStateWithReason( OTA_ImageState_t eState,
 362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                              uint32_t ulReason );
 363:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 364:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* The default OTA callback handler if not provided to OTA_AgentInit(). */
 365:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 366:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvDefaultOTACompleteCallback( OTA_JobEvent_t eEvent );
 367:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 368:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* A helper function to cleanup resources during OTA agent shutdown. */
 369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 370:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvAgentShutdownCleanup( OTA_PubMsg_t * pxMsgMetaData );
 371:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 372:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Search the document model for a key that matches the specified JSON key. */
 373:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 374:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvSearchModelForTokenKey( JSON_DocModel_t * pxDocModel,
 375:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 const char * pcJSONString,
 376:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulStrLen,
 377:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint16_t * pusMatchingIndexResult );
 378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 379:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Prepare the document model for use by sanity checking the initialization parameters
 380:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * and detecting all required parameters. */
 381:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 382:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvInitDocModel( JSON_DocModel_t * pxDocModel,
 383:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       const JSON_DocParam_t * pxBodyDef,
 384:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint32_t ulContextBaseAddr,
 385:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint32_t ulContextSize,
 386:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint16_t usNumJobParams );
 387:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 388:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Attempt to force reset the device. Normally called by the agent when a self test rejects the upd
 389:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 390:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvResetDevice( void );
 391:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 392:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Check if the platform is in self-test. */
 393:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 394:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvInSelftest( void );
 395:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 396:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This is the OTA statistics structure to hold useful info. */
 397:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 398:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef struct ota_agent_statistics
 399:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 400:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulOTA_PacketsReceived;  /* Number of OTA packets received by the MQTT callback. */
 401:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulOTA_PacketsQueued;    /* Number of OTA packets queued by the MQTT callback. */
 402:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulOTA_PacketsProcessed; /* Number of OTA packets processed by the OTA task. */
 403:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulOTA_PacketsDropped;   /* Number of OTA packets dropped due to congestion. */
 404:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulOTA_PublishFailures;  /* Number of MQTT publish failures. */
 405:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_AgentStatistics_t;
 406:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 407:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* The OTA agent is a singleton today. The structure keeps it nice and organized. */
 408:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 409:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** typedef struct ota_agent_context
 410:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 411:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_State_t eState;                                     /* State of the OTA agent. */
 412:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint8_t ucThingName[ otaconfigMAX_THINGNAME_LEN + 1U ]; /* Thing name + zero terminator. */
 413:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     void * pvPubSubClient;                                  /* The current publish/subscribe client
 414:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t xOTA_Files[ OTA_MAX_FILES ];          /* Static array of OTA file structures.
 415:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     EventGroupHandle_t xOTA_EventFlags;                     /* Event group for communicating with t
 416:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     pxOTACompleteCallback_t xOTAJobCompleteCallback;        /* The user level function to call afte
 417:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint8_t * pucOTA_Singleton_ActiveJobName;               /* The currently active job name. We on
 418:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint8_t * pucClientTokenFromJob;                        /* The clientToken field from the lates
 419:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     TimerHandle_t xSelfTestTimer;                           /* The self test response expected time
 420:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_ImageState_t eImageState;                           /* The current OTA image state as set b
 421:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     QueueHandle_t xOTA_MsgQ;                                /* Used to pass MQTT messages to the OT
 422:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_AgentStatistics_t xStatistics;                      /* The OTA agent statistics block. */
 423:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** } OTA_AgentContext_t;
 424:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 425:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 426:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This is THE OTA agent context and initialization state. */
 427:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 428:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_AgentContext_t xOTA_Agent =
 429:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .eState                         = eOTA_AgentState_NotReady,
 431:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .ucThingName                    = { 0 },
 432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .pvPubSubClient                 = NULL,
 433:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xOTA_Files                     = { { 0 } }, /*lint !e910 !e9080 Zero initialization of all mem
 434:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xOTA_EventFlags                = NULL,
 435:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xOTAJobCompleteCallback        = NULL,
 436:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .pucOTA_Singleton_ActiveJobName = NULL,
 437:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .pucClientTokenFromJob          = NULL,
 438:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xSelfTestTimer                 = NULL,
 439:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .eImageState                    = eOTA_ImageState_Unknown,
 440:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xOTA_MsgQ                      = NULL,
 441:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     .xStatistics                    = { 0 },
 442:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** };
 443:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 444:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 445:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This is the default OTA callback handler if the user does not provide
 446:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * one. It will do the basic activation and commit of accepted images.
 447:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
 448:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * The OTA agent has completed the update job or determined we're in self
 449:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * test mode. If the update was accepted, we want to activate the new image
 450:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * by resetting the device to boot the new firmware.  If now is not a good
 451:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * time to reset the device, the user should have registered their own
 452:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * callback function instead of this default callback to allow user level
 453:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * self tests and a user scheduled reset.
 454:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * If the update was rejected, just return without doing anything and we'll
 455:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * wait for another job. If it reported that we're in self test mode, we've
 456:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * already successfully connected to the AWS IoT broker and received the
 457:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * latest job so go ahead and set the image as accepted since there is no
 458:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * additional user level tests to run.
 459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 460:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvDefaultOTACompleteCallback( OTA_JobEvent_t eEvent )
 461:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 462:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvDefaultOTACompleteCallback" );
 463:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 464:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
 465:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( eEvent == eOTA_JobEvent_Activate )
 467:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 468:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Received eOTA_JobEvent_Activate callback from OTA Agent.\r\n", OTA_METHOD
 469:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) OTA_ActivateNewImage();
 470:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 471:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( eEvent == eOTA_JobEvent_Fail )
 472:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 473:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Received eOTA_JobEvent_Fail callback from OTA Agent.\r\n", OTA_METHOD_NAM
 474:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Nothing special to do. The OTA agent handles it. */
 475:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 476:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( eEvent == eOTA_JobEvent_StartTest )
 477:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 478:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Accept the image since it was a good transfer
 479:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****          * and networking and services are all working.
 480:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****          */
 481:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Received eOTA_JobEvent_StartTest callback from OTA Agent.\r\n", OTA_METHO
 482:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xErr = OTA_SetImageState( eOTA_ImageState_Accepted );
 483:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 484:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xErr != kOTA_Err_None )
 485:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 486:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Error! Failed to set image state.\r\n", OTA_METHOD_NAME );
 487:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 488:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 489:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 490:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Received invalid job event %d from OTA Agent.\r\n", OTA_METHOD_NAME, eEve
 492:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 494:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 495:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 496:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Public API to initialize the OTA Agent.
 497:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
 498:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * If the Application calls OTA_AgentInit() after it is already initialized, we will
 499:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * only reset the statistics counters and set the job complete callback but will not
 500:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * modify the existing OTA agent context. You must first call OTA_AgentShutdown()
 501:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * successfully.
 502:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 503:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 504:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_State_t OTA_AgentInit( void * pvClient,
 505:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                            const uint8_t * pucThingName,
 506:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                            pxOTACompleteCallback_t xFunc,
 507:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                            TickType_t xTicksToWait )
 508:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 509:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_AgentInit" );
 510:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 511:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static TaskHandle_t xOTA_TaskHandle;
 512:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 513:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulIndex;
 514:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xReturn = 0;
 515:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 516:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* The actual OTA queue control structure. Only created once. */
 517:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static StaticQueue_t xStaticQueue;
 518:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 519:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* The array to use as the queue's data area. This is an array of
 520:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * OTA MQTT message data structures (OTA_PubMsg_t metadata).
 521:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * Also only created once. */
 522:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static OTA_PubMsg_t xQueueData[ OTA_NUM_MSG_Q_ENTRIES ];
 523:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 524:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Set the function to be called after an OTA job is complete or starting test mode. */
 525:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xFunc == NULL )
 526:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 527:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* If the caller didn't supply a callback function, provide a default handler. */
 528:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xOTAJobCompleteCallback = prvDefaultOTACompleteCallback;
 529:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 530:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 531:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 532:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xOTAJobCompleteCallback = xFunc;
 533:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 534:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 535:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Reset our statistics counters. */
 536:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsReceived = 0;
 537:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsDropped = 0;
 538:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsQueued = 0;
 539:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsProcessed = 0;
 540:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PublishFailures = 0;
 541:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 542:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pucThingName != NULL )
 543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 544:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         uint32_t ulStrLen = strlen( ( const char * ) pucThingName );
 545:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 546:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( ulStrLen <= otaconfigMAX_THINGNAME_LEN )
 547:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 548:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Store the Thing name to be used for topics later. */
 549:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             memcpy( xOTA_Agent.ucThingName, pucThingName, ulStrLen + 1UL ); /* Include zero termina
 550:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 551:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 552:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         portENTER_CRITICAL();
 553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 554:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xOTA_Agent.eState == eOTA_AgentState_NotReady )
 555:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 556:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.eImageState = eOTA_ImageState_Unknown; /* The current OTA image state as set
 557:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.pvPubSubClient = pvClient;             /* Save the current pub/sub client as
 558:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 559:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Create the queue used to pass MQTT publish messages to the OTA task. */
 560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.xOTA_MsgQ = xQueueCreateStatic( ( UBaseType_t ) OTA_NUM_MSG_Q_ENTRIES, ( UBa
 561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             configASSERT( xOTA_Agent.xOTA_MsgQ );
 562:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 563:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             for( ulIndex = 0; ulIndex < OTA_MAX_FILES; ulIndex++ )
 564:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 565:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.xOTA_Files[ ulIndex ].pucFilePath = NULL;
 566:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 567:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xReturn = xTaskCreate( prvOTAUpdateTask, "OTA Task", otaconfigSTACK_SIZE, NULL, otaconf
 569:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             portEXIT_CRITICAL(); /* Protected elements are initialized. It's now safe to context sw
 570:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( xReturn == pdPASS )
 572:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 573:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Wait for the OTA agent to be ready if requested. */
 574:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 while( ( xTicksToWait-- > 0U ) && ( xOTA_Agent.eState != eOTA_AgentState_Ready ) )
 575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 576:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     vTaskDelay( 1 );
 577:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 578:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 579:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
 580:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 581:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Task creation failed so fall through to exit. */
 582:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 583:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 584:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
 585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             portEXIT_CRITICAL();
 587:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 588:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 589:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 590:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.eState == eOTA_AgentState_Ready )
 591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 592:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Ready.\r\n", OTA_METHOD_NAME );
 593:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 594:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 596:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Failed to start. OTA Task:%08x  Queue:%08x\r\n", OTA_METHOD_NAME, xReturn
 597:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 598:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 599:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eState; /* Return status of agent. */
 600:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 602:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 603:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 604:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Public API to shutdown the OTA process. */
 605:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 606:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_State_t OTA_AgentShutdown( TickType_t xTicksToWait )
 607:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 608:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_AgentShutdown" );
 609:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 610:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L2( "[%s] Start: %u ticks\r\n", OTA_METHOD_NAME, xTicksToWait );
 611:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( xOTA_Agent.eState != eOTA_AgentState_NotReady ) && ( xOTA_Agent.eState != eOTA_AgentState
 613:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 614:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_SHUTDOWN );
 615:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Wait for the OTA agent to complete shutdown, if requested. */
 617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         while( ( xTicksToWait > 0U ) && ( xOTA_Agent.eState != eOTA_AgentState_NotReady ) )
 618:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vTaskDelay( 1 );
 620:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTicksToWait--;
 621:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 622:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 623:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 624:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 625:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Nothing to do: Already in state %u\r\n", OTA_METHOD_NAME, xOTA_Agent.eSta
 626:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 627:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 628:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L2( "[%s] End: %u ticks\r\n", OTA_METHOD_NAME, xTicksToWait );
 629:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eState;
 630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 631:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 632:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 633:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Return the current state of the OTA agent. */
 634:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 635:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_State_t OTA_GetAgentState( void )
 636:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 637:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eState;
 638:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 639:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 640:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** uint32_t OTA_GetPacketsDropped( void )
 641:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 642:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsDropped;
 643:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 644:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 645:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** uint32_t OTA_GetPacketsQueued( void )
 646:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 647:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsQueued;
 648:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 649:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 650:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** uint32_t OTA_GetPacketsProcessed( void )
 651:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 652:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsProcessed;
 653:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 654:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 655:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** uint32_t OTA_GetPacketsReceived( void )
 656:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 657:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsReceived;
 658:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 659:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 660:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Request for the next available OTA job from the job service by publishing
 661:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * a "get next job" message to the job service. */
 662:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 663:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_Err_t OTA_CheckForUpdate( void )
 664:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 665:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_CheckForUpdate" );
 666:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cJobTopic[ OTA_MAX_TOPIC_LEN ];
 668:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static uint32_t ulReqCounter = 0;
 669:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentReturnCode_t eResult;
 670:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulMsgLen;
 671:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint16_t usTopicLen;
 672:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xError = kOTA_Err_Uninitialized;
 673:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 674:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* The following buffer is big enough to hold a dynamically constructed $next/get job message.
 675:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * It contains a client token that is used to track how many requests have been made. */
 676:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cMsg[ CONST_STRLEN( cOTA_GetNextJob_MsgTemplate ) + U32_MAX_PLACES + otaconfigMAX_THINGNAM
 677:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Request #%u\r\n", OTA_METHOD_NAME, ulReqCounter );
 679:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /*lint -e586 Intentionally using snprintf. */
 680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ulMsgLen = ( uint32_t ) snprintf( cMsg,
 681:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       sizeof( cMsg ),
 682:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       cOTA_GetNextJob_MsgTemplate,
 683:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       ulReqCounter,
 684:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       xOTA_Agent.ucThingName );
 685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ulReqCounter++;
 686:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     usTopicLen = ( uint16_t ) snprintf( cJobTopic,
 687:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         sizeof( cJobTopic ),
 688:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         cOTA_JobsGetNext_TopicTemplate,
 689:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         xOTA_Agent.ucThingName );
 690:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 691:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( usTopicLen > 0U ) && ( usTopicLen < sizeof( cJobTopic ) ) )
 692:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 693:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eResult = prvPublishMessage(
 694:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.pvPubSubClient,
 695:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             cJobTopic,
 696:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             usTopicLen,
 697:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             cMsg,
 698:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulMsgLen,
 699:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eMQTTQoS1 );
 700:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 701:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( eResult != eMQTTAgentSuccess )
 702:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 703:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Failed to publish MQTT message.\r\n", OTA_METHOD_NAME );
 704:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xError = kOTA_Err_PublishFailed;
 705:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 706:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
 707:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 708:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Nothing special to do. We succeeded. */
 709:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xError = kOTA_Err_None;
 710:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 711:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 712:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 713:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 714:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Topic too large for supplied buffer.\r\n", OTA_METHOD_NAME );
 715:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xError = kOTA_Err_TopicTooLarge;
 716:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 717:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xError;
 719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 720:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 721:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Clean up after the OTA process is done. Possibly free memory for re-use. */
 723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 724:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvAgentShutdownCleanup( OTA_PubMsg_t * pxMsgMetaData )
 725:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 726:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvAgentShutdownCleanup" );
 727:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulIndex;
 728:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 729:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.eState = eOTA_AgentState_ShuttingDown;
 730:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Stop and delete any existing self test timer. */
 732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.xSelfTestTimer != NULL )
 733:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 734:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xTimerStop( xOTA_Agent.xSelfTestTimer, 0 );
 735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xTimerDelete( xOTA_Agent.xSelfTestTimer, 0 );
 736:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xSelfTestTimer = NULL;
 737:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 738:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 739:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Don't remain subscribed to the OTA job notification topic since we're shutting down. */
 740:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     prvUnSubscribeFromJobNotificationTopic();
 741:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 742:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Close any open OTA transfers. */
 743:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     for( ulIndex = 0; ulIndex < OTA_MAX_FILES; ulIndex++ )
 744:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 745:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( prvOTA_Close( &xOTA_Agent.xOTA_Files[ ulIndex ] ) == ( bool_t ) pdFALSE )
 746:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 747:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Error! OTA_FileContext_t[%u] pointer is null.\r\n", OTA_METHOD_NAME, 
 748:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 749:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 750:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 751:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Free any remaining string memory holding the job name. */
 752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.pucOTA_Singleton_ActiveJobName != NULL )
 753:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 754:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         vPortFree( xOTA_Agent.pucOTA_Singleton_ActiveJobName );
 755:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 756:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 757:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 758:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* If there are any queued OTA messages from MQTT, give the buffers back to MQTT for re-use. */
 759:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pxMsgMetaData != NULL )
 760:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 761:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxMsgMetaData->xPubData.xBuffer = NULL; /* Reset the buffer pointer before we get a real on
 762:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 763:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xOTA_Agent.xOTA_MsgQ != NULL )
 764:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 765:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             while( xQueueReceive( xOTA_Agent.xOTA_MsgQ, pxMsgMetaData, 0 ) != pdFALSE )
 766:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 767:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.xStatistics.ulOTA_PacketsDropped++;
 768:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 769:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Return the MQTT buffer to the agent. */
 770:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( MQTT_AGENT_ReturnBuffer( xOTA_Agent.pvPubSubClient, pxMsgMetaData->xPubData.x
 771:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 772:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L2( "[%s] Returned buffer to MQTT Client.\r\n", OTA_METHOD_NAME );
 773:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 774:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
 775:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 776:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] MQTT_AGENT_ReturnBuffer() failed.\r\n", OTA_METHOD_NAME );
 777:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     break;
 778:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 779:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 780:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 781:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
 782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Attempt to flush MQTT messages from a null queue pointer.\r\n", OTA_M
 784:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 785:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 786:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 787:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 788:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Attempt to flush MQTT messages without a storage buffer.\r\n", OTA_METHOD
 789:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 790:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 791:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 792:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 793:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This should be called by the user application or the default OTA callback handler
 794:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * after an OTA update is considered accepted. It simply calls the platform specific
 795:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * code required to activate the received OTA update (usually just a device reset).
 796:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 797:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_Err_t OTA_ActivateNewImage( void )
 798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 799:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_ActivateNewImage" );
 800:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 801:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr;
 802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 803:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Call platform specific code to activate the image. This should reset the device
 804:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * and not return unless there is a problem within the PAL layer. If it does return,
 805:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * output an error message. The device may need to be reset manually. */
 806:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xErr = prvPAL_ActivateNewImage();
 807:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Failed to activate new image (0x%08x). Please reset manually.\r\n", OTA_METHO
 808:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 809:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 810:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 811:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 812:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This is a private function only meant to be called by the OTA agent after the
 813:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * currently running image that is in the self test phase rejects the update.
 814:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * It simply calls the platform specific code required to reset the device.
 815:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 816:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvResetDevice( void )
 817:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 818:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvResetDevice" );
 819:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 820:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr;
 821:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 822:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Call platform specific code to reset the device. This should not return unless
 823:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * there is a problem within the PAL layer. If it does return, output an error
 824:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * message. The device may need to be reset manually. */
 825:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Attempting forced reset of device...\r\n", OTA_METHOD_NAME );
 826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xErr = prvPAL_ResetDevice();
 827:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Failed to reset the device (0x%08x). Please reset manually.\r\n", OTA_METHOD_
 828:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 829:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 830:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 831:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /*
 832:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * This is a private function which checks if the platform is in self-test.
 833:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 834:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvInSelftest( void )
 835:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 836:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xSelfTest = false;
 837:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( prvPAL_GetPlatformImageState() == eOTA_PAL_ImageState_PendingCommit )
 839:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 840:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xSelfTest = true;
 841:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 842:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 843:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xSelfTest;
 844:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 845:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 846:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 847:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Accept, reject or abort the OTA image transfer.
 848:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
 849:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * If accepting or rejecting an image transfer, this API
 850:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * will set the OTA image state and update the job status
 851:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * appropriately.
 852:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * If aborting a transfer, it will trigger the OTA task to
 853:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * abort via an RTOS event asynchronously and therefore do
 854:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * not set the image state here.
 855:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
 856:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * NOTE: This call may block due to the status update message.
 857:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
 858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 859:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_Err_t OTA_SetImageState( OTA_ImageState_t eState )
 860:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 861:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_SetImageState" );
 862:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 863:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
 864:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 865:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     switch( eState )
 866:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 867:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         case eOTA_ImageState_Aborted:
 868:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 869:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( xOTA_Agent.xOTA_EventFlags != NULL )
 870:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 871:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_USER_ABORT );
 872:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_None;
 873:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* xOTA_Agent.eImageState will be set later when the event is processed. */
 874:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 875:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
 876:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 877:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] FW Error! Missing event flag variable.\r\n", OTA_METHOD_NAME );
 878:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_Panic;
 879:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 880:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 881:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 882:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 883:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         case eOTA_ImageState_Rejected:
 884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = prvSetImageStateWithReason( eState, ( uint32_t ) NULL );
 885:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 886:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 887:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         case eOTA_ImageState_Accepted:
 888:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = prvSetImageStateWithReason( eState, ( uint32_t ) NULL );
 889:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( xErr == kOTA_Err_None )
 891:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 892:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Reset the self-test flag.*/
 893:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xInSelfTest = false;
 894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 895:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 896:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 897:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 898:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         default: /*lint -e788 Keep lint quiet about the obvious unused states we're catching here. 
 899:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = kOTA_Err_BadImageState;
 900:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 901:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 902:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 903:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 904:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 905:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 906:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 907:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** OTA_ImageState_t OTA_GetImageState( void )
 908:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 909:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eImageState;
 910:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 911:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 912:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 913:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvSetImageStateWithReason( OTA_ImageState_t eState,
 914:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                              uint32_t ulReason )
 915:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 916:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
 917:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( eState > eOTA_ImageState_Unknown ) && ( eState <= eOTA_LastImageState ) )
 919:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 920:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Call the platform specific code to set the image state. */
 921:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xErr = prvPAL_SetPlatformImageState( eState );
 922:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 923:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* If the platform image state couldn't be set correctly, force fail the update. */
 924:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xErr != kOTA_Err_None )
 925:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 926:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Maintain Aborted since it's also a failed OTA and we want the initial failure type. 
 927:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( eState != eOTA_ImageState_Aborted )
 928:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 929:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eState = eOTA_ImageState_Rejected; /*lint !e9044 intentionally override eState sinc
 930:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ulReason == kOTA_Err_None )
 932:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 933:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Capture the failure reason if not already set (and we're not already Aborted
 934:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulReason = ( uint32_t ) xErr; /*lint !e9044 intentionally override lReason sinc
 935:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 936:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
 937:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 938:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Keep the original reject reason code since it is possible for the PAL
 939:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                      * to fail to update the image state in some cases (e.g. a reset already
 940:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                      * caused the bundle rollback and we failed to rollback again). */
 941:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 942:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 943:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
 944:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 945:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* If it was aborted, keep the original abort reason code. That's more useful
 946:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * to the OTA operator. */
 947:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 948:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 949:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 950:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.eImageState = eState;
 951:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 952:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xOTA_Agent.pucOTA_Singleton_ActiveJobName != NULL )
 953:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( eState == eOTA_ImageState_Testing )
 955:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {   /* We discovered we're ready for test mode, put job status in self_test active. */
 956:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvUpdateJobStatus( NULL, eJobStatus_InProgress, ( int32_t ) eJobReason_SelfTestAct
 957:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 958:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
 959:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 960:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( eState == eOTA_ImageState_Accepted )
 961:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {   /* Now that we've accepted the firmware update, we can complete the job. */
 962:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     prvStopSelfTestTimer();
 963:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     prvUpdateJobStatus( NULL, eJobStatus_Succeeded, ( int32_t ) eJobReason_Accepted
 964:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 965:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else if( eState == eOTA_ImageState_Rejected )
 966:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 967:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* The firmware update was rejected, complete the job as FAILED (Job service
 968:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                      * doesn't allow us to set REJECTED after the job has been started already). */
 969:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     prvUpdateJobStatus( NULL, eJobStatus_Failed, ( int32_t ) eJobReason_Rejected, (
 970:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 971:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else /* All other states have been checked so it must be ABORTED. */
 972:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 { /* Complete the job as FAILED. */
 973:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     prvUpdateJobStatus( NULL, eJobStatus_Failed, ( int32_t ) eJobReason_Aborted, ( 
 974:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 975:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 976:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* We don't need the job name memory anymore since we're done with this job. */
 977:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 vPortFree( xOTA_Agent.pucOTA_Singleton_ActiveJobName );
 978:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 979:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 980:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 981:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = kOTA_Err_None;
 982:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 983:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
 984:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 985:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = kOTA_Err_NoActiveJob;
 986:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 987:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 988:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
 989:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 990:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xErr = kOTA_Err_BadImageState;
 991:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 992:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 993:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 994:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 995:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 996:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 997:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 998:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Update the job status on the service side with progress or completion info. */
 999:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1000:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvUpdateJobStatus( OTA_FileContext_t * C,
1001:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_JobStatus_t eStatus,
1002:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 int32_t lReason,
1003:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 int32_t lSubReason )
1004:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1005:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUpdateJobStatus" );
1006:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1007:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulTopicLen, ulNumBlocks, ulReceived, ulMsgSize;
1008:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentReturnCode_t eResult;
1009:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTQoS_t eQOS;
1010:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cMsg[ OTA_STATUS_MSG_MAX_SIZE ];
1011:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cTopicBuffer[ OTA_MAX_TOPIC_LEN ];
1012:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1013:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* All job state transitions except streaming progress use QOS 1 since it is required to have s
1014:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eQOS = eMQTTQoS1;
1015:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1016:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* A message size of zero means don't publish anything. */
1017:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ulMsgSize = 0UL;
1018:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1019:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( eStatus == eJobStatus_InProgress )
1020:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1021:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( lReason == ( int32_t ) eJobReason_Receiving )
1022:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1023:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( C != NULL )
1024:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1025:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulNumBlocks = ( C->ulFileSize + ( OTA_FILE_BLOCK_SIZE - 1U ) ) >> otaconfigLOG2_FIL
1026:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulReceived = ulNumBlocks - C->ulBlocksRemaining;
1027:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1028:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( ulReceived % OTA_UPDATE_STATUS_FREQUENCY ) == 0U ) /* Output a status update 
1029:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1030:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Downgrade Progress updates to QOS 0 to avoid overloading MQTT buffers during
1031:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eQOS = eMQTTQoS0;
1032:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulMsgSize = ( uint32_t ) snprintf( cMsg, /*lint -e586 Intentionally using snpri
1033:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        sizeof( cMsg ),
1034:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        cOTA_JobStatus_StatusTemplate,
1035:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        pcOTA_JobStatus_Strings[ eStatus ] );
1036:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulMsgSize += ( uint32_t ) snprintf( &cMsg[ ulMsgSize ], /*lint -e586 Intentiona
1037:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         sizeof( cMsg ) - ulMsgSize,
1038:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         cOTA_JobStatus_ReceiveDetailsTemplate,
1039:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         cOTA_String_Receive,
1040:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         ulReceived,
1041:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         ulNumBlocks );
1042:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1043:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
1044:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {   /* Don't send a status update yet. */
1045:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulMsgSize = 0UL;
1046:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1047:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1048:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1049:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1050:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Can't send a status update without data from the OTA context. Some calls intenti
1051:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * don't use a context structure but never with this reason code so log this error.
1052:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Error: null context pointer!\r\n", OTA_METHOD_NAME );
1053:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize = 0UL;
1054:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1055:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1056:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1057:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1058:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* We're no longer receiving but we're still In Progress so we are implicitly in the Se
1059:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * Test phase. Prepare to update the job status with the self_test phase (ready or acti
1060:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulMsgSize = ( uint32_t ) snprintf( cMsg, /*lint -e586 Intentionally using snprintf. */
1061:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
1062:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                cOTA_JobStatus_StatusTemplate,
1063:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                pcOTA_JobStatus_Strings[ eStatus ] );
1064:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulMsgSize += ( uint32_t ) snprintf( &cMsg[ ulMsgSize ], /*lint -e586 Intentionally usin
1065:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 sizeof( cMsg ) - ulMsgSize,
1066:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 cOTA_JobStatus_SelfTestDetailsTemplate,
1067:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 cOTA_JSON_SelfTestKey,
1068:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 pcOTA_JobReason_Strings[ lReason ],
1069:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 xAppFirmwareVersion.u.ulVersion32 );
1070:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1071:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1072:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1073:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1074:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( eStatus < eNumJobStatusMappings )
1075:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1076:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Status updates that are NOT "IN PROGRESS" or "SUCCEEDED" map status and reason codes
1077:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * to a string plus a sub-reason code except for FailedWithVal status. FailedWithVal us
1078:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * a numeric OTA error code and sub-reason code to cover the case where there may be to
1079:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * many description strings to reasonably include in the code.
1080:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              */
1081:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulMsgSize = ( uint32_t ) snprintf( cMsg, /*lint -e586 Intentionally using snprintf. */
1082:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
1083:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                cOTA_JobStatus_StatusTemplate,
1084:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                pcOTA_JobStatus_Strings[ eStatus ] );
1085:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1086:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( eStatus == eJobStatus_FailedWithVal )
1087:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1088:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize += ( uint32_t ) snprintf( &cMsg[ ulMsgSize ], /*lint -e586 Intentionally 
1089:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
1090:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     cOTA_JobStatus_ReasonValTemplate,
1091:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     lReason,
1092:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     lSubReason );
1093:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1094:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1095:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If the status update is for "SUCCEEDED," we are identifying the version of firmware
1096:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * that has been accepted. This makes it easy to find the version associated with each
1097:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * device (aka Thing) when examining the OTA jobs on the service side via the CLI or
1098:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * possibly with some console tool.
1099:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              */
1100:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else if( eStatus == eJobStatus_Succeeded )
1101:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1102:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 AppVersion32_t xNewVersion;
1103:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1104:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xNewVersion.u.lVersion32 = lSubReason;
1105:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize += ( uint32_t ) snprintf( &cMsg[ ulMsgSize ], /*lint -e586 Intentionally 
1106:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
1107:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     cOTA_JobStatus_SucceededStrTemplate,
1108:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     pcOTA_JobReason_Strings[ lReason ],
1109:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     xNewVersion.u.x.ucMajor,
1110:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     xNewVersion.u.x.ucMinor,
1111:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     xNewVersion.u.x.usBuild );
1112:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1113:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1114:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize += ( uint32_t ) snprintf( &cMsg[ ulMsgSize ], /*lint -e586 Intentionally 
1116:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
1117:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     cOTA_JobStatus_ReasonStrTemplate,
1118:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     pcOTA_JobReason_Strings[ lReason ],
1119:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     lSubReason );
1120:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1121:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1122:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1123:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {   /* Unknown status code. Just ignore it. */
1124:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulMsgSize = 0UL;
1125:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1126:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1127:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1128:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ulMsgSize > 0UL )
1129:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1130:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Try to build the dynamic job status topic . */
1131:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulTopicLen = ( uint32_t ) snprintf( cTopicBuffer, /*lint -e586 Intentionally using snprintf
1132:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             sizeof( cTopicBuffer ),
1133:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             cOTA_JobStatus_TopicTemplate,
1134:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xOTA_Agent.ucThingName,
1135:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xOTA_Agent.pucOTA_Singleton_ActiveJobName );
1136:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1137:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* If the topic name was built, try to publish the status message to it. */
1138:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( ( ulTopicLen > 0UL ) && ( ulTopicLen < sizeof( cTopicBuffer ) ) )
1139:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1140:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Msg: %s\r\n", OTA_METHOD_NAME, cMsg );
1141:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eResult = prvPublishMessage(
1142:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pvPubSubClient,
1143:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 cTopicBuffer,
1144:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ( uint16_t ) ulTopicLen,
1145:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 &cMsg[ 0 ],
1146:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize,
1147:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eQOS );
1148:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1149:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( eResult != eMQTTAgentSuccess )
1150:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1151:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Failed: %s\r\n", OTA_METHOD_NAME, cTopicBuffer );
1152:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1153:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1154:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1155:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] '%s' to %s\r\n", OTA_METHOD_NAME, pcOTA_JobStatus_Strings[ eStatu
1156:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1157:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1158:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1159:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Failed to build job status topic!\r\n", OTA_METHOD_NAME );
1161:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1162:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1163:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1164:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1165:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Just ignore the zero length message. */
1166:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1168:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1169:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1170:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Construct the "Get Stream" message and publish it to the stream service request topic. */
1171:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1172:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_Err_t prvPublishGetStreamMessage( OTA_FileContext_t * C )
1173:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1174:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvPublishGetStreamMessage" );
1175:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1176:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulMsgSizeToPublish;
1177:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     size_t xMsgSizeFromStream;
1178:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulNumBlocks, ulBitmapLen, ulTopicLen;
1179:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentReturnCode_t eResult;
1180:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_None;
1181:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cMsg[ OTA_REQUEST_MSG_MAX_SIZE ];
1182:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cTopicBuffer[ OTA_MAX_TOPIC_LEN ];
1183:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1184:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C != NULL )
1185:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1186:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->ulRequestMomentum < OTA_MAX_STREAM_REQUEST_MOMENTUM )
1187:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulNumBlocks = ( C->ulFileSize + ( OTA_FILE_BLOCK_SIZE - 1U ) ) >> otaconfigLOG2_FILE_BL
1189:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
1190:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( pdTRUE == OTA_CBOR_Encode_GetStreamRequestMessage(
1192:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( uint8_t * ) cMsg,
1193:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     sizeof( cMsg ),
1194:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     &xMsgSizeFromStream,
1195:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_CLIENT_TOKEN,
1196:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( int32_t ) C->ulServerFileID,
1197:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( int32_t ) ( OTA_FILE_BLOCK_SIZE & 0x7fffffffUL ), /* Mask to keep lint happy.
1198:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     0,
1199:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     C->pucRxBlockBitmap,
1200:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulBitmapLen ) )
1201:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1202:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSizeToPublish = ( uint32_t ) xMsgSizeFromStream;
1203:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1204:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Each Get Stream Request increases the momentum until a response
1205:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * is received to ANY request. Too much momentum is interpreted as
1206:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * a failure to communicate and will cause us to abort the OTA. */
1207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 C->ulRequestMomentum++;
1208:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1209:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Try to build the dynamic data REQUEST topic and subscribe to it. */
1210:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulTopicLen = ( uint32_t ) snprintf( cTopicBuffer, /*lint -e586 Intentionally using 
1211:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cTopicBuffer ),
1212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     cOTA_GetStream_TopicTemplate,
1213:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     xOTA_Agent.ucThingName,
1214:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     ( const char * ) C->pucStreamName );
1215:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1216:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( ulTopicLen > 0U ) && ( ulTopicLen < sizeof( cTopicBuffer ) ) )
1217:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1218:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eResult = prvPublishMessage(
1219:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         xOTA_Agent.pvPubSubClient,
1220:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         cTopicBuffer,
1221:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( uint16_t ) ulTopicLen,
1222:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         &cMsg[ 0 ],
1223:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ulMsgSizeToPublish,
1224:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eMQTTQoS0 );
1225:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1226:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( eResult != eMQTTAgentSuccess )
1227:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1228:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] Failed: %s\r\n", OTA_METHOD_NAME, cTopicBuffer );
1229:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Don't return an error. Let max momentum catch it since this may be inter
1230:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
1231:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
1232:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1233:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] OK: %s\r\n", OTA_METHOD_NAME, cTopicBuffer );
1234:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Restart the request timer to retry if we don't complete the update. */
1235:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         prvStartRequestTimer( C );
1236:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
1237:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1238:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
1239:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1240:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* 0 should never happen since we supply the format strings. It must be overflo
1241:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Failed to build stream topic!\r\n", OTA_METHOD_NAME );
1242:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xErr = kOTA_Err_TopicTooLarge;
1243:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1244:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1245:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1246:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1247:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] CBOR encode failed.\r\n", OTA_METHOD_NAME );
1248:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_FailedToEncodeCBOR;
1249:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1250:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1251:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1252:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1253:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Too many requests have been sent without a response or too many failures
1254:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * when trying to publish the request message. Abort. Store attempt count in low bits. 
1255:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xErr = ( uint32_t ) kOTA_Err_MomentumAbort | ( OTA_MAX_STREAM_REQUEST_MOMENTUM & ( uint
1256:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1257:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1258:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1259:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1260:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Defensive programming. */
1261:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1262:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1263:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
1264:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1265:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1266:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1267:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* This function is called whenever we receive a MQTT publish message on one of our OTA topics. */
1268:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1269:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static MQTTBool_t prvOTAPublishCallback( void * pvCallbackContext,
1270:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          const MQTTPublishData_t * const pxPublishData )
1271:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1272:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME_L2( "prvOTAPublishCallback" );
1273:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1274:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTBool_t xTakeOwnership = eMQTTFalse;
1275:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xReturn;
1276:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_PubMsg_t xMsg;
1277:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1278:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* If we're running the OTA task, send publish messages to it for processing. */
1279:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.xOTA_EventFlags != NULL )
1280:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1281:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xStatistics.ulOTA_PacketsReceived++;
1282:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xMsg.lMsgType = ( int32_t ) pvCallbackContext; /*lint !e923 The context variable is actuall
1283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xMsg.xPubData = *pxPublishData;
1284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xReturn = xQueueSendToBack( xOTA_Agent.xOTA_MsgQ, &xMsg, ( TickType_t ) 0 );
1285:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1286:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xReturn == pdPASS )
1287:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.xStatistics.ulOTA_PacketsQueued++;
1289:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_MSG_READY );
1290:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Take ownership of the MQTT buffer. */
1291:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTakeOwnership = eMQTTTrue;
1292:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1293:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1294:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.xStatistics.ulOTA_PacketsDropped++;
1296:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1297:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1298:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1299:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1300:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* This doesn't normally occur unless we're subscribed to an OTA topic when
1301:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****          * the OTA agent is not initialized. Just drop the message by not taking
1302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****          * ownership since we don't know if we'll ever be able to process it. */
1303:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L2( "[%s] Warning: Received MQTT message but agent isn't ready.\r\n", OTA_METHOD_NA
1304:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xStatistics.ulOTA_PacketsDropped++;
1305:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1306:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1307:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xTakeOwnership;
1308:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1309:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1310:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1311:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* NOTE: This implementation only supports 1 OTA context. Concurrent OTA is not supported. */
1312:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1313:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvOTAUpdateTask( void * pvUnused )
1314:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1315:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvOTAUpdateTask" );
1316:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1317:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     EventBits_t xBits;
1318:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t * pxC = NULL;
1319:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr;
1320:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1321:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ( void ) pvUnused;
1322:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_PubMsg_t xMsgMetaData;
1323:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1324:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Subscribe to the OTA job notification topic. */
1325:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( prvSubscribeToJobNotificationTopics() == ( bool_t ) pdTRUE )
1326:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1327:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xOTA_EventFlags = xEventGroupCreate();
1328:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1329:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xOTA_Agent.xOTA_EventFlags != NULL )
1330:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1331:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Check if the firmware image is in self test mode. If so, enable the self test timer.
1332:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) OTA_CheckForSelfTest();
1333:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1334:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /*Save the self-test mode in a flag. This flag is cleared when self-test is successful.
1335:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xInSelfTest = prvInSelftest();
1336:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1337:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Send a request to the job service for the latest available job. */
1338:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) OTA_CheckForUpdate();
1339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1340:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Put the OTA agent in the ready state. */
1341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.eState = eOTA_AgentState_Ready;
1342:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1343:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             for( ; ; )
1344:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1345:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xBits = xEventGroupWaitBits(
1346:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xOTA_Agent.xOTA_EventFlags, /* The event group being tested. */
1347:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_EVT_MASK_ALL_EVENTS,    /* The bits within the event group to wait for. */
1348:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pdTRUE,                     /* Bits should be cleared before returning. */
1349:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pdFALSE,                    /* Any bit set will do. */
1350:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( TickType_t ) ~( 0U ) );   /* Wait forever. */
1351:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1352:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Check for the shutdown event. */
1353:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( ( uint32_t ) xBits & OTA_EVT_MASK_SHUTDOWN ) != 0U )
1354:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1355:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Received shutdown event.\r\n", OTA_METHOD_NAME );
1356:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     break; /* Break, so we stop all OTA processing. */
1357:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1358:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1359:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Check for a user initiated abort. */
1360:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( ( ( uint32_t ) xBits & OTA_EVT_MASK_USER_ABORT ) != 0U ) && ( pxC != NULL ) )
1361:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Received user abort event.\r\n", OTA_METHOD_NAME );
1363:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, kOTA_Err_UserAbor
1364:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvOTA_Close( pxC ); /* Ignore false result since we're setting the po
1365:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxC = NULL;
1366:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1367:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1368:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* On OTA request timer timeout, publish the stream request if we have context. */
1369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( ( xBits & OTA_EVT_MASK_REQ_TIMEOUT ) != 0U ) && ( pxC != NULL ) )
1370:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1371:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( pxC->ulBlocksRemaining > 0U )
1372:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1373:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         xErr = prvPublishGetStreamMessage( pxC );
1374:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1375:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         if( xErr != kOTA_Err_None )
1376:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {                                 /* Abort the current OTA. */
1377:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, xErr );
1378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             ( void ) prvOTA_Close( pxC ); /* Ignore false result since we're settin
1379:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             pxC = NULL;
1380:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
1381:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
1382:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
1383:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1384:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* If there are no blocks remaining, this may have been in flight when the
1385:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          * last block was received. Just ignore it since it will be cleaned up by
1386:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          * the agent as required. */
1387:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
1388:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1389:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1390:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Check if a MQTT message is ready for us to process. */
1391:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( ( xBits & OTA_EVT_MASK_MSG_READY ) != 0U )
1392:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1393:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xMsgMetaData.xPubData.xBuffer = NULL;
1394:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1395:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( ( xOTA_Agent.eState == eOTA_AgentState_Ready ) || ( xOTA_Agent.eState == eO
1396:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1397:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         while( xQueueReceive( xOTA_Agent.xOTA_MsgQ, &xMsgMetaData, 0 ) != pdFALSE )
1398:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
1399:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             /* Check for OTA update job messages. */
1400:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( xMsgMetaData.eMsgType == eOTA_PubMsgType_Job )
1401:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1402:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( pxC != NULL )
1403:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1404:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, k
1405:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     ( void ) prvOTA_Close( pxC ); /* Abort the existing OTA and ign
1406:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1407:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1408:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 pxC = prvProcessOTAJobMsg( ( const char * ) xMsgMetaData.xPubData.p
1409:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                            xMsgMetaData.xPubData.ulDataLength );
1410:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1411:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* A null context here could either mean we didn't receive a valid 
1412:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  * signify that we're in the self test phase (where the OTA file tr
1413:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  * completed and we've reset the device and are now running the new
1414:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  * will check the state to determine which case we're in. */
1415:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( pxC == NULL )
1416:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1417:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* If the OTA job is in the self_test state, alert the applicat
1418:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     if( OTA_GetImageState() == eOTA_ImageState_Testing )
1419:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1420:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Check the platform's OTA update image state. It should a
1421:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( OTA_CheckForSelfTest() == pdTRUE )
1422:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1423:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xOTA_Agent.xOTAJobCompleteCallback( eOTA_JobEvent_Start
1424:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1425:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else
1426:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1427:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* The job is in self test but the platform image state
1428:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                              * an attack on the platform image state. Reject the up
1429:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                              * cause the image to be erased), aborting the job and 
1430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             OTA_LOG_L1( "[%s] Job in self test but platform state i
1431:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             ( void ) prvSetImageStateWithReason( eOTA_ImageState_Re
1432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             ( void ) prvResetDevice(); /* Ignore return code since 
1433:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1434:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1435:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1436:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else
1437:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1438:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     xOTA_Agent.eState = eOTA_AgentState_Active;
1439:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1440:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
1441:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             /* It's not a job message, maybe it's a data stream message... */
1442:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else if( xMsgMetaData.eMsgType == eOTA_PubMsgType_Stream )
1443:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1444:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Ingest data blocks if the platform is not in self-test. */
1445:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( ( pxC != NULL ) && ( xInSelfTest == false ) )
1446:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1447:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     OTA_Err_t xCloseResult;
1448:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     IngestResult_t xResult = prvIngestDataBlock( pxC,
1449:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                                  ( const char * ) x
1450:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                                  xMsgMetaData.xPubD
1451:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                                  &xCloseResult );
1452:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1453:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     if( xResult < eIngest_Result_Accepted_Continue )
1454:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1455:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Negative result codes mean we should stop the OTA proces
1456:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          * because we are either done or in an unrecoverable error 
1457:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          * We don't want to hang on to the resources. */
1458:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( xResult == eIngest_Result_FileComplete )
1460:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1461:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* File receive is complete and authenticated. Update t
1462:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             prvUpdateJobStatus( pxC, eJobStatus_InProgress, ( int32
1463:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1464:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else
1465:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             OTA_LOG_L1( "[%s] Aborting due to IngestResult_t error 
1467:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Call the platform specific code to reject the image.
1468:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xErr = prvPAL_SetPlatformImageState( eOTA_ImageState_Re
1469:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1470:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             if( xErr != kOTA_Err_None )
1471:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
1472:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L2( "[%s] Error trying to set platform imag
1473:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
1474:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             else
1475:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
1476:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* Nothing special to do on success. */
1477:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
1478:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1479:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             prvUpdateJobStatus( pxC, eJobStatus_FailedWithVal, ( in
1480:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1481:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1482:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Release all remaining resources of the OTA file. */
1483:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         ( void ) prvOTA_Close( pxC ); /* Ignore false result since 
1484:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         pxC = NULL;
1485:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1486:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Let main application know of our result. */
1487:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         xOTA_Agent.xOTAJobCompleteCallback( ( xResult == eIngest_Re
1488:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1489:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Free any remaining string memory holding the job name si
1490:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( xOTA_Agent.pucOTA_Singleton_ActiveJobName != NULL )
1491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1492:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             vPortFree( xOTA_Agent.pucOTA_Singleton_ActiveJobName );
1493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
1494:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1495:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1496:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     else
1497:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {   /* We're actively receiving a file so update the job status
1498:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       /* First reset the momentum counter since we received a good 
1499:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         pxC->ulRequestMomentum = 0;
1500:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         prvUpdateJobStatus( pxC, eJobStatus_InProgress, ( int32_t )
1501:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1502:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1503:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
1504:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
1505:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1506:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Ignore unknown message types. */
1507:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L2( "[%s] Ignoring unknown message type %d.\r\n", OTA_METHO
1508:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
1509:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1510:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( xMsgMetaData.xPubData.xBuffer != NULL )
1511:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1512:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 xOTA_Agent.xStatistics.ulOTA_PacketsProcessed++;
1513:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1514:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Return the MQTT buffer since we're done with it (even if we igno
1515:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( ( MQTT_AGENT_ReturnBuffer( xOTA_Agent.pvPubSubClient, xMsgMetaD
1516:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1517:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     OTA_LOG_L2( "[%s] Returned buffer to MQTT client.\r\n", OTA_MET
1518:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1519:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else
1520:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1521:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     OTA_LOG_L1( "[%s] MQTT_AGENT_ReturnBuffer() failed.\r\n", OTA_M
1522:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     break;
1523:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1524:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
1525:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
1526:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1527:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Safety ignore messages not associated with an MQTT buffer. */
1528:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
1529:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
1530:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
1531:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1532:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1533:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( pxC == NULL )
1534:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {   /* Any event that releases the context structure tells us we're not active anym
1535:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xOTA_Agent.eState = eOTA_AgentState_Ready;
1536:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
1537:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1538:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1539:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If we're here, we're shutting down the OTA agent. Free up all resources and quit. */
1540:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             prvAgentShutdownCleanup( &xMsgMetaData );
1541:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vEventGroupDelete( xOTA_Agent.xOTA_EventFlags );
1542:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1544:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1545:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Clear the entire agent context. This includes the OTA agent state. */
1546:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     memset( &xOTA_Agent, 0, sizeof( xOTA_Agent ) );
1547:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1548:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Reset the image and agent states. Possibly redundant but safer.
1549:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * Finally, self destruct. */
1550:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.eImageState = eOTA_ImageState_Unknown;
1551:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.eState = eOTA_AgentState_NotReady;
1552:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     vTaskDelete( NULL );
1553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1554:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1555:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1556:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* If we're in self test mode, start the self test timer. The latest job should
1557:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * also be in the self test state. We must complete the self test and either
1558:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * accept or reject the image before the timer expires or we shall reset the
1559:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * device to initiate a roll back of the MCU firmware bundle. This will catch
1560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * issues like improper credentials or a device that is connected to a non-
1561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * production stage of the job service resulting in a different job queue being
1562:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * used.
1563:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
1564:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static BaseType_t OTA_CheckForSelfTest( void )
1565:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1566:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_CheckForSelfTest" );
1567:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static const char cTimerName[] = "OTA_SelfTest";
1568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xTimerStarted = pdFALSE;
1569:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static StaticTimer_t xTimerBuffer;
1570:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( prvPAL_GetPlatformImageState() == eOTA_PAL_ImageState_PendingCommit )
1572:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1573:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xOTA_Agent.xSelfTestTimer == NULL )
1574:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.xSelfTestTimer = xTimerCreateStatic( cTimerName,
1576:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pdMS_TO_TICKS( otaconfigSELF_TEST_RESPO
1577:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pdFALSE, NULL, prvSelfTestTimer_Callbac
1578:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             &xTimerBuffer );
1579:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1580:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( xOTA_Agent.xSelfTestTimer != NULL )
1581:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1582:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xTimerStarted = xTimerStart( xOTA_Agent.xSelfTestTimer, portMAX_DELAY );
1583:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1584:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Static timers are guaranteed to be created unless we pass in a NULL buffer. */
1587:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1588:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1589:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1590:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTimerStarted = xTimerReset( xOTA_Agent.xSelfTestTimer, portMAX_DELAY );
1592:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1593:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1594:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Common check for whether the timer was started or not. It should be impossible to not st
1595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( xTimerStarted == pdTRUE )
1596:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1597:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Starting %s timer.\r\n", OTA_METHOD_NAME, cTimerName );
1598:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1599:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
1600:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] ERROR: failed to reset/start %s timer.\r\n", OTA_METHOD_NAME, cTimerN
1602:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1603:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1604:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1605:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xTimerStarted;
1606:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1607:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1608:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1609:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* When the self test response timer expires, reset the device since we're likely broken. */
1610:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1611:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvSelfTestTimer_Callback( TimerHandle_t T )
1612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1613:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvSelfTestTimer_Callback" );
1614:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ( void ) T;
1615:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Self test failed to complete within %ums\r\n", OTA_METHOD_NAME, otaconfigSELF
1617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ( void ) prvPAL_ResetDevice();
1618:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1620:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1621:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Stop the OTA self test timer if it is running. */
1622:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1623:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStopSelfTestTimer( void )
1624:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1625:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvStopSelfTestTimer" );
1626:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1627:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.xSelfTestTimer != NULL )
1628:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1629:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xTimerStop( xOTA_Agent.xSelfTestTimer, portMAX_DELAY );
1630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Stopping the self test timer.\r\n", OTA_METHOD_NAME );
1631:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1632:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1633:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1634:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1635:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* When the OTA request timer expires, signal the OTA task to request the file. */
1636:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1637:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvRequestTimer_Callback( TimerHandle_t T )
1638:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
  25              		.loc 1 1638 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 0
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29              		@ link register save eliminated.
  30              	.LVL0:
1639:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ( void ) T;
1640:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1641:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xOTA_Agent.xOTA_EventFlags != NULL )
  31              		.loc 1 1641 0
  32 0000 10309FE5 		ldr	r3, .L3
  33 0004 840093E5 		ldr	r0, [r3, #132]
  34              	.LVL1:
  35 0008 000050E3 		cmp	r0, #0
  36 000c 1EFF2F01 		bxeq	lr
1642:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1643:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_REQ_TIMEOUT );
  37              		.loc 1 1643 0
  38 0010 0410A0E3 		mov	r1, #4
  39 0014 FEFFFFEA 		b	xEventGroupSetBits
  40              	.LVL2:
  41              	.L4:
  42              		.align	2
  43              	.L3:
  44 0018 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE24:
  48              		.section	.text.prvUnSubscribeFromDataStream,"ax",%progbits
  49              		.align	2
  50              		.syntax unified
  51              		.arm
  52              		.fpu neon
  54              	prvUnSubscribeFromDataStream:
  55              	.LFB38:
1644:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1645:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1646:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1647:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1648:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Create and start or reset the OTA request timer to kick off the process if needed.
1649:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Do not output an important log message on reset since this gets called every time a file
1650:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * block is received. Use log level 2 at most.
1651:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
1652:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStartRequestTimer( OTA_FileContext_t * C )
1653:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1654:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvStartRequestTimer" );
1655:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static const char cTimerName[] = "OTA_FileRequest";
1656:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1657:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xTimerStarted = pdFALSE;
1658:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1659:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C->xRequestTimer == NULL )
1660:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1661:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         C->xRequestTimer = xTimerCreate( cTimerName,
1662:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          pdMS_TO_TICKS( otaconfigFILE_REQUEST_WAIT_MS ),
1663:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          pdFALSE,
1664:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          ( void * ) C, /*lint !e9087 Using the file context as the 
1665:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          prvRequestTimer_Callback );
1666:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->xRequestTimer != NULL )
1668:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1669:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTimerStarted = xTimerStart( C->xRequestTimer, 0 );
1670:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1671:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1672:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1673:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1674:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xTimerStarted = xTimerReset( C->xRequestTimer, portMAX_DELAY );
1675:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1676:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1677:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( xTimerStarted == pdTRUE )
1678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1679:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L2( "[%s] Starting %s timer.\r\n", OTA_METHOD_NAME, cTimerName );
1680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1681:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1682:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1683:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] ERROR: failed to reset/start %s timer.\r\n", OTA_METHOD_NAME, cTimerName 
1684:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1686:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1687:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1688:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Stop the firmware request timer if it is running. */
1689:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1690:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvStopRequestTimer( OTA_FileContext_t * C )
1691:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1692:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvStopRequestTimer" );
1693:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1694:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C->xRequestTimer != NULL )
1695:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1696:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xTimerStop( C->xRequestTimer, 0 );
1697:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Stopping file request timer.\r\n", OTA_METHOD_NAME );
1698:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1699:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1700:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1701:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1702:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Close an existing OTA context and free its resources. */
1703:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1704:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvOTA_Close( OTA_FileContext_t * const C )
1705:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1706:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvOTA_Close" );
1707:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1708:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult = pdFALSE;
1709:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1710:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Context->0x%08x\r\n", OTA_METHOD_NAME, C );
1711:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1712:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C != NULL )
1713:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1714:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Stop and delete any existing transfer request timer. */
1715:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->xRequestTimer != NULL )
1716:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1717:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xTimerStop( C->xRequestTimer, 0 );
1718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xTimerDelete( C->xRequestTimer, 0 );
1719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->xRequestTimer = NULL;
1720:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1721:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pucStreamName != NULL )
1723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1724:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) prvUnSubscribeFromDataStream( C ); /* Unsubscribe from the data stream if need
1725:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucStreamName );              /* Free any previously allocated stream nam
1726:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucStreamName = NULL;
1727:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1728:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1729:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pucJobName != NULL )
1730:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucJobName ); /* Free the job name memory. */
1732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucJobName = NULL;
1733:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1734:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pucRxBlockBitmap != NULL )
1736:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1737:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucRxBlockBitmap ); /* Free the previously allocated block bitmap. */
1738:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucRxBlockBitmap = NULL;
1739:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1740:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1741:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pxSignature != NULL )
1742:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1743:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pxSignature ); /* Free the image signature memory. */
1744:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pxSignature = NULL;
1745:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1746:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1747:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pucFilePath != NULL )
1748:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1749:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucFilePath ); /* Free the file path name string memory. */
1750:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucFilePath = NULL;
1751:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1753:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( C->pucCertFilepath != NULL )
1754:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1755:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucCertFilepath ); /* Free the certificate path name string memory. */
1756:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucCertFilepath = NULL;
1757:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1758:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1759:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Abort any active file access and release the file resource, if needed. */
1760:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) prvPAL_Abort( C );
1761:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         memset( C, 0, sizeof( OTA_FileContext_t ) ); /* Clear the entire structure now that it is f
1762:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xResult = pdTRUE;
1763:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1764:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1765:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xResult;
1766:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1767:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1768:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1769:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Find an available OTA transfer context structure. */
1770:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1771:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvGetFreeContext( void )
1772:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1773:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulIndex = 0U;
1774:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t * pxC = NULL;
1775:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1776:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     while( ( ulIndex < OTA_MAX_FILES ) && ( xOTA_Agent.xOTA_Files[ ulIndex ].pucFilePath != NULL ) 
1777:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1778:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulIndex++;
1779:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1780:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1781:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ulIndex != OTA_MAX_FILES )
1782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         memset( &xOTA_Agent.xOTA_Files[ ulIndex ], 0, sizeof( OTA_FileContext_t ) );
1784:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxC = &xOTA_Agent.xOTA_Files[ ulIndex ];
1785:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1786:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1787:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1788:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Not able to support this request so we'll return NULL. */
1789:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1790:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1791:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return pxC;
1792:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1793:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1794:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1795:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** bool_t JSON_IsCStringEqual( const char * pcJSONString,
1796:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             uint32_t ulLen,
1797:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             const char * pcCString )
1798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1799:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult;
1800:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1801:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( ulLen <= OTA_MAX_JSON_STR_LEN ) &&
1802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( strncmp( pcJSONString, pcCString, ulLen ) == 0 ) && /*lint !e9007 I see no side effect. P
1803:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( pcCString[ ulLen ] == '\0' ) )
1804:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1805:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xResult = pdTRUE;
1806:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1807:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1808:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1809:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xResult = pdFALSE;
1810:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1811:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1812:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xResult;
1813:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1814:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1815:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1816:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Search our document model for a key match with the given token. */
1817:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1818:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvSearchModelForTokenKey( JSON_DocModel_t * pxDocModel,
1819:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 const char * pcJSONString,
1820:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulStrLen,
1821:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint16_t * pusMatchingIndexResult )
1822:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1823:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DocParseErr_t eErr = eDocParseErr_ParamKeyNotInModel;
1824:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint16_t usParamIndex;
1825:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     for( usParamIndex = 0; usParamIndex < pxDocModel->usNumModelParams; usParamIndex++ )
1827:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1828:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( JSON_IsCStringEqual( pcJSONString, ulStrLen,
1829:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  pxDocModel->pxBodyDef[ usParamIndex ].pcSrcKey ) == ( bool_t ) pdT
1830:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1831:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Per Security, don't allow multiple entries of the same parameter. */
1832:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( ( pxDocModel->ulParamsReceivedBitmap & ( 1U << usParamIndex ) ) != 0U ) /*lint !e90
1833:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1834:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eDocParseErr_DuplicatesNotAllowed;
1835:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1836:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
1837:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Mark parameter as received in the bitmap. */
1839:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxDocModel->ulParamsReceivedBitmap |= ( 1U << usParamIndex ); /*lint !e9032 usParam
1840:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 *pusMatchingIndexResult = usParamIndex;                       /* Save result index 
1841:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eDocParseErr_None;                                     /* We found a matchin
1842:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
1843:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1844:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break; /* We found a key match so stop searching. */
1845:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
1846:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1847:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1848:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return eErr;
1849:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
1850:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1851:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1852:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1853:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Extract the desired fields from the JSON document based on the specified document model. */
1854:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1855:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvParseJSONbyModel( const char * pcJSON,
1856:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           uint32_t ulMsgLen,
1857:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           JSON_DocModel_t * pxDocModel )
1858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
1859:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJSONbyModel" );
1860:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1861:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     const JSON_DocParam_t * pxModelParam;
1862:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     jsmn_parser xParser;
1863:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     jsmntok_t * pxTokens;
1864:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     jsmntok_t * pxValTok;
1865:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulNumTokens, ulTokenLen;
1866:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MultiParmPtr_t xParamAddr; /*lint !e9018 We intentionally use this union to cast the parameter 
1867:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulIndex;
1868:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint16_t usModelParamIndex;
1869:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulScanIndex;
1870:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DocParseErr_t eErr = eDocParseErr_Unknown;
1871:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1872:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1873:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Reset the Jasmine tokenizer. */
1874:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     jsmn_init( &xParser );
1875:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1876:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Validate some initial parameters. */
1877:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pxDocModel == NULL )
1878:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1879:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] The pointer to the document model is NULL.\r\n", OTA_METHOD_NAME );
1880:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullModelPointer;
1881:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1882:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( pxDocModel->pxBodyDef == NULL )
1883:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Document model 0x%08x body pointer is NULL.\r\n", OTA_METHOD_NAME, pxDocM
1885:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullBodyPointer;
1886:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1887:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( pxDocModel->usNumModelParams > OTA_DOC_MODEL_MAX_PARAMS )
1888:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1889:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Model has too many parameters (%u).\r\n", OTA_METHOD_NAME, pxDocModel->us
1890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_TooManyParams;
1891:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1892:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( pcJSON == NULL )
1893:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] JSON document pointer is NULL!\r\n", OTA_METHOD_NAME );
1895:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullDocPointer;
1896:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
1897:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
1898:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
1899:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxModelParam = pxDocModel->pxBodyDef;
1900:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1901:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Count the total number of tokens in our JSON document. */
1902:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulNumTokens = ( uint32_t ) jsmn_parse( &xParser, pcJSON, ( size_t ) ulMsgLen, NULL, 1UL );
1903:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1904:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( ulNumTokens > 0U )
1905:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
1906:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If the JSON document isn't too big for our token array... */
1907:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( ulNumTokens <= OTA_MAX_JSON_TOKENS )
1908:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
1909:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Allocate space for the document JSON tokens. */
1910:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 void * pvTokenArray = pvPortMalloc( ulNumTokens * sizeof( jsmntok_t ) ); /* Allocat
1911:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxTokens = ( jsmntok_t * ) pvTokenArray;                                 /*lint !e9
1912:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1913:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( pxTokens != NULL )
1914:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
1915:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Reset Jasmine again and tokenize the document for real. */
1916:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     jsmn_init( &xParser );
1917:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulIndex = ( uint32_t ) jsmn_parse( &xParser, pcJSON, ulMsgLen, pxTokens, ulNumT
1918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1919:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( ulIndex == ulNumTokens )
1920:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
1921:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Start the parser in an error free state. */
1922:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eDocParseErr_None;
1923:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1924:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Examine each JSON token, searching for job parameters based on our docum
1925:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         for( ulIndex = 0U; ( eErr == eDocParseErr_None ) && ( ulIndex < ulNumTokens
1926:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
1927:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             /* All parameter keys are JSON strings. */
1928:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( pxTokens[ ulIndex ].type == JSMN_STRING )
1929:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
1930:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Search the document model to see if it matches the current key. 
1931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ulTokenLen = ( uint32_t ) pxTokens[ ulIndex ].end - ( uint32_t ) px
1932:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eErr = prvSearchModelForTokenKey( pxDocModel, &pcJSON[ pxTokens[ ul
1933:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1934:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* If we didn't find a match in the model, skip over it and its des
1935:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( eErr == eDocParseErr_ParamKeyNotInModel )
1936:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1937:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     int32_t lRoot = ( int32_t ) ulIndex; /* Create temp root from t
1938:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     ulIndex++;                           /* Skip the active key sin
1939:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1940:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* Skip tokens whose parents are equal to or deeper than the un
1941:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     while( ( ulIndex < ulNumTokens ) && ( pxTokens[ ulIndex ].paren
1942:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1943:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         ulIndex++; /* Skip over all descendants of the unknown pare
1944:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1945:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1946:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     --ulIndex;                /* Adjust for outer for-loop incremen
1947:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eErr = eDocParseErr_None; /* Unknown key structures are simply 
1948:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
1949:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else if( eErr == eDocParseErr_None )
1950:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
1951:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* We found the parameter key in the document model. */
1952:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1953:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* Get the value field (i.e. the following token) for the param
1954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     pxValTok = &pxTokens[ ulIndex + 1UL ];
1955:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1956:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* Verify the field type is what we expect for this parameter. 
1957:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     if( pxValTok->type != pxModelParam[ usModelParamIndex ].eJasmin
1958:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1959:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         ulTokenLen = ( uint32_t ) ( pxValTok->end ) - ( uint32_t ) 
1960:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] parameter type mismatch [ %s : %.*s ] typ
1961:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME, pxModelParam[ usModelParamInde
1962:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     &pcJSON[ pxValTok->start ],
1963:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     pxValTok->type, pxModelParam[ usModelParamIndex
1964:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         eErr = eDocParseErr_FieldTypeMismatch;
1965:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* break; */
1966:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1967:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     else if( OTA_DONT_STORE_PARAM == pxModelParam[ usModelParamInde
1968:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1969:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Nothing to do with this parameter since we're not storin
1970:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         continue;
1971:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
1972:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     else
1973:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
1974:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* Get destination offset to parameter storage location. */
1975:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1976:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* If it's within the models context structure, add in the 
1977:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( pxModelParam[ usModelParamIndex ].ulDestOffset < pxDocM
1978:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1979:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xParamAddr.ulVal = pxDocModel->ulContextBase + pxModelP
1980:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1981:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else
1982:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1983:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* It's a raw pointer so keep it as is. */
1984:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xParamAddr.ulVal = pxModelParam[ usModelParamIndex ].ul
1985:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
1986:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1987:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( eModelParamType_StringCopy == pxModelParam[ usModelPara
1988:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
1989:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Malloc memory for a copy of the value string plus a 
1990:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             ulTokenLen = ( uint32_t ) ( pxValTok->end ) - ( uint32_
1991:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             void * pvStringCopy = pvPortMalloc( ulTokenLen + 1U );
1992:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
1993:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             if( pvStringCopy != NULL )
1994:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
1995:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 *xParamAddr.ppvPtr = pvStringCopy;
1996:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 char * pcStringCopy = *xParamAddr.ppcPtr;
1997:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* Copy parameter string into newly allocated memor
1998:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 memcpy( pcStringCopy, &pcJSON[ pxValTok->start ], u
1999:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* Zero terminate the new string. */
2000:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 pcStringCopy[ ulTokenLen ] = '\0';
2001:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %s ]\r\
2002:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
2003:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pxModelParam[ usModelParamIndex ].pcSrc
2004:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pcStringCopy );
2005:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2006:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             else
2007:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {   /* Stop processing on error. */
2008:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 eErr = eDocParseErr_OutOfMemory;
2009:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* break; */
2010:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2011:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2012:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else if( eModelParamType_StringInDoc == pxModelParam[ usMod
2013:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2014:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Copy pointer to source string instead of duplicating
2015:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             const char * pcStringInDoc = &pcJSON[ pxValTok->start ]
2016:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2017:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             if( pcStringInDoc != NULL ) /*lint !e774 This can resul
2018:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2019:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 *xParamAddr.ppcConstPtr = pcStringInDoc;
2020:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 ulTokenLen = ( uint32_t ) ( pxValTok->end ) - ( uin
2021:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %.*s ]\
2022:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
2023:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pxModelParam[ usModelParamIndex ].pcSrc
2024:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             ulTokenLen, pcStringInDoc );
2025:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2026:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             else
2027:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2028:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* This should never happen unless there's a bug or
2029:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Error! JSON token produced a null
2030:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
2031:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pxModelParam[ usModelParamIndex ].pcSrc
2032:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 eErr = eDocParseErr_InvalidToken;
2033:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2034:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2035:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else if( eModelParamType_UInt32 == pxModelParam[ usModelPar
2036:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2037:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             char * pcEnd;
2038:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             const char * pcStart = &pcJSON[ pxValTok->start ];
2039:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             *xParamAddr.pulPtr = strtoul( pcStart, &pcEnd, 0 );
2040:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2041:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             if( pcEnd == &pcJSON[ pxValTok->end ] )
2042:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2043:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %u ]\r\
2044:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
2045:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pxModelParam[ usModelParamIndex ].pcSrc
2046:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             *xParamAddr.pulPtr );
2047:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2048:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             else
2049:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2050:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 eErr = eDocParseErr_InvalidNumChar;
2051:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2052:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2053:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else if( eModelParamType_SigBase64 == pxModelParam[ usModel
2054:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2055:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Allocate space for and decode the base64 signature. 
2056:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             void * pvSignature = pvPortMalloc( sizeof( Sig256_t ) )
2057:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2058:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             if( pvSignature != NULL )
2059:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2060:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 size_t xActualLen;
2061:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 *xParamAddr.ppvPtr = pvSignature;
2062:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 Sig256_t * pxSig256 = *xParamAddr.ppxSig256Ptr;
2063:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 ulTokenLen = ( uint32_t ) ( pxValTok->end ) - ( uin
2064:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2065:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 if( mbedtls_base64_decode( pxSig256->ucData, sizeof
2066:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                            ( const uint8_t * ) &pcJ
2067:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 {   /* Stop processing on error. */
2068:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_LOG_L1( "[%s] mbedtls_base64_decode failed.
2069:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     eErr = eDocParseErr_Base64Decode;
2070:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     /* break; */
2071:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 }
2072:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 else
2073:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 {
2074:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     pxSig256->usSize = ( uint16_t ) xActualLen;
2075:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_LOG_L1( "[%s] Extracted parameter [ %s: %.3
2076:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 OTA_METHOD_NAME,
2077:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 pxModelParam[ usModelParamIndex ].p
2078:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 &pcJSON[ pxValTok->start ] );
2079:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 }
2080:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2081:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             else
2082:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
2083:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* We failed to allocate needed memory. Everything 
2084:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 eErr = eDocParseErr_OutOfMemory;
2085:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
2086:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2087:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else if( eModelParamType_Ident == pxModelParam[ usModelPara
2088:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2089:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             OTA_LOG_L1( "[%s] Identified parameter [ %s ]\r\n",
2090:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         OTA_METHOD_NAME,
2091:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         pxModelParam[ usModelParamIndex ].pcSrcKey 
2092:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             *xParamAddr.pxBoolPtr = pdTRUE;
2093:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2094:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else
2095:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2096:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Ignore invalid document model type. */
2097:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2098:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
2099:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2100:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else
2101:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2102:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     /* Nothing special to do. The error will break us out of the lo
2103:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2104:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2105:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
2106:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2107:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* Ignore tokens that are not strings and move on to the next. */
2108:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2109:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2110:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2111:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Free the token memory. */
2112:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         vPortFree( pxTokens ); /*lint !e850 ulIndex is intentionally modified withi
2113:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2114:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         if( eErr == eDocParseErr_None )
2115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2116:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             uint32_t ulMissingParams = ( pxDocModel->ulParamsReceivedBitmap & pxDoc
2117:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        ^ pxDocModel->ulParamsRequiredBitmap;
2118:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2119:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( ulMissingParams != 0U )
2120:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2121:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* The job document did not have all required document model parame
2122:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 for( ulScanIndex = 0UL; ulScanIndex < pxDocModel->usNumModelParams;
2123:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2124:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     if( ( ulMissingParams & ( 1UL << ulScanIndex ) ) != 0UL )
2125:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
2126:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] parameter not present: %s\r\n",
2127:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME,
2128:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     pxModelParam[ ulScanIndex ].pcSrcKey );
2129:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
2130:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2131:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2132:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eErr = eDocParseErr_MalformedDoc;
2133:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2134:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2135:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         else
2136:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2137:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             OTA_LOG_L1( "[%s] Error (%d) parsing JSON document.\r\n", OTA_METHOD_NA
2138:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2139:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2140:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
2141:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2142:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] jsmn_parse didn't match token count when parsing.\r\n", O
2143:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eDocParseErr_JasmineCountMismatch;
2144:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2145:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2146:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
2147:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2148:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] No memory for JSON tokens.\r\n", OTA_METHOD_NAME );
2149:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eErr = eDocParseErr_OutOfMemory;
2150:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2151:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2152:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2153:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2154:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Document has too many keys.\r\n", OTA_METHOD_NAME );
2155:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eDocParseErr_TooManyTokens;
2156:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2157:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2158:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2159:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Invalid JSON document. No tokens parsed. \r\n", OTA_METHOD_NAME );
2161:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eDocParseErr_NoTokens;
2162:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2163:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2164:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2165:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     configASSERT( eErr != eDocParseErr_Unknown );
2166:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return eErr;
2167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2168:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2169:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2170:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Prepare the document model for use by sanity checking the initialization parameters
2171:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * and detecting all required parameters. */
2172:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2173:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static DocParseErr_t prvInitDocModel( JSON_DocModel_t * pxDocModel,
2174:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       const JSON_DocParam_t * pxBodyDef,
2175:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint32_t ulContextBaseAddr,
2176:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint32_t ulContextSize,
2177:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       uint16_t usNumJobParams )
2178:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2179:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvInitDocModel" );
2180:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2181:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DocParseErr_t eErr = eDocParseErr_Unknown;
2182:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulScanIndex;
2183:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2184:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Sanity check the model pointers and parameter count. Exclude the context base address and si
2185:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      * it is technically possible to create a model that writes entirely into absolute memory locat
2186:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****      */
2187:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pxDocModel == NULL )
2188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2189:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] The pointer to the document model is NULL.\r\n", OTA_METHOD_NAME );
2190:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullModelPointer;
2191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2192:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( pxBodyDef == NULL )
2193:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2194:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Document model 0x%08x body pointer is NULL.\r\n", OTA_METHOD_NAME, pxDocM
2195:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullBodyPointer;
2196:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2197:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else if( usNumJobParams > OTA_DOC_MODEL_MAX_PARAMS )
2198:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2199:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Model has too many parameters (%u).\r\n", OTA_METHOD_NAME, pxDocModel->us
2200:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_TooManyParams;
2201:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2202:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
2203:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2204:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulContextBase = ulContextBaseAddr;
2205:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulContextSize = ulContextSize;
2206:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->pxBodyDef = pxBodyDef;
2207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->usNumModelParams = usNumJobParams;
2208:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulParamsReceivedBitmap = 0;
2209:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulParamsRequiredBitmap = 0;
2210:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2211:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Scan the model and detect all required parameters (i.e. not optional). */
2212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         for( ulScanIndex = 0; ulScanIndex < pxDocModel->usNumModelParams; ulScanIndex++ )
2213:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2214:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( pxDocModel->pxBodyDef[ ulScanIndex ].bRequired == ( bool_t ) pdTRUE )
2215:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2216:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Add parameter to the required bitmap. */
2217:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxDocModel->ulParamsRequiredBitmap |= ( 1UL << ulScanIndex );
2218:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2219:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2220:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2221:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_None;
2222:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2223:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2224:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return eErr;
2225:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2226:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2227:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2228:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Parse the OTA job document and validate. Return the populated
2229:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * OTA context if valid otherwise return NULL.
2230:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
2231:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2232:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvParseJobDoc( const char * pcJSON,
2233:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                            uint32_t ulMsgLen )
2234:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2235:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJobDoc" );
2236:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2237:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* This is the OTA job document model describing the parameters, their types, destination and h
2238:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /*lint -e{708} We intentionally do some things lint warns about but produce the proper model. *
2239:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Namely union initialization and pointers converted to values. */
2240:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static const JSON_DocParam_t xOTA_JobDocModelParamStructure[ OTA_NUM_JOB_PARAMS ] =
2241:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2242:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_ClientTokenKey,   OTA_JOB_PARAM_OPTIONAL, { ( uint32_t ) &xOTA_Agent.pucClientT
2243:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_ExecutionKey,     OTA_JOB_PARAM_REQUIRED, { OTA_DONT_STORE_PARAM               
2244:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_JobIDKey,         OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, pucJo
2245:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_StatusDetailsKey, OTA_JOB_PARAM_OPTIONAL, { OTA_DONT_STORE_PARAM               
2246:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_SelfTestKey,      OTA_JOB_PARAM_OPTIONAL, { OFFSET_OF( OTA_FileContext_t, xIsIn
2247:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_UpdatedByKey,     OTA_JOB_PARAM_OPTIONAL, { OFFSET_OF( OTA_FileContext_t, ulUpd
2248:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_JobDocKey,        OTA_JOB_PARAM_REQUIRED, { OTA_DONT_STORE_PARAM               
2249:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_OTAUnitKey,       OTA_JOB_PARAM_REQUIRED, { OTA_DONT_STORE_PARAM               
2250:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_StreamNameKey,    OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, pucSt
2251:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileGroupKey,     OTA_JOB_PARAM_REQUIRED, { OTA_DONT_STORE_PARAM               
2252:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FilePathKey,      OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, pucFi
2253:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileSizeKey,      OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, ulFil
2254:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileIDKey,        OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, ulSer
2255:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileCertNameKey,  OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, pucCe
2256:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileSignatureKey, OTA_JOB_PARAM_REQUIRED, { OFFSET_OF( OTA_FileContext_t, pxSig
2257:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         { cOTA_JSON_FileAttributeKey, OTA_JOB_PARAM_OPTIONAL, { OFFSET_OF( OTA_FileContext_t, ulFil
2258:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     };
2259:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2260:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_JobParseErr_t eErr = eOTA_JobParseErr_Unknown;
2261:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t * pxC;
2262:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t * pxFinalFile;
2263:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2264:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     pxFinalFile = NULL;
2265:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     pxC = prvGetFreeContext();
2266:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2267:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pxC == NULL )
2268:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2269:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Error! No job context available.\r\n", OTA_METHOD_NAME );
2270:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eOTA_JobParseErr_NoContextAvailable;
2271:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2272:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
2273:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2274:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         JSON_DocModel_t xOTA_JobDocModel;
2275:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2276:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( prvInitDocModel( &xOTA_JobDocModel,
2277:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                              xOTA_JobDocModelParamStructure,
2278:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                              ( uint32_t ) pxC, /*lint !e9078 !e923 Intentionally casting context po
2279:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                              sizeof( OTA_FileContext_t ),
2280:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                              OTA_NUM_JOB_PARAMS ) != eDocParseErr_None )
2281:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2282:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eOTA_JobParseErr_BadModelInitParams;
2283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else if( prvParseJSONbyModel( pcJSON, ulMsgLen, &xOTA_JobDocModel ) == eDocParseErr_None )
2285:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {   /* Validate the job document parameters. */
2286:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eOTA_JobParseErr_None;
2287:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( pxC->ulFileSize == 0U )
2289:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2290:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Zero file size is not allowed!\r\n", OTA_METHOD_NAME );
2291:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eOTA_JobParseErr_ZeroFileSize;
2292:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2293:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If there's an active job, verify that it's the same as what's being reported now. */
2294:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* We already checked for missing parameters so we SHOULD have a job name in the contex
2295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else if( xOTA_Agent.pucOTA_Singleton_ActiveJobName != NULL )
2296:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2297:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( pxC->pucJobName != NULL )
2298:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2299:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* C->pucJobName is guaranteed to be zero terminated. */
2300:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( strcmp( ( char * ) xOTA_Agent.pucOTA_Singleton_ActiveJobName, ( char * ) px
2301:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] Busy with existing job. Ignoring.\r\n", OTA_METHOD_NAME )
2303:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithExistingJob;
2304:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2305:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
2306:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {   /* The same job is being reported so free the duplicate job name from the c
2307:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] Superfluous report of current job.\r\n", OTA_METHOD_NAME 
2308:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         vPortFree( pxC->pucJobName );
2309:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         pxC->pucJobName = NULL;
2310:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithSameJob;
2311:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2312:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2313:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
2314:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2315:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Null job reported while busy. Ignoring.\r\n", OTA_METHOD_NAME
2316:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eErr = eOTA_JobParseErr_NullJob;
2317:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2318:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2319:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2320:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {   /* Assume control of the job name from the context. */
2321:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = pxC->pucJobName;
2322:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
2323:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2324:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2325:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( eErr == eOTA_JobParseErr_None )
2326:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2327:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* If the job is in self test mode, don't start an
2328:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * OTA update but instead do the following:
2329:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  *
2330:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * If the firmware that performed the update was older
2331:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * than the currently running firmware, set the image
2332:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * state to "Testing." This is the success path.
2333:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  *
2334:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * If it's the same or newer, reject the job since
2335:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * either the firmware wasn't accepted during self
2336:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * test or an incorrect image was sent by the OTA
2337:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * operator.
2338:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  */
2339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( pxC->xIsInSelfTest == ( bool_t ) pdTRUE )
2340:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] In self test mode.\r\n", OTA_METHOD_NAME );
2342:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2343:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( pxC->ulUpdaterVersion < xAppFirmwareVersion.u.ulVersion32 )
2344:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2345:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* The running firmware version is newer than the firmware that performed
2346:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          * the update so this means we're ready to start the self test phase.
2347:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          *
2348:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          * Set image state accordingly and update job status with self test identif
2349:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                          */
2350:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( void ) prvSetImageStateWithReason( eOTA_ImageState_Testing, ( uint32_t ) 
2351:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2352:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
2353:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2354:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         if( pxC->ulUpdaterVersion > xAppFirmwareVersion.u.ulVersion32 )
2355:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2356:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             /* The running firmware is older than the firmware that performed the u
2357:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             OTA_LOG_L1( "[%s] Rejecting image because version is older than previou
2358:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             ( void ) prvSetImageStateWithReason( eOTA_ImageState_Rejected, kOTA_Err
2359:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2360:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         else /* Version reported is the same as the running version. */
2361:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( ( xOTA_Agent.pucClientTokenFromJob == NULL ) ||
2363:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ( strtoul( ( const char * ) xOTA_Agent.pucClientTokenFromJob, NULL,
2364:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2365:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 /* The version is the same so either we're not actually the new fir
2366:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  * someone messed up and sent firmware with the same version. In ei
2367:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  * this is a failure of the OTA update so reject the job. */
2368:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L1( "[%s] Failing job. We rebooted and the version is still
2369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ( void ) prvSetImageStateWithReason( eOTA_ImageState_Rejected, kOTA
2370:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2371:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
2372:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2373:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L1( "[%s] Ignoring job. Device must be rebooted first.\r\n"
2374:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2375:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2376:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2377:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* All reject cases must reset the device. */
2378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( void ) prvResetDevice(); /* Ignore return code since there's nothing we c
2379:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2380:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2381:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
2382:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2383:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Everything looks OK. Set final context structure to start OTA. */
2384:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Job was accepted. Attempting to start transfer.\r\n", OTA_MET
2385:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxFinalFile = pxC;
2386:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2387:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2388:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2389:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2390:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Error %d parsing job document.\r\n", OTA_METHOD_NAME, eErr );
2391:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2392:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2393:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2394:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {   /* No need to print an error message. The JSON parser should have already. */
2395:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eOTA_JobParseErr_NonConformingJobDoc;
2396:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2397:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2398:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2399:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     configASSERT( eErr != eOTA_JobParseErr_Unknown );
2400:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2401:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( eErr != eOTA_JobParseErr_None )
2402:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2403:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( pxC == NULL )
2404:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2405:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Error! No job context available.\r\n", OTA_METHOD_NAME );
2406:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2407:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2408:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2409:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If job parsing failed AND there's a job ID, update the job state to FAILED with
2410:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****              * a reason code.  Without a job ID, we can't update the status in the job service. */
2411:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( pxC->pucJobName != NULL )
2412:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2413:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Rejecting job due to OTA_JobParseErr_t %d\r\n", OTA_METHOD_NAME, 
2414:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Assume control of the job name from the context. */
2415:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = pxC->pucJobName;
2416:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
2417:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvUpdateJobStatus( NULL, eJobStatus_FailedWithVal, ( int32_t ) kOTA_Err_JobParserE
2418:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* We don't need the job name memory anymore since we're done with this job. */
2419:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 vPortFree( xOTA_Agent.pucOTA_Singleton_ActiveJobName );
2420:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
2421:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2422:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2423:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2424:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Ignoring job without ID.\r\n", OTA_METHOD_NAME );
2425:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2426:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2427:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2428:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2429:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* If we failed, free the reserved file context (C) to make it available again. */
2430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( pxFinalFile == NULL )
2431:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) prvOTA_Close( pxC ); /* Ignore impossible false result by design */
2433:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2434:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2435:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Return pointer to populated file context or NULL if it failed. */
2436:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return pxFinalFile;
2437:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2438:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2439:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2440:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* prvProcessOTAJobMsg
2441:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
2442:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * We received an OTA update job message from the job notification service.
2443:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * Process the message and prepare for receiving the file as needed.
2444:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
2445:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2446:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static OTA_FileContext_t * prvProcessOTAJobMsg( const char * pcRawMsg,
2447:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulMsgLen )
2448:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2449:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulIndex;
2450:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulNumBlocks;             /* How many data pages are in the expected update image. */
2451:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBitmapLen;             /* Length of the file block bitmap in bytes. */
2452:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_FileContext_t * pxUpdateFile; /* Pointer to an OTA update context. */
2453:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
2454:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2455:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Populate an OTA update context from the OTA job document. */
2456:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2457:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     pxUpdateFile = prvParseJobDoc( pcRawMsg, ulMsgLen );
2458:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( pxUpdateFile != NULL ) && ( prvInSelftest() == false ) )
2460:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2461:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( pxUpdateFile->pucRxBlockBitmap != NULL )
2462:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2463:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( pxUpdateFile->pucRxBlockBitmap ); /* Free any previously allocated bitmap. *
2464:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             pxUpdateFile->pucRxBlockBitmap = NULL;
2465:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2467:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Calculate how many bytes we need in our bitmap for tracking received blocks.
2468:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****          * The below calculation requires power of 2 page sizes. */
2469:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2470:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulNumBlocks = ( pxUpdateFile->ulFileSize + ( OTA_FILE_BLOCK_SIZE - 1U ) ) >> otaconfigLOG2_
2471:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
2472:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxUpdateFile->pucRxBlockBitmap = ( uint8_t * ) pvPortMalloc( ulBitmapLen ); /*lint !e9079 F
2473:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2474:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( pxUpdateFile->pucRxBlockBitmap != NULL )
2475:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2476:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( ( BaseType_t ) ( prvSubscribeToDataStream( pxUpdateFile ) ) == pdTRUE )
2477:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2478:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Set all bits in the bitmap to the erased state (we use 1 for erased just like fl
2479:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 memset( pxUpdateFile->pucRxBlockBitmap, ( int ) OTA_ERASED_BLOCKS_VAL, ulBitmapLen 
2480:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2481:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Mark as used any pages in the bitmap that are out of range, based on the file si
2482:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * This keeps us from requesting those pages during retry processing or if using a 
2483:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * block request. It also avoids erroneously accepting an out of range data block s
2484:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * get past any safety checks.
2485:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * Files aren't always a multiple of 8 pages (8 bits/pages per byte) so some bits o
2486:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                  * last byte may be out of range and those are the bits we want to clear. */
2487:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2488:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 uint8_t ucBit = 1U << ( BITS_PER_BYTE - 1U );
2489:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 uint32_t ulNumOutOfRange = ( ulBitmapLen * BITS_PER_BYTE ) - ulNumBlocks;
2490:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 for( ulIndex = 0U; ulIndex < ulNumOutOfRange; ulIndex++ )
2492:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxUpdateFile->pucRxBlockBitmap[ ulBitmapLen - 1U ] &= ~ucBit;
2494:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ucBit >>= 1U;
2495:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2496:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2497:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxUpdateFile->ulBlocksRemaining = ulNumBlocks; /* Initialize our blocks remaining c
2498:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvStartRequestTimer( pxUpdateFile );
2499:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2500:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Create/Open the OTA file on the file system. */
2501:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = prvPAL_CreateFileForRx( pxUpdateFile );
2502:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2503:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( xErr != kOTA_Err_None )
2504:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2505:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, xErr );
2506:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvOTA_Close( pxUpdateFile ); /* Ignore false result since we're setti
2507:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxUpdateFile = NULL;
2508:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2509:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2510:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2511:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2512:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Can't receive the image without a subscription. */
2513:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ( void ) prvOTA_Close( pxUpdateFile ); /* Ignore false result since we're setting t
2514:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxUpdateFile = NULL;
2515:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2516:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2517:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2518:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2519:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Can't receive the image without enough memory. */
2520:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) prvOTA_Close( pxUpdateFile ); /* Ignore false result since we're setting the p
2521:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             pxUpdateFile = NULL;
2522:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2523:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2524:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2525:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return pxUpdateFile; /* Return the OTA file context. */
2526:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2527:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2528:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2529:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2530:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* prvIngestDataBlock
2531:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  *
2532:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * A block of file data was received by the application via some configured communication protocol.
2533:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * If it looks like it is in range, write it to persistent storage. If it's the last block we're
2534:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * expecting, close the file and perform the final signature check on it. If the close and signatur
2535:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * check are OK, let the caller know so it can be used by the system. Firmware updates generally
2536:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * reboot the system and perform a self test phase. If the close or signature check fails, abort
2537:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  * the file transfer and return the result and any available details to the caller.
2538:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****  */
2539:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static IngestResult_t prvIngestDataBlock( OTA_FileContext_t * C,
2540:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           const char * pcRawMsg,
2541:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           uint32_t ulMsgSize,
2542:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           OTA_Err_t * pxCloseResult )
2543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2544:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvIngestDataBlock" );
2545:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2546:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     IngestResult_t eIngestResult = eIngest_Result_Uninitialized;
2547:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     int32_t lFileId = 0;
2548:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBlockSize = 0;
2549:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBlockIndex = 0;
2550:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint8_t * pucPayload = NULL;
2551:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     size_t xPayloadSize = 0;
2552:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C != NULL )
2554:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2555:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( pxCloseResult != NULL )
2556:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2557:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             *pxCloseResult = kOTA_Err_GenericIngestError; /* Default to a generic ingest function e
2558:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2559:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* If we have a block bitmap available then process the message. */
2560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( C->pucRxBlockBitmap && ( C->ulBlocksRemaining > 0U ) )
2561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2562:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Reset or start the firmware request timer. */
2563:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvStartRequestTimer( C );
2564:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2565:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Decode the CBOR content. */
2566:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( pdFALSE == OTA_CBOR_Decode_GetStreamResponseMessage(
2567:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( const uint8_t * ) pcRawMsg,
2568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ulMsgSize,
2569:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         &lFileId,
2570:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( int32_t * ) &ulBlockIndex, /*lint !e9087 CBOR requires pointer to int and
2571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( int32_t * ) &ulBlockSize,  /*lint !e9087 CBOR requires pointer to int and
2572:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         &pucPayload,                 /* This payload gets malloc'd by OTA_CBOR_Deco
2573:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( size_t * ) &xPayloadSize ) )
2574:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eIngestResult = eIngest_Result_BadData;
2576:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2577:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
2578:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2579:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* Validate the block index and size. */
2580:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* If it is NOT the last block, it MUST be equal to a full block size. */
2581:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* If it IS the last block, it MUST be equal to the expected remainder. */
2582:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     /* If the block ID is out of range, that's an error so abort. */
2583:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     uint32_t ulLastBlock = ( ( C->ulFileSize + ( OTA_FILE_BLOCK_SIZE - 1U ) ) >> ot
2584:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     if( ( ( ( uint32_t ) ulBlockIndex < ulLastBlock ) && ( ulBlockSize == OTA_FILE_
2586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( ( ( uint32_t ) ulBlockIndex == ulLastBlock ) && ( ( uint32_t ) ulBlockSiz
2587:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2588:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] Received file block %u, size %u\r\n", OTA_METHOD_NAME, ul
2589:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2590:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Create bit mask for use in our bitmap. */
2591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         uint8_t ucBitMask = 1U << ( ulBlockIndex % BITS_PER_BYTE ); /*lint !e9031 T
2592:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Calculate byte offset into bitmap. */
2593:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         uint32_t ulByte = ulBlockIndex >> LOG2_BITS_PER_BYTE;
2594:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         if( ( C->pucRxBlockBitmap[ ulByte ] & ucBitMask ) == 0U ) /* If we've alrea
2596:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2597:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             OTA_LOG_L1( "[%s] block %u is a DUPLICATE. %u blocks remaining.\r\n", O
2598:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         ulBlockIndex,
2599:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         C->ulBlocksRemaining );
2600:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             eIngestResult = eIngest_Result_Duplicate_Continue;
2601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             *pxCloseResult = kOTA_Err_None; /* This is a success path. */
2602:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2603:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         else /* Otherwise, process it normally... */
2604:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
2605:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( C->pucFile != NULL )
2606:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2607:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 int32_t lBytesWritten = prvPAL_WriteBlock( C, ( ulBlockIndex * OTA_
2608:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2609:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( lBytesWritten < 0 )
2610:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2611:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     OTA_LOG_L1( "[%s] Error (%d) writing file block\r\n", OTA_METHO
2612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_WriteBlockFailed;
2613:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2614:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else
2615:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     C->pucRxBlockBitmap[ ulByte ] &= ~ucBitMask; /* Mark this block
2617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     C->ulBlocksRemaining--;
2618:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_Accepted_Continue;
2619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     *pxCloseResult = kOTA_Err_None; /* This is a success path. */
2620:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2621:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2622:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
2623:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2624:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L1( "[%s] Error: Unable to write block, file handle is NULL
2625:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eIngestResult = eIngest_Result_BadFileHandle;
2626:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2627:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2628:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             if( C->ulBlocksRemaining == 0U )
2629:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L1( "[%s] Received final expected block of file.\r\n", OTA_
2631:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 prvStopRequestTimer( C );         /* Don't request any more since w
2632:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 vPortFree( C->pucRxBlockBitmap ); /* Free the bitmap now that we're
2633:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 C->pucRxBlockBitmap = NULL;
2634:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2635:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 if( C->pucFile != NULL )
2636:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2637:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     *pxCloseResult = prvPAL_CloseFile( C );
2638:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2639:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     if( *pxCloseResult == kOTA_Err_None )
2640:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
2641:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] File receive complete and signature is va
2642:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         eIngestResult = eIngest_Result_FileComplete;
2643:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
2644:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     else
2645:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
2646:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         uint32_t ulCloseResult = ( uint32_t ) *pxCloseResult;
2647:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] Error (%u:0x%06x) closing OTA file.\r\n",
2648:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME,
2649:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     ulCloseResult >> kOTA_MainErrShiftDownBits,
2650:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     ulCloseResult & ( uint32_t ) kOTA_PAL_ErrMask )
2651:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2652:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         if( ( ulCloseResult & kOTA_Main_ErrMask ) == kOTA_Err_Signa
2653:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2654:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             eIngestResult = eIngest_Result_SigCheckFail;
2655:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2656:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         else
2657:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
2658:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             eIngestResult = eIngest_Result_FileCloseFail;
2659:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
2660:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
2661:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2662:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     C->pucFile = NULL; /* File is now closed so clear the file hand
2663:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2664:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 else
2665:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
2666:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     OTA_LOG_L1( "[%s] Error: File handle is NULL after last block r
2667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_BadFileHandle;
2668:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
2669:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2670:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             else
2671:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
2672:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 OTA_LOG_L1( "[%s] Remaining: %u\r\n", OTA_METHOD_NAME, C->ulBlocksR
2673:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
2674:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
2675:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2676:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     else
2677:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
2678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         OTA_LOG_L1( "[%s] Error! Block %u out of expected range! Size %u\r\n", OTA_
2679:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eIngestResult = eIngest_Result_BlockOutOfRange;
2680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
2681:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2682:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2683:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2684:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eIngestResult = eIngest_Result_UnexpectedBlock;
2686:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2687:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2688:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2689:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2690:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eIngestResult = eIngest_Result_NullResultPointer;
2691:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2692:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2693:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
2694:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2695:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eIngestResult = eIngest_Result_NullContext;
2696:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2697:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2698:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( NULL != pucPayload )
2699:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2700:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         vPortFree( pucPayload );
2701:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2702:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2703:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return eIngestResult;
2704:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2705:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2706:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2707:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Subscribe to the OTA job notification topics. */
2708:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2709:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvSubscribeToJobNotificationTopics( void )
2710:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2711:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvSubscribeToJobNotificationTopics" );
2712:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2713:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult = pdFALSE;
2714:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cJobTopic[ OTA_MAX_TOPIC_LEN ];
2715:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentSubscribeParams_t xJobsSubscription;
2716:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2717:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Clear subscription struct and set common parameters for job topics used by OTA. */
2718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     memset( &xJobsSubscription, 0, sizeof( xJobsSubscription ) );
2719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.xQoS = eMQTTQoS1;
2720:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pucTopic = ( const uint8_t * ) cJobTopic;                  /* Point to local 
2721:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pvPublishCallbackContext = ( void * ) eOTA_PubMsgType_Job; /*lint !e923 The p
2722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pxPublishCallback = prvOTAPublishCallback;
2723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.usTopicLength = ( uint16_t ) snprintf( cJobTopic,          /*lint -e586 Inten
2724:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              sizeof( cJobTopic ),
2725:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              cOTA_JobsGetNextAccepted_TopicTemplate
2726:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              xOTA_Agent.ucThingName );
2727:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2728:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( xJobsSubscription.usTopicLength > 0U ) && ( xJobsSubscription.usTopicLength < sizeof( cJo
2729:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2730:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Subscribe to the first of two jobs topics. */
2731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( MQTT_AGENT_Subscribe( xOTA_Agent.pvPubSubClient,
2732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                   &xJobsSubscription,
2733:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                   ( TickType_t ) OTA_SUBSCRIBE_WAIT_TICKS ) != eMQTTAgentSuccess )
2734:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Failed: %s\n\r", OTA_METHOD_NAME, xJobsSubscription.pucTopic );
2736:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2737:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2738:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2739:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, xJobsSubscription.pucTopic );
2740:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xJobsSubscription.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intent
2741:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                      sizeof( cJobTopic ),
2742:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                      cOTA_JobsNotifyNext_TopicTempl
2743:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                      xOTA_Agent.ucThingName );
2744:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2745:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( ( xJobsSubscription.usTopicLength > 0U ) && ( xJobsSubscription.usTopicLength < siz
2746:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2747:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Subscribe to the second of two jobs topics. */
2748:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 if( MQTT_AGENT_Subscribe( xOTA_Agent.pvPubSubClient,
2749:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           &xJobsSubscription,
2750:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           ( TickType_t ) OTA_SUBSCRIBE_WAIT_TICKS ) != eMQTTAgentSu
2751:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] Failed: %s\n\r", OTA_METHOD_NAME, xJobsSubscription.pucTopic 
2753:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2754:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 else
2755:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
2756:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, xJobsSubscription.pucTopic );
2757:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xResult = pdTRUE;
2758:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
2759:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2760:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2761:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2762:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2763:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xResult;
2764:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2765:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2766:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2767:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Subscribe to the OTA data stream topic. */
2768:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2769:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvSubscribeToDataStream( OTA_FileContext_t * C )
2770:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2771:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvSubscribeToDataStream" );
2772:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2773:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult = pdFALSE;
2774:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cOTA_RxStreamTopic[ OTA_MAX_TOPIC_LEN ];
2775:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentSubscribeParams_t xOTAUpdateDataSubscription;
2776:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2777:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     memset( &xOTAUpdateDataSubscription, 0, sizeof( xOTAUpdateDataSubscription ) );
2778:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.xQoS = eMQTTQoS0;
2779:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pucTopic = ( const uint8_t * ) cOTA_RxStreamTopic;
2780:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pvPublishCallbackContext = ( void * ) eOTA_PubMsgType_Stream; /*lint
2781:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pxPublishCallback = prvOTAPublishCallback;
2782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.usTopicLength = ( uint16_t ) snprintf( cOTA_RxStreamTopic,    /*lint
2783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       sizeof( cOTA_RxStreamTopic ),
2784:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       cOTA_StreamData_TopicTemplate
2785:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       xOTA_Agent.ucThingName,
2786:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       ( const char * ) C->pucStream
2787:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2788:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( xOTAUpdateDataSubscription.usTopicLength > 0U ) && ( xOTAUpdateDataSubscription.usTopicLe
2789:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2790:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( MQTT_AGENT_Subscribe( xOTA_Agent.pvPubSubClient, &xOTAUpdateDataSubscription, ( TickTyp
2791:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2792:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Failed: %s\n\r", OTA_METHOD_NAME, xOTAUpdateDataSubscription.pucTopic
2793:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2794:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2795:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2796:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, xOTAUpdateDataSubscription.pucTopic );
2797:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xResult = pdTRUE;
2798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2799:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2800:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
2801:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Failed to build stream topic.\n\r", OTA_METHOD_NAME );
2803:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2804:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2805:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xResult;
2806:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2807:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2808:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2809:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* UnSubscribe from the OTA data stream topic. */
2810:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2811:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static bool_t prvUnSubscribeFromDataStream( OTA_FileContext_t * C )
2812:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
  56              		.loc 1 2812 0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 264
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              	.LVL3:
2813:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUnSubscribeFromDataStream" );
2814:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2815:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentUnsubscribeParams_t xUnSub;
2816:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult = pdFALSE;
2817:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cOTA_RxStreamTopic[ OTA_MAX_TOPIC_LEN ];
2818:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2819:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( C != NULL )
  61              		.loc 1 2819 0
  62 0000 000050E3 		cmp	r0, #0
  63 0004 1EFF2F01 		bxeq	lr
2812:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUnSubscribeFromDataStream" );
  64              		.loc 1 2812 0
  65 0008 30402DE9 		push	{r4, r5, lr}
  66              		.cfi_def_cfa_offset 12
  67              		.cfi_offset 4, -12
  68              		.cfi_offset 5, -8
  69              		.cfi_offset 14, -4
  70 000c 45DF4DE2 		sub	sp, sp, #276
  71              		.cfi_def_cfa_offset 288
2820:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2821:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Try to build the dynamic data stream topic and un-subscribe from it. */
2822:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2823:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xUnSub.usTopicLength = ( uint16_t ) snprintf( cOTA_RxStreamTopic, /*lint -e586 Intentionall
  72              		.loc 1 2823 0
  73 0010 243090E5 		ldr	r3, [r0, #36]
  74 0014 10408DE2 		add	r4, sp, #16
  75 0018 011CA0E3 		mov	r1, #256
  76 001c 0400A0E1 		mov	r0, r4
  77              	.LVL4:
  78 0020 78509FE5 		ldr	r5, .L15
  79 0024 00308DE5 		str	r3, [sp]
  80 0028 74209FE5 		ldr	r2, .L15+4
  81 002c 013085E2 		add	r3, r5, #1
  82 0030 FEFFFFEB 		bl	snprintf
  83              	.LVL5:
  84 0034 7000FFE6 		uxth	r0, r0
  85 0038 BC00CDE1 		strh	r0, [sp, #12]	@ movhi
2824:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                       sizeof( cOTA_RxStreamTopic ),
2825:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                       cOTA_StreamData_TopicTemplate,
2826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                       xOTA_Agent.ucThingName,
2827:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                       ( const char * ) C->pucStreamName );
2828:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2829:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( ( xUnSub.usTopicLength > 0U ) && ( xUnSub.usTopicLength < sizeof( cOTA_RxStreamTopic ) 
  86              		.loc 1 2829 0
  87 003c 010040E2 		sub	r0, r0, #1
  88 0040 FE0050E3 		cmp	r0, #254
  89 0044 1100008A 		bhi	.L7
2830:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2831:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xUnSub.pucTopic = ( const uint8_t * ) cOTA_RxStreamTopic;
2832:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2833:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             if( MQTT_AGENT_Unsubscribe( xOTA_Agent.pvPubSubClient, &xUnSub, OTA_UNSUBSCRIBE_WAIT_TI
  90              		.loc 1 2833 0
  91 0048 FA2FA0E3 		mov	r2, #1000
  92 004c 08108DE2 		add	r1, sp, #8
  93 0050 440095E5 		ldr	r0, [r5, #68]
2831:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
  94              		.loc 1 2831 0
  95 0054 08408DE5 		str	r4, [sp, #8]
  96              		.loc 1 2833 0
  97 0058 FEFFFFEB 		bl	MQTT_AGENT_Unsubscribe
  98              	.LVL6:
  99 005c 000050E3 		cmp	r0, #0
2834:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2835:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] Failed: %s\n\r", OTA_METHOD_NAME, cOTA_RxStreamTopic );
 100              		.loc 1 2835 0
 101 0060 0420A0E1 		mov	r2, r4
 102 0064 3C109FE5 		ldr	r1, .L15+8
2833:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 103              		.loc 1 2833 0
 104 0068 0300000A 		beq	.L8
 105              		.loc 1 2835 0
 106 006c 38009FE5 		ldr	r0, .L15+12
 107 0070 FEFFFFEB 		bl	vLoggingPrintf
 108              	.LVL7:
 109              	.L14:
2816:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cOTA_RxStreamTopic[ OTA_MAX_TOPIC_LEN ];
 110              		.loc 1 2816 0
 111 0074 0000A0E3 		mov	r0, #0
 112 0078 020000EA 		b	.L6
 113              	.L8:
2836:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2837:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             else
2838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
2839:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, cOTA_RxStreamTopic );
 114              		.loc 1 2839 0
 115 007c 2C009FE5 		ldr	r0, .L15+16
 116 0080 FEFFFFEB 		bl	vLoggingPrintf
 117              	.LVL8:
2840:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xResult = pdTRUE;
 118              		.loc 1 2840 0
 119 0084 0100A0E3 		mov	r0, #1
 120              	.LVL9:
 121              	.L6:
2841:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
2842:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2843:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2844:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2845:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] Failed to build stream topic.\n\r", OTA_METHOD_NAME );
2846:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2847:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2848:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2849:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xResult;
2850:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 122              		.loc 1 2850 0
 123 0088 45DF8DE2 		add	sp, sp, #276
 124              		.cfi_remember_state
 125              		.cfi_def_cfa_offset 12
 126              		@ sp needed
 127 008c 3080BDE8 		pop	{r4, r5, pc}
 128              	.LVL10:
 129              	.L7:
 130              		.cfi_restore_state
2845:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 131              		.loc 1 2845 0
 132 0090 10109FE5 		ldr	r1, .L15+8
 133 0094 18009FE5 		ldr	r0, .L15+20
 134 0098 FEFFFFEB 		bl	vLoggingPrintf
 135              	.LVL11:
 136 009c F4FFFFEA 		b	.L14
 137              	.L16:
 138              		.align	2
 139              	.L15:
 140 00a0 00000000 		.word	.LANCHOR0
 141 00a4 00000000 		.word	.LANCHOR1
 142 00a8 00000000 		.word	.LANCHOR2
 143 00ac 00000000 		.word	.LC0
 144 00b0 12000000 		.word	.LC1
 145 00b4 20000000 		.word	.LC2
 146              		.cfi_endproc
 147              	.LFE38:
 149              		.section	.text.prvSelfTestTimer_Callback,"ax",%progbits
 150              		.align	2
 151              		.syntax unified
 152              		.arm
 153              		.fpu neon
 155              	prvSelfTestTimer_Callback:
 156              	.LFB22:
1612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvSelfTestTimer_Callback" );
 157              		.loc 1 1612 0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
 161              	.LVL12:
 162 0000 10402DE9 		push	{r4, lr}
 163              		.cfi_def_cfa_offset 8
 164              		.cfi_offset 4, -8
 165              		.cfi_offset 14, -4
1616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     ( void ) prvPAL_ResetDevice();
 166              		.loc 1 1616 0
 167 0004 FA2DA0E3 		mov	r2, #16000
 168 0008 0C109FE5 		ldr	r1, .L19
 169 000c 0C009FE5 		ldr	r0, .L19+4
 170              	.LVL13:
 171 0010 FEFFFFEB 		bl	vLoggingPrintf
 172              	.LVL14:
1618:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 173              		.loc 1 1618 0
 174 0014 1040BDE8 		pop	{r4, lr}
 175              		.cfi_restore 14
 176              		.cfi_restore 4
 177              		.cfi_def_cfa_offset 0
1617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 178              		.loc 1 1617 0
 179 0018 FEFFFFEA 		b	prvPAL_ResetDevice
 180              	.LVL15:
 181              	.L20:
 182              		.align	2
 183              	.L19:
 184 001c 00000000 		.word	.LANCHOR3
 185 0020 00000000 		.word	.LC3
 186              		.cfi_endproc
 187              	.LFE22:
 189              		.section	.text.prvResetDevice,"ax",%progbits
 190              		.align	2
 191              		.syntax unified
 192              		.arm
 193              		.fpu neon
 195              	prvResetDevice:
 196              	.LFB12:
 817:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvResetDevice" );
 197              		.loc 1 817 0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201 0000 70402DE9 		push	{r4, r5, r6, lr}
 202              		.cfi_def_cfa_offset 16
 203              		.cfi_offset 4, -16
 204              		.cfi_offset 5, -12
 205              		.cfi_offset 6, -8
 206              		.cfi_offset 14, -4
 825:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xErr = prvPAL_ResetDevice();
 207              		.loc 1 825 0
 208 0004 28509FE5 		ldr	r5, .L23
 209 0008 28009FE5 		ldr	r0, .L23+4
 210 000c 0510A0E1 		mov	r1, r5
 211 0010 FEFFFFEB 		bl	vLoggingPrintf
 212              	.LVL16:
 826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Failed to reset the device (0x%08x). Please reset manually.\r\n", OTA_METHOD_
 213              		.loc 1 826 0
 214 0014 FEFFFFEB 		bl	prvPAL_ResetDevice
 215              	.LVL17:
 827:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 216              		.loc 1 827 0
 217 0018 0510A0E1 		mov	r1, r5
 826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Failed to reset the device (0x%08x). Please reset manually.\r\n", OTA_METHOD_
 218              		.loc 1 826 0
 219 001c 0040A0E1 		mov	r4, r0
 220              	.LVL18:
 827:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 221              		.loc 1 827 0
 222 0020 0020A0E1 		mov	r2, r0
 223 0024 10009FE5 		ldr	r0, .L23+8
 224              	.LVL19:
 225 0028 FEFFFFEB 		bl	vLoggingPrintf
 226              	.LVL20:
 829:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 227              		.loc 1 829 0
 228 002c 0400A0E1 		mov	r0, r4
 229 0030 7080BDE8 		pop	{r4, r5, r6, pc}
 230              	.L24:
 231              		.align	2
 232              	.L23:
 233 0034 00000000 		.word	.LANCHOR4
 234 0038 00000000 		.word	.LC4
 235 003c 2C000000 		.word	.LC5
 236              		.cfi_endproc
 237              	.LFE12:
 239              		.section	.text.prvOTA_Close,"ax",%progbits
 240              		.align	2
 241              		.syntax unified
 242              		.arm
 243              		.fpu neon
 245              	prvOTA_Close:
 246              	.LFB27:
1705:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvOTA_Close" );
 247              		.loc 1 1705 0
 248              		.cfi_startproc
 249              		@ args = 0, pretend = 0, frame = 0
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 251              	.LVL21:
 252 0000 37402DE9 		push	{r0, r1, r2, r4, r5, lr}
 253              		.cfi_def_cfa_offset 24
 254              		.cfi_offset 4, -12
 255              		.cfi_offset 5, -8
 256              		.cfi_offset 14, -4
1705:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvOTA_Close" );
 257              		.loc 1 1705 0
 258 0004 0040A0E1 		mov	r4, r0
1710:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 259              		.loc 1 1710 0
 260 0008 0020A0E1 		mov	r2, r0
 261 000c 10119FE5 		ldr	r1, .L57
 262 0010 10019FE5 		ldr	r0, .L57+4
 263              	.LVL22:
 264 0014 FEFFFFEB 		bl	vLoggingPrintf
 265              	.LVL23:
1712:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 266              		.loc 1 1712 0
 267 0018 000054E3 		cmp	r4, #0
1708:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 268              		.loc 1 1708 0
 269 001c 0400A001 		moveq	r0, r4
1712:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 270              		.loc 1 1712 0
 271 0020 3D00000A 		beq	.L26
1715:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 272              		.loc 1 1715 0
 273 0024 080094E5 		ldr	r0, [r4, #8]
 274 0028 000050E3 		cmp	r0, #0
 275 002c 0C00000A 		beq	.L27
1717:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xTimerDelete( C->xRequestTimer, 0 );
 276              		.loc 1 1717 0
 277 0030 0050A0E3 		mov	r5, #0
 278 0034 0310A0E3 		mov	r1, #3
 279 0038 0530A0E1 		mov	r3, r5
 280 003c 0520A0E1 		mov	r2, r5
 281 0040 00508DE5 		str	r5, [sp]
 282 0044 FEFFFFEB 		bl	xTimerGenericCommand
 283              	.LVL24:
1718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->xRequestTimer = NULL;
 284              		.loc 1 1718 0
 285 0048 00508DE5 		str	r5, [sp]
 286 004c 0530A0E1 		mov	r3, r5
 287 0050 0520A0E1 		mov	r2, r5
 288 0054 0510A0E3 		mov	r1, #5
 289 0058 080094E5 		ldr	r0, [r4, #8]
 290 005c FEFFFFEB 		bl	xTimerGenericCommand
 291              	.LVL25:
1719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 292              		.loc 1 1719 0
 293 0060 085084E5 		str	r5, [r4, #8]
 294              	.L27:
1722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 295              		.loc 1 1722 0
 296 0064 243094E5 		ldr	r3, [r4, #36]
 297 0068 000053E3 		cmp	r3, #0
 298 006c 0500000A 		beq	.L28
1724:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             vPortFree( C->pucStreamName );              /* Free any previously allocated stream nam
 299              		.loc 1 1724 0
 300 0070 0400A0E1 		mov	r0, r4
 301 0074 FEFFFFEB 		bl	prvUnSubscribeFromDataStream
 302              	.LVL26:
1725:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucStreamName = NULL;
 303              		.loc 1 1725 0
 304 0078 240094E5 		ldr	r0, [r4, #36]
 305 007c FEFFFFEB 		bl	vPortFree
 306              	.LVL27:
1726:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 307              		.loc 1 1726 0
 308 0080 0030A0E3 		mov	r3, #0
 309 0084 243084E5 		str	r3, [r4, #36]
 310              	.L28:
1729:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 311              		.loc 1 1729 0
 312 0088 200094E5 		ldr	r0, [r4, #32]
 313 008c 000050E3 		cmp	r0, #0
 314 0090 0200000A 		beq	.L29
1731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucJobName = NULL;
 315              		.loc 1 1731 0
 316 0094 FEFFFFEB 		bl	vPortFree
 317              	.LVL28:
1732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 318              		.loc 1 1732 0
 319 0098 0030A0E3 		mov	r3, #0
 320 009c 203084E5 		str	r3, [r4, #32]
 321              	.L29:
1735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 322              		.loc 1 1735 0
 323 00a0 2C0094E5 		ldr	r0, [r4, #44]
 324 00a4 000050E3 		cmp	r0, #0
 325 00a8 0200000A 		beq	.L30
1737:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucRxBlockBitmap = NULL;
 326              		.loc 1 1737 0
 327 00ac FEFFFFEB 		bl	vPortFree
 328              	.LVL29:
1738:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 329              		.loc 1 1738 0
 330 00b0 0030A0E3 		mov	r3, #0
 331 00b4 2C3084E5 		str	r3, [r4, #44]
 332              	.L30:
1741:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 333              		.loc 1 1741 0
 334 00b8 280094E5 		ldr	r0, [r4, #40]
 335 00bc 000050E3 		cmp	r0, #0
 336 00c0 0200000A 		beq	.L31
1743:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pxSignature = NULL;
 337              		.loc 1 1743 0
 338 00c4 FEFFFFEB 		bl	vPortFree
 339              	.LVL30:
1744:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 340              		.loc 1 1744 0
 341 00c8 0030A0E3 		mov	r3, #0
 342 00cc 283084E5 		str	r3, [r4, #40]
 343              	.L31:
1747:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 344              		.loc 1 1747 0
 345 00d0 000094E5 		ldr	r0, [r4]
 346 00d4 000050E3 		cmp	r0, #0
 347 00d8 0200000A 		beq	.L32
1749:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucFilePath = NULL;
 348              		.loc 1 1749 0
 349 00dc FEFFFFEB 		bl	vPortFree
 350              	.LVL31:
1750:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 351              		.loc 1 1750 0
 352 00e0 0030A0E3 		mov	r3, #0
 353 00e4 003084E5 		str	r3, [r4]
 354              	.L32:
1753:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 355              		.loc 1 1753 0
 356 00e8 300094E5 		ldr	r0, [r4, #48]
 357 00ec 000050E3 		cmp	r0, #0
 358 00f0 0200000A 		beq	.L33
1755:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             C->pucCertFilepath = NULL;
 359              		.loc 1 1755 0
 360 00f4 FEFFFFEB 		bl	vPortFree
 361              	.LVL32:
1756:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 362              		.loc 1 1756 0
 363 00f8 0030A0E3 		mov	r3, #0
 364 00fc 303084E5 		str	r3, [r4, #48]
 365              	.L33:
1760:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         memset( C, 0, sizeof( OTA_FileContext_t ) ); /* Clear the entire structure now that it is f
 366              		.loc 1 1760 0
 367 0100 0400A0E1 		mov	r0, r4
 368 0104 FEFFFFEB 		bl	prvPAL_Abort
 369              	.LVL33:
1761:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xResult = pdTRUE;
 370              		.loc 1 1761 0
 371 0108 3C20A0E3 		mov	r2, #60
 372 010c 0010A0E3 		mov	r1, #0
 373 0110 0400A0E1 		mov	r0, r4
 374 0114 FEFFFFEB 		bl	memset
 375              	.LVL34:
1762:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 376              		.loc 1 1762 0
 377 0118 0100A0E3 		mov	r0, #1
 378              	.LVL35:
 379              	.L26:
1766:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 380              		.loc 1 1766 0
 381 011c 0CD08DE2 		add	sp, sp, #12
 382              		.cfi_def_cfa_offset 12
 383              		@ sp needed
 384 0120 3080BDE8 		pop	{r4, r5, pc}
 385              	.LVL36:
 386              	.L58:
 387              		.align	2
 388              	.L57:
 389 0124 00000000 		.word	.LANCHOR5
 390 0128 00000000 		.word	.LC6
 391              		.cfi_endproc
 392              	.LFE27:
 394              		.section	.text.prvOTAPublishCallback,"ax",%progbits
 395              		.align	2
 396              		.syntax unified
 397              		.arm
 398              		.fpu neon
 400              	prvOTAPublishCallback:
 401              	.LFB19:
1271:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME_L2( "prvOTAPublishCallback" );
 402              		.loc 1 1271 0
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 32
 405              		@ frame_needed = 0, uses_anonymous_args = 0
 406              	.LVL37:
 407 0000 30402DE9 		push	{r4, r5, lr}
 408              		.cfi_def_cfa_offset 12
 409              		.cfi_offset 4, -12
 410              		.cfi_offset 5, -8
 411              		.cfi_offset 14, -4
 412 0004 24D04DE2 		sub	sp, sp, #36
 413              		.cfi_def_cfa_offset 48
1279:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 414              		.loc 1 1279 0
 415 0008 98409FE5 		ldr	r4, .L65
 416 000c 845094E5 		ldr	r5, [r4, #132]
 417 0010 000055E3 		cmp	r5, #0
 418 0014 1F00000A 		beq	.L60
1281:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xMsg.lMsgType = ( int32_t ) pvCallbackContext; /*lint !e923 The context variable is actuall
 419              		.loc 1 1281 0
 420 0018 A03094E5 		ldr	r3, [r4, #160]
 421 001c 01C0A0E1 		mov	ip, r1
1282:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xMsg.xPubData = *pxPublishData;
 422              		.loc 1 1282 0
 423 0020 1C008DE5 		str	r0, [sp, #28]
1283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xReturn = xQueueSendToBack( xOTA_Agent.xOTA_MsgQ, &xMsg, ( TickType_t ) 0 );
 424              		.loc 1 1283 0
 425 0024 04E08DE2 		add	lr, sp, #4
1281:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xMsg.lMsgType = ( int32_t ) pvCallbackContext; /*lint !e923 The context variable is actuall
 426              		.loc 1 1281 0
 427 0028 013083E2 		add	r3, r3, #1
 428 002c A03084E5 		str	r3, [r4, #160]
1283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xReturn = xQueueSendToBack( xOTA_Agent.xOTA_MsgQ, &xMsg, ( TickType_t ) 0 );
 429              		.loc 1 1283 0
 430 0030 0F00BCE8 		ldmia	ip!, {r0, r1, r2, r3}
 431              	.LVL38:
 432 0034 0F00AEE8 		stmia	lr!, {r0, r1, r2, r3}
1284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 433              		.loc 1 1284 0
 434 0038 0030A0E3 		mov	r3, #0
1283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xReturn = xQueueSendToBack( xOTA_Agent.xOTA_MsgQ, &xMsg, ( TickType_t ) 0 );
 435              		.loc 1 1283 0
 436 003c 03009CE8 		ldm	ip, {r0, r1}
1284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 437              		.loc 1 1284 0
 438 0040 0320A0E1 		mov	r2, r3
1283:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xReturn = xQueueSendToBack( xOTA_Agent.xOTA_MsgQ, &xMsg, ( TickType_t ) 0 );
 439              		.loc 1 1283 0
 440 0044 03008EE8 		stm	lr, {r0, r1}
1284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 441              		.loc 1 1284 0
 442 0048 04108DE2 		add	r1, sp, #4
 443 004c 9C0094E5 		ldr	r0, [r4, #156]
 444 0050 FEFFFFEB 		bl	xQueueGenericSend
 445              	.LVL39:
1286:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 446              		.loc 1 1286 0
 447 0054 010050E3 		cmp	r0, #1
1284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 448              		.loc 1 1284 0
 449 0058 0050A0E1 		mov	r5, r0
 450              	.LVL40:
1286:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 451              		.loc 1 1286 0
 452 005c 0700001A 		bne	.L61
 453              	.LVL41:
 454              	.LBB7:
 455              	.LBB8:
1288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_MSG_READY );
 456              		.loc 1 1288 0
 457 0060 A43094E5 		ldr	r3, [r4, #164]
1289:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Take ownership of the MQTT buffer. */
 458              		.loc 1 1289 0
 459 0064 0010A0E1 		mov	r1, r0
 460 0068 840094E5 		ldr	r0, [r4, #132]
 461              	.LVL42:
1288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ( void ) xEventGroupSetBits( xOTA_Agent.xOTA_EventFlags, OTA_EVT_MASK_MSG_READY );
 462              		.loc 1 1288 0
 463 006c 013083E2 		add	r3, r3, #1
 464 0070 A43084E5 		str	r3, [r4, #164]
1289:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             /* Take ownership of the MQTT buffer. */
 465              		.loc 1 1289 0
 466 0074 FEFFFFEB 		bl	xEventGroupSetBits
 467              	.LVL43:
 468              	.L64:
 469              	.LBE8:
 470              	.LBE7:
1274:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xReturn;
 471              		.loc 1 1274 0
 472 0078 0500A0E1 		mov	r0, r5
 473 007c 030000EA 		b	.L62
 474              	.LVL44:
 475              	.L61:
1295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 476              		.loc 1 1295 0
 477 0080 AC3094E5 		ldr	r3, [r4, #172]
1274:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     BaseType_t xReturn;
 478              		.loc 1 1274 0
 479 0084 0000A0E3 		mov	r0, #0
 480              	.LVL45:
1295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 481              		.loc 1 1295 0
 482 0088 013083E2 		add	r3, r3, #1
 483 008c AC3084E5 		str	r3, [r4, #172]
 484              	.LVL46:
 485              	.L62:
1308:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 486              		.loc 1 1308 0
 487 0090 24D08DE2 		add	sp, sp, #36
 488              		.cfi_remember_state
 489              		.cfi_def_cfa_offset 12
 490              		@ sp needed
 491 0094 3080BDE8 		pop	{r4, r5, pc}
 492              	.LVL47:
 493              	.L60:
 494              		.cfi_restore_state
1304:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 495              		.loc 1 1304 0
 496 0098 AC3094E5 		ldr	r3, [r4, #172]
 497 009c 013083E2 		add	r3, r3, #1
 498 00a0 AC3084E5 		str	r3, [r4, #172]
 499 00a4 F3FFFFEA 		b	.L64
 500              	.L66:
 501              		.align	2
 502              	.L65:
 503 00a8 00000000 		.word	.LANCHOR0
 504              		.cfi_endproc
 505              	.LFE19:
 507              		.section	.text.prvPublishMessage,"ax",%progbits
 508              		.align	2
 509              		.syntax unified
 510              		.arm
 511              		.fpu neon
 513              	prvPublishMessage:
 514              	.LFB40:
2851:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2852:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2853:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* UnSubscribe from the OTA job notification topics. */
2854:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static void prvUnSubscribeFromJobNotificationTopic( void )
2855:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
2856:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUnSubscribeFromJobNotificationTopic" );
2857:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentUnsubscribeParams_t xUnSub;
2859:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cJobTopic[ OTA_MAX_TOPIC_LEN ];
2860:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2861:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Try to unsubscribe from the first of two job topics. */
2862:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xUnSub.pucTopic = ( const uint8_t * ) cJobTopic;         /* Point to local string storage. Buil
2863:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xUnSub.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intentionally using snpri
2864:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   sizeof( cJobTopic ),
2865:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   cOTA_JobsNotifyNext_TopicTemplate,
2866:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   xOTA_Agent.ucThingName );
2867:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2868:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( xUnSub.usTopicLength > 0U ) && ( xUnSub.usTopicLength < sizeof( cJobTopic ) ) )
2869:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2870:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( MQTT_AGENT_Unsubscribe( xOTA_Agent.pvPubSubClient, &xUnSub, OTA_UNSUBSCRIBE_WAIT_TICKS 
2871:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2872:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] FAIL: %s\n\r", OTA_METHOD_NAME, xUnSub.pucTopic );
2873:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2874:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2875:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2876:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, xUnSub.pucTopic );
2877:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2878:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2879:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2880:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /* Try to unsubscribe from the second of two job topics. */
2881:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xUnSub.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intentionally using snpri
2882:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   sizeof( cJobTopic ),
2883:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   cOTA_JobsGetNextAccepted_TopicTemplate,
2884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   xOTA_Agent.ucThingName );
2885:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2886:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( ( xUnSub.usTopicLength > 0U ) && ( xUnSub.usTopicLength < sizeof( cJobTopic ) ) )
2887:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2888:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         if( MQTT_AGENT_Unsubscribe( xOTA_Agent.pvPubSubClient, &xUnSub, OTA_UNSUBSCRIBE_WAIT_TICKS 
2889:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] FAIL: %s\n\r", OTA_METHOD_NAME, xUnSub.pucTopic );
2891:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2892:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         else
2893:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
2894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             OTA_LOG_L1( "[%s] OK: %s\n\r", OTA_METHOD_NAME, xUnSub.pucTopic );
2895:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
2896:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2897:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
2898:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2899:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2900:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** /* Publish a message to the specified client/topic at the given QOS. */
2901:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2902:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** static MQTTAgentReturnCode_t prvPublishMessage( void * const pvClient,
2903:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 const char * const pcTopic,
2904:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint16_t usTopicLen,
2905:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 char * pcMsg,
2906:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 uint32_t ulMsgSize,
2907:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 MQTTQoS_t eQOS )
2908:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** {
 515              		.loc 1 2908 0
 516              		.cfi_startproc
 517              		@ args = 8, pretend = 0, frame = 16
 518              		@ frame_needed = 0, uses_anonymous_args = 0
 519              	.LVL48:
 520 0000 1F402DE9 		push	{r0, r1, r2, r3, r4, lr}
 521              		.cfi_def_cfa_offset 24
 522              		.cfi_offset 14, -4
2909:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentReturnCode_t eResult;
2910:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     MQTTAgentPublishParams_t xPublishParams;
2911:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2912:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.pucTopic = ( const uint8_t * ) pcTopic;
2913:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.usTopicLength = usTopicLen;
 523              		.loc 1 2913 0
 524 0004 B420CDE1 		strh	r2, [sp, #4]	@ movhi
2914:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.xQoS = eQOS;
 525              		.loc 1 2914 0
 526 0008 1C20DDE5 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 527              	.LVL49:
2915:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.pvData = pcMsg;
 528              		.loc 1 2915 0
 529 000c 08308DE5 		str	r3, [sp, #8]
2916:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.ulDataLength = ulMsgSize;
 530              		.loc 1 2916 0
 531 0010 18309DE5 		ldr	r3, [sp, #24]
 532              	.LVL50:
2912:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.usTopicLength = usTopicLen;
 533              		.loc 1 2912 0
 534 0014 00108DE5 		str	r1, [sp]
2917:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eResult = MQTT_AGENT_Publish( pvClient, &xPublishParams, ( TickType_t ) OTA_PUBLISH_WAIT_TICKS 
 535              		.loc 1 2917 0
 536 0018 0D10A0E1 		mov	r1, sp
 537              	.LVL51:
2914:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xPublishParams.pvData = pcMsg;
 538              		.loc 1 2914 0
 539 001c 0620CDE5 		strb	r2, [sp, #6]
 540              		.loc 1 2917 0
 541 0020 102702E3 		movw	r2, #10000
2916:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     eResult = MQTT_AGENT_Publish( pvClient, &xPublishParams, ( TickType_t ) OTA_PUBLISH_WAIT_TICKS 
 542              		.loc 1 2916 0
 543 0024 0C308DE5 		str	r3, [sp, #12]
 544              		.loc 1 2917 0
 545 0028 FEFFFFEB 		bl	MQTT_AGENT_Publish
 546              	.LVL52:
2918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2919:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     if( eResult != eMQTTAgentSuccess )
 547              		.loc 1 2919 0
 548 002c 000050E3 		cmp	r0, #0
 549              	.LVL53:
 550              	.LBB11:
 551              	.LBB12:
2920:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2921:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xStatistics.ulOTA_PublishFailures++; /* Track how many publish failures we've ha
 552              		.loc 1 2921 0
 553 0030 10209F15 		ldrne	r2, .L73
 554 0034 B0309215 		ldrne	r3, [r2, #176]
 555 0038 01308312 		addne	r3, r3, #1
 556 003c B0308215 		strne	r3, [r2, #176]
 557              	.LBE12:
 558              	.LBE11:
2922:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2923:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     else
2924:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
2925:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Nothing special to do on success. */
2926:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
2927:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
2928:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return eResult;
2929:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 559              		.loc 1 2929 0
 560 0040 14D08DE2 		add	sp, sp, #20
 561              		.cfi_def_cfa_offset 4
 562              		@ sp needed
 563 0044 04F09DE4 		ldr	pc, [sp], #4
 564              	.LVL54:
 565              	.L74:
 566              		.align	2
 567              	.L73:
 568 0048 00000000 		.word	.LANCHOR0
 569              		.cfi_endproc
 570              	.LFE40:
 572              		.section	.text.prvUpdateJobStatus,"ax",%progbits
 573              		.align	2
 574              		.syntax unified
 575              		.arm
 576              		.fpu neon
 578              	prvUpdateJobStatus:
 579              	.LFB17:
1004:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUpdateJobStatus" );
 580              		.loc 1 1004 0
 581              		.cfi_startproc
 582              		@ args = 0, pretend = 0, frame = 384
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 584              	.LVL55:
 585 0000 F0412DE9 		push	{r4, r5, r6, r7, r8, lr}
 586              		.cfi_def_cfa_offset 24
 587              		.cfi_offset 4, -24
 588              		.cfi_offset 5, -20
 589              		.cfi_offset 6, -16
 590              		.cfi_offset 7, -12
 591              		.cfi_offset 8, -8
 592              		.cfi_offset 14, -4
1019:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 593              		.loc 1 1019 0
 594 0004 006051E2 		subs	r6, r1, #0
1004:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUpdateJobStatus" );
 595              		.loc 1 1004 0
 596 0008 19DE4DE2 		sub	sp, sp, #400
 597              		.cfi_def_cfa_offset 424
1004:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvUpdateJobStatus" );
 598              		.loc 1 1004 0
 599 000c 0270A0E1 		mov	r7, r2
1019:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 600              		.loc 1 1019 0
 601 0010 5400001A 		bne	.L76
1021:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 602              		.loc 1 1021 0
 603 0014 000052E3 		cmp	r2, #0
 604 0018 3D00001A 		bne	.L77
1023:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 605              		.loc 1 1023 0
 606 001c 000050E3 		cmp	r0, #0
 607 0020 3700000A 		beq	.L78
1025:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulReceived = ulNumBlocks - C->ulBlocksRemaining;
 608              		.loc 1 1025 0
 609 0024 0C3090E5 		ldr	r3, [r0, #12]
 610              	.LVL56:
1026:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 611              		.loc 1 1026 0
 612 0028 107090E5 		ldr	r7, [r0, #16]
1025:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulReceived = ulNumBlocks - C->ulBlocksRemaining;
 613              		.loc 1 1025 0
 614 002c FF3F83E2 		add	r3, r3, #1020
 615 0030 033083E2 		add	r3, r3, #3
 616 0034 2355A0E1 		lsr	r5, r3, #10
 617              	.LVL57:
1026:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 618              		.loc 1 1026 0
 619 0038 077045E0 		sub	r7, r5, r7
 620              	.LVL58:
1028:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 621              		.loc 1 1028 0
 622 003c 3F0017E3 		tst	r7, #63
 623 0040 2D00001A 		bne	.L75
 624              	.LVL59:
1032:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        sizeof( cMsg ),
 625              		.loc 1 1032 0
 626 0044 D8319FE5 		ldr	r3, .L94
 627 0048 8010A0E3 		mov	r1, #128
 628              	.LVL60:
 629 004c D4219FE5 		ldr	r2, .L94+4
 630              	.LVL61:
 631 0050 10008DE2 		add	r0, sp, #16
 632              	.LVL62:
 633 0054 FEFFFFEB 		bl	snprintf
 634              	.LVL63:
 635 0058 0040A0E1 		mov	r4, r0
 636              	.LVL64:
1036:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         sizeof( cMsg ) - ulMsgSize,
 637              		.loc 1 1036 0
 638 005c 801060E2 		rsb	r1, r0, #128
 639 0060 10008DE2 		add	r0, sp, #16
 640              	.LVL65:
 641 0064 04508DE5 		str	r5, [sp, #4]
 642 0068 040080E0 		add	r0, r0, r4
 643 006c 00708DE5 		str	r7, [sp]
 644 0070 B4319FE5 		ldr	r3, .L94+8
1031:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulMsgSize = ( uint32_t ) snprintf( cMsg, /*lint -e586 Intentionally using snpri
 645              		.loc 1 1031 0
 646 0074 0650A0E1 		mov	r5, r6
 647              	.LVL66:
1036:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         sizeof( cMsg ) - ulMsgSize,
 648              		.loc 1 1036 0
 649 0078 B0219FE5 		ldr	r2, .L94+12
 650 007c FEFFFFEB 		bl	snprintf
 651              	.LVL67:
 652 0080 044080E0 		add	r4, r0, r4
 653              	.LVL68:
 654              	.L81:
1128:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 655              		.loc 1 1128 0
 656 0084 000054E3 		cmp	r4, #0
 657 0088 1B00000A 		beq	.L75
1131:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             sizeof( cTopicBuffer ),
 658              		.loc 1 1131 0
 659 008c A0719FE5 		ldr	r7, .L94+16
 660 0090 011CA0E3 		mov	r1, #256
 661 0094 9C219FE5 		ldr	r2, .L94+20
 662 0098 90008DE2 		add	r0, sp, #144
 663 009c 8C3097E5 		ldr	r3, [r7, #140]
 664 00a0 00308DE5 		str	r3, [sp]
 665 00a4 013087E2 		add	r3, r7, #1
 666 00a8 FEFFFFEB 		bl	snprintf
 667              	.LVL69:
1138:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 668              		.loc 1 1138 0
 669 00ac 013040E2 		sub	r3, r0, #1
1131:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             sizeof( cTopicBuffer ),
 670              		.loc 1 1131 0
 671 00b0 0080A0E1 		mov	r8, r0
 672              	.LVL70:
1138:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 673              		.loc 1 1138 0
 674 00b4 FE0053E3 		cmp	r3, #254
 675 00b8 5600008A 		bhi	.L85
1140:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eResult = prvPublishMessage(
 676              		.loc 1 1140 0
 677 00bc 10208DE2 		add	r2, sp, #16
 678 00c0 74119FE5 		ldr	r1, .L94+24
 679 00c4 74019FE5 		ldr	r0, .L94+28
 680              	.LVL71:
 681 00c8 FEFFFFEB 		bl	vLoggingPrintf
 682              	.LVL72:
1141:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pvPubSubClient,
 683              		.loc 1 1141 0
 684 00cc 30008DE8 		stm	sp, {r4, r5}
 685 00d0 10308DE2 		add	r3, sp, #16
 686 00d4 7820FFE6 		uxth	r2, r8
 687 00d8 90108DE2 		add	r1, sp, #144
 688 00dc 440097E5 		ldr	r0, [r7, #68]
 689 00e0 FEFFFFEB 		bl	prvPublishMessage
 690              	.LVL73:
1149:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 691              		.loc 1 1149 0
 692 00e4 000050E3 		cmp	r0, #0
 693 00e8 4300000A 		beq	.L86
1151:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 694              		.loc 1 1151 0
 695 00ec 90208DE2 		add	r2, sp, #144
 696 00f0 44119FE5 		ldr	r1, .L94+24
 697 00f4 48019FE5 		ldr	r0, .L94+32
 698              	.LVL74:
 699 00f8 FEFFFFEB 		bl	vLoggingPrintf
 700              	.LVL75:
 701              	.L75:
1167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 702              		.loc 1 1167 0
 703 00fc 19DE8DE2 		add	sp, sp, #400
 704              		.cfi_remember_state
 705              		.cfi_def_cfa_offset 24
 706              		@ sp needed
 707 0100 F081BDE8 		pop	{r4, r5, r6, r7, r8, pc}
 708              	.LVL76:
 709              	.L78:
 710              		.cfi_restore_state
1052:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 ulMsgSize = 0UL;
 711              		.loc 1 1052 0
 712 0104 30119FE5 		ldr	r1, .L94+24
 713              	.LVL77:
 714 0108 38019FE5 		ldr	r0, .L94+36
 715              	.LVL78:
 716              	.L93:
1160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 717              		.loc 1 1160 0
 718 010c FEFFFFEB 		bl	vLoggingPrintf
 719              	.LVL79:
1167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 720              		.loc 1 1167 0
 721 0110 F9FFFFEA 		b	.L75
 722              	.LVL80:
 723              	.L77:
1060:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
 724              		.loc 1 1060 0
 725 0114 08319FE5 		ldr	r3, .L94
 726              	.LVL81:
 727 0118 8010A0E3 		mov	r1, #128
 728              	.LVL82:
 729 011c 04219FE5 		ldr	r2, .L94+4
 730              	.LVL83:
 731 0120 10008DE2 		add	r0, sp, #16
 732              	.LVL84:
 733 0124 FEFFFFEB 		bl	snprintf
 734              	.LVL85:
1064:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 sizeof( cMsg ) - ulMsgSize,
 735              		.loc 1 1064 0
 736 0128 1C319FE5 		ldr	r3, .L94+40
1060:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
 737              		.loc 1 1060 0
 738 012c 0040A0E1 		mov	r4, r0
 739              	.LVL86:
1064:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 sizeof( cMsg ) - ulMsgSize,
 740              		.loc 1 1064 0
 741 0130 801060E2 		rsb	r1, r0, #128
 742 0134 10008DE2 		add	r0, sp, #16
 743              	.LVL87:
 744 0138 10219FE5 		ldr	r2, .L94+44
 745 013c 040080E0 		add	r0, r0, r4
 746 0140 003093E5 		ldr	r3, [r3]
 747 0144 04308DE5 		str	r3, [sp, #4]
 748 0148 04319FE5 		ldr	r3, .L94+48
 749 014c 073193E7 		ldr	r3, [r3, r7, lsl #2]
 750 0150 00308DE5 		str	r3, [sp]
 751 0154 FC309FE5 		ldr	r3, .L94+52
 752 0158 FEFFFFEB 		bl	snprintf
 753              	.LVL88:
 754              	.L92:
1115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
 755              		.loc 1 1115 0
 756 015c 044080E0 		add	r4, r0, r4
 757              	.LVL89:
1014:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 758              		.loc 1 1014 0
 759 0160 0150A0E3 		mov	r5, #1
 760 0164 C6FFFFEA 		b	.L81
 761              	.LVL90:
 762              	.L76:
1074:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 763              		.loc 1 1074 0
 764 0168 040056E3 		cmp	r6, #4
 765 016c E2FFFF8A 		bhi	.L75
 766 0170 0350A0E1 		mov	r5, r3
1081:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
 767              		.loc 1 1081 0
 768 0174 E0309FE5 		ldr	r3, .L94+56
 769              	.LVL91:
 770 0178 8010A0E3 		mov	r1, #128
 771              	.LVL92:
 772 017c A4209FE5 		ldr	r2, .L94+4
 773              	.LVL93:
 774 0180 10008DE2 		add	r0, sp, #16
 775              	.LVL94:
 776 0184 063193E7 		ldr	r3, [r3, r6, lsl #2]
 777 0188 FEFFFFEB 		bl	snprintf
 778              	.LVL95:
1086:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 779              		.loc 1 1086 0
 780 018c 040056E3 		cmp	r6, #4
 781 0190 10308DE2 		add	r3, sp, #16
1081:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                sizeof( cMsg ),
 782              		.loc 1 1081 0
 783 0194 0040A0E1 		mov	r4, r0
 784              	.LVL96:
 785 0198 801060E2 		rsb	r1, r0, #128
 786 019c 000083E0 		add	r0, r3, r0
 787              	.LVL97:
1086:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 788              		.loc 1 1086 0
 789 01a0 0400001A 		bne	.L83
1088:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
 790              		.loc 1 1088 0
 791 01a4 B4209FE5 		ldr	r2, .L94+60
 792 01a8 0730A0E1 		mov	r3, r7
 793 01ac 00508DE5 		str	r5, [sp]
 794              	.L91:
1115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
 795              		.loc 1 1115 0
 796 01b0 FEFFFFEB 		bl	snprintf
 797              	.LVL98:
 798 01b4 E8FFFFEA 		b	.L92
 799              	.L83:
1100:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 800              		.loc 1 1100 0
 801 01b8 020056E3 		cmp	r6, #2
 802 01bc 90309FE5 		ldr	r3, .L94+48
 803 01c0 0900001A 		bne	.L84
 804              	.LBB13:
1105:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
 805              		.loc 1 1105 0
 806 01c4 7520FFE6 		uxth	r2, r5
 807              	.LVL99:
 808 01c8 073193E7 		ldr	r3, [r3, r7, lsl #2]
 809              	.LVL100:
 810 01cc 08208DE5 		str	r2, [sp, #8]
 811 01d0 5528E7E7 		ubfx	r2, r5, #16, #8
 812              	.LVL101:
 813 01d4 255CA0E1 		lsr	r5, r5, #24
 814              	.LVL102:
 815 01d8 04208DE5 		str	r2, [sp, #4]
 816 01dc 80209FE5 		ldr	r2, .L94+64
 817 01e0 00508DE5 		str	r5, [sp]
 818 01e4 FEFFFFEB 		bl	snprintf
 819              	.LVL103:
 820 01e8 DBFFFFEA 		b	.L92
 821              	.LVL104:
 822              	.L84:
 823              	.LBE13:
1115:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cMsg ) - ulMsgSize,
 824              		.loc 1 1115 0
 825 01ec 00508DE5 		str	r5, [sp]
 826 01f0 073193E7 		ldr	r3, [r3, r7, lsl #2]
 827 01f4 6C209FE5 		ldr	r2, .L94+68
 828 01f8 ECFFFFEA 		b	.L91
 829              	.LVL105:
 830              	.L86:
1155:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 831              		.loc 1 1155 0
 832 01fc 58209FE5 		ldr	r2, .L94+56
 833 0200 90308DE2 		add	r3, sp, #144
 834 0204 30109FE5 		ldr	r1, .L94+24
 835 0208 5C009FE5 		ldr	r0, .L94+72
 836              	.LVL106:
 837 020c 062192E7 		ldr	r2, [r2, r6, lsl #2]
 838 0210 FEFFFFEB 		bl	vLoggingPrintf
 839              	.LVL107:
 840 0214 B8FFFFEA 		b	.L75
 841              	.LVL108:
 842              	.L85:
1160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 843              		.loc 1 1160 0
 844 0218 1C109FE5 		ldr	r1, .L94+24
 845 021c 4C009FE5 		ldr	r0, .L94+76
 846              	.LVL109:
 847 0220 B9FFFFEA 		b	.L93
 848              	.L95:
 849              		.align	2
 850              	.L94:
 851 0224 00000000 		.word	.LANCHOR6
 852 0228 00000000 		.word	.LANCHOR7
 853 022c 00000000 		.word	.LANCHOR8
 854 0230 00000000 		.word	.LANCHOR9
 855 0234 00000000 		.word	.LANCHOR0
 856 0238 00000000 		.word	.LANCHOR18
 857 023c 00000000 		.word	.LANCHOR10
 858 0240 24000000 		.word	.LC8
 859 0244 33000000 		.word	.LC9
 860 0248 00000000 		.word	.LC7
 861 024c 00000000 		.word	xAppFirmwareVersion
 862 0250 00000000 		.word	.LANCHOR12
 863 0254 00000000 		.word	.LANCHOR13
 864 0258 00000000 		.word	.LANCHOR11
 865 025c 00000000 		.word	.LANCHOR14
 866 0260 00000000 		.word	.LANCHOR15
 867 0264 00000000 		.word	.LANCHOR16
 868 0268 00000000 		.word	.LANCHOR17
 869 026c 45000000 		.word	.LC10
 870 0270 57000000 		.word	.LC11
 871              		.cfi_endproc
 872              	.LFE17:
 874              		.section	.text.prvSetImageStateWithReason,"ax",%progbits
 875              		.align	2
 876              		.syntax unified
 877              		.arm
 878              		.fpu neon
 880              	prvSetImageStateWithReason:
 881              	.LFB16:
 915:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
 882              		.loc 1 915 0
 883              		.cfi_startproc
 884              		@ args = 0, pretend = 0, frame = 0
 885              		@ frame_needed = 0, uses_anonymous_args = 0
 886              	.LVL110:
 918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 887              		.loc 1 918 0
 888 0000 013040E2 		sub	r3, r0, #1
 915:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_Err_t xErr = kOTA_Err_Uninitialized;
 889              		.loc 1 915 0
 890 0004 73402DE9 		push	{r0, r1, r4, r5, r6, lr}
 891              		.cfi_def_cfa_offset 24
 892              		.cfi_offset 4, -16
 893              		.cfi_offset 5, -12
 894              		.cfi_offset 6, -8
 895              		.cfi_offset 14, -4
 918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 896              		.loc 1 918 0
 897 0008 030053E3 		cmp	r3, #3
 990:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 898              		.loc 1 990 0
 899 000c 0904A083 		movhi	r0, #150994944
 900              	.LVL111:
 918:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 901              		.loc 1 918 0
 902 0010 1700008A 		bhi	.L96
 903 0014 0040A0E1 		mov	r4, r0
 904 0018 0160A0E1 		mov	r6, r1
 905              	.LVL112:
 906              	.LBB18:
 907              	.LBB19:
 921:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 908              		.loc 1 921 0
 909 001c FEFFFFEB 		bl	prvPAL_SetPlatformImageState
 910              	.LVL113:
 924:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 911              		.loc 1 924 0
 912 0020 000050E3 		cmp	r0, #0
 913 0024 0400000A 		beq	.L98
 927:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 914              		.loc 1 927 0
 915 0028 040054E3 		cmp	r4, #4
 916 002c 0200000A 		beq	.L98
 917              	.LVL114:
 931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 918              		.loc 1 931 0
 919 0030 000056E3 		cmp	r6, #0
 929:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 920              		.loc 1 929 0
 921 0034 0340A0E3 		mov	r4, #3
 931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 922              		.loc 1 931 0
 923 0038 0060A001 		moveq	r6, r0
 924              	.LVL115:
 925              	.L98:
 950:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 926              		.loc 1 950 0
 927 003c B4509FE5 		ldr	r5, .L119
 952:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 928              		.loc 1 952 0
 929 0040 8C3095E5 		ldr	r3, [r5, #140]
 950:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 930              		.loc 1 950 0
 931 0044 9840C5E5 		strb	r4, [r5, #152]
 952:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 932              		.loc 1 952 0
 933 0048 000053E3 		cmp	r3, #0
 985:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 934              		.loc 1 985 0
 935 004c 0A04A003 		moveq	r0, #167772160
 936              	.LVL116:
 952:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 937              		.loc 1 952 0
 938 0050 0700000A 		beq	.L96
 954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {   /* We discovered we're ready for test mode, put job status in self_test active. */
 939              		.loc 1 954 0
 940 0054 010054E3 		cmp	r4, #1
 941 0058 0700001A 		bne	.L99
 956:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 942              		.loc 1 956 0
 943 005c 0030A0E3 		mov	r3, #0
 944 0060 0220A0E3 		mov	r2, #2
 945 0064 0300A0E1 		mov	r0, r3
 946 0068 0310A0E1 		mov	r1, r3
 947 006c FEFFFFEB 		bl	prvUpdateJobStatus
 948              	.LVL117:
 981:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 949              		.loc 1 981 0
 950 0070 0000A0E3 		mov	r0, #0
 951              	.LVL118:
 952              	.L96:
 953              	.LBE19:
 954              	.LBE18:
 994:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 955              		.loc 1 994 0
 956 0074 08D08DE2 		add	sp, sp, #8
 957              		.cfi_remember_state
 958              		.cfi_def_cfa_offset 16
 959              		@ sp needed
 960 0078 7080BDE8 		pop	{r4, r5, r6, pc}
 961              	.LVL119:
 962              	.L99:
 963              		.cfi_restore_state
 964              	.LBB23:
 965              	.LBB22:
 960:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {   /* Now that we've accepted the firmware update, we can complete the job. */
 966              		.loc 1 960 0
 967 007c 020054E3 		cmp	r4, #2
 968 0080 1600001A 		bne	.L100
 969              	.LBB20:
 970              	.LBB21:
1627:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 971              		.loc 1 1627 0
 972 0084 940095E5 		ldr	r0, [r5, #148]
 973 0088 000050E3 		cmp	r0, #0
 974 008c 0800000A 		beq	.L101
1629:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Stopping the self test timer.\r\n", OTA_METHOD_NAME );
 975              		.loc 1 1629 0
 976 0090 0030E0E3 		mvn	r3, #0
 977 0094 0310A0E3 		mov	r1, #3
 978 0098 00308DE5 		str	r3, [sp]
 979 009c 0030A0E3 		mov	r3, #0
 980 00a0 0320A0E1 		mov	r2, r3
 981 00a4 FEFFFFEB 		bl	xTimerGenericCommand
 982              	.LVL120:
1630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 983              		.loc 1 1630 0
 984 00a8 4C109FE5 		ldr	r1, .L119+4
 985 00ac 4C009FE5 		ldr	r0, .L119+8
 986 00b0 FEFFFFEB 		bl	vLoggingPrintf
 987              	.LVL121:
 988              	.L101:
 989              	.LBE21:
 990              	.LBE20:
 963:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 991              		.loc 1 963 0
 992 00b4 48309FE5 		ldr	r3, .L119+12
 993 00b8 0320A0E3 		mov	r2, #3
 994 00bc 0210A0E3 		mov	r1, #2
 995 00c0 003093E5 		ldr	r3, [r3]
 996              	.L117:
 973:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 997              		.loc 1 973 0
 998 00c4 0000A0E3 		mov	r0, #0
 999 00c8 FEFFFFEB 		bl	prvUpdateJobStatus
 1000              	.LVL122:
 977:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 1001              		.loc 1 977 0
 1002 00cc 8C0095E5 		ldr	r0, [r5, #140]
 1003 00d0 FEFFFFEB 		bl	vPortFree
 1004              	.LVL123:
 978:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 1005              		.loc 1 978 0
 1006 00d4 0000A0E3 		mov	r0, #0
 1007 00d8 8C0085E5 		str	r0, [r5, #140]
 1008 00dc E4FFFFEA 		b	.L96
 1009              	.L100:
 965:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 1010              		.loc 1 965 0
 1011 00e0 030054E3 		cmp	r4, #3
 969:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 1012              		.loc 1 969 0
 1013 00e4 0630A0E1 		mov	r3, r6
 1014 00e8 0420A003 		moveq	r2, #4
 973:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 1015              		.loc 1 973 0
 1016 00ec 0520A013 		movne	r2, #5
 1017 00f0 0110A0E3 		mov	r1, #1
 1018 00f4 F2FFFFEA 		b	.L117
 1019              	.L120:
 1020              		.align	2
 1021              	.L119:
 1022 00f8 00000000 		.word	.LANCHOR0
 1023 00fc 00000000 		.word	.LANCHOR19
 1024 0100 00000000 		.word	.LC12
 1025 0104 00000000 		.word	xAppFirmwareVersion
 1026              	.LBE22:
 1027              	.LBE23:
 1028              		.cfi_endproc
 1029              	.LFE16:
 1031              		.section	.text.prvStartRequestTimer,"ax",%progbits
 1032              		.align	2
 1033              		.syntax unified
 1034              		.arm
 1035              		.fpu neon
 1037              	prvStartRequestTimer:
 1038              	.LFB25:
1653:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvStartRequestTimer" );
 1039              		.loc 1 1653 0
 1040              		.cfi_startproc
 1041              		@ args = 0, pretend = 0, frame = 0
 1042              		@ frame_needed = 0, uses_anonymous_args = 0
 1043              	.LVL124:
 1044 0000 73402DE9 		push	{r0, r1, r4, r5, r6, lr}
 1045              		.cfi_def_cfa_offset 24
 1046              		.cfi_offset 4, -16
 1047              		.cfi_offset 5, -12
 1048              		.cfi_offset 6, -8
 1049              		.cfi_offset 14, -4
1659:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1050              		.loc 1 1659 0
 1051 0004 084090E5 		ldr	r4, [r0, #8]
 1052 0008 000054E3 		cmp	r4, #0
 1053 000c 1C00001A 		bne	.L122
1661:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          pdMS_TO_TICKS( otaconfigFILE_REQUEST_WAIT_MS ),
 1054              		.loc 1 1661 0
 1055 0010 8C309FE5 		ldr	r3, .L128
 1056 0014 0060A0E1 		mov	r6, r0
 1057 0018 0420A0E1 		mov	r2, r4
 1058 001c C41900E3 		movw	r1, #2500
 1059 0020 00308DE5 		str	r3, [sp]
 1060 0024 0030A0E1 		mov	r3, r0
 1061 0028 78009FE5 		ldr	r0, .L128+4
 1062              	.LVL125:
 1063 002c FEFFFFEB 		bl	xTimerCreate
 1064              	.LVL126:
1667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1065              		.loc 1 1667 0
 1066 0030 000050E3 		cmp	r0, #0
1661:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                          pdMS_TO_TICKS( otaconfigFILE_REQUEST_WAIT_MS ),
 1067              		.loc 1 1661 0
 1068 0034 0050A0E1 		mov	r5, r0
 1069 0038 080086E5 		str	r0, [r6, #8]
1667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1070              		.loc 1 1667 0
 1071 003c 0500001A 		bne	.L123
 1072              	.LVL127:
 1073              	.L125:
 1074              	.LBB26:
 1075              	.LBB27:
1683:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1076              		.loc 1 1683 0
 1077 0040 60209FE5 		ldr	r2, .L128+4
 1078 0044 60109FE5 		ldr	r1, .L128+8
 1079 0048 60009FE5 		ldr	r0, .L128+12
 1080              	.LBE27:
 1081              	.LBE26:
1685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1082              		.loc 1 1685 0
 1083 004c 08D08DE2 		add	sp, sp, #8
 1084              		.cfi_remember_state
 1085              		.cfi_def_cfa_offset 16
 1086              		@ sp needed
 1087 0050 7040BDE8 		pop	{r4, r5, r6, lr}
 1088              		.cfi_restore 14
 1089              		.cfi_restore 6
 1090              		.cfi_restore 5
 1091              		.cfi_restore 4
 1092              		.cfi_def_cfa_offset 0
 1093              	.LBB29:
 1094              	.LBB28:
1683:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1095              		.loc 1 1683 0
 1096 0054 FEFFFFEA 		b	vLoggingPrintf
 1097              	.LVL128:
 1098              	.L123:
 1099              		.cfi_restore_state
 1100              	.LBE28:
 1101              	.LBE29:
1669:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1102              		.loc 1 1669 0
 1103 0058 FEFFFFEB 		bl	xTaskGetTickCount
 1104              	.LVL129:
 1105 005c 0430A0E1 		mov	r3, r4
 1106 0060 0020A0E1 		mov	r2, r0
 1107 0064 0110A0E3 		mov	r1, #1
 1108 0068 0500A0E1 		mov	r0, r5
 1109 006c 00408DE5 		str	r4, [sp]
 1110              	.LVL130:
 1111              	.L127:
1674:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1112              		.loc 1 1674 0
 1113 0070 FEFFFFEB 		bl	xTimerGenericCommand
 1114              	.LVL131:
1677:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1115              		.loc 1 1677 0
 1116 0074 010050E3 		cmp	r0, #1
 1117 0078 F0FFFF1A 		bne	.L125
1685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1118              		.loc 1 1685 0
 1119 007c 08D08DE2 		add	sp, sp, #8
 1120              		.cfi_remember_state
 1121              		.cfi_def_cfa_offset 16
 1122              		@ sp needed
 1123 0080 7080BDE8 		pop	{r4, r5, r6, pc}
 1124              	.LVL132:
 1125              	.L122:
 1126              		.cfi_restore_state
1674:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1127              		.loc 1 1674 0
 1128 0084 FEFFFFEB 		bl	xTaskGetTickCount
 1129              	.LVL133:
 1130 0088 0030E0E3 		mvn	r3, #0
 1131 008c 0020A0E1 		mov	r2, r0
 1132 0090 00308DE5 		str	r3, [sp]
 1133 0094 0210A0E3 		mov	r1, #2
 1134 0098 0030A0E3 		mov	r3, #0
 1135 009c 0400A0E1 		mov	r0, r4
 1136 00a0 F2FFFFEA 		b	.L127
 1137              	.L129:
 1138              		.align	2
 1139              	.L128:
 1140 00a4 00000000 		.word	prvRequestTimer_Callback
 1141 00a8 00000000 		.word	.LANCHOR20
 1142 00ac 00000000 		.word	.LANCHOR21
 1143 00b0 00000000 		.word	.LC13
 1144              		.cfi_endproc
 1145              	.LFE25:
 1147              		.section	.text.prvPublishGetStreamMessage,"ax",%progbits
 1148              		.align	2
 1149              		.syntax unified
 1150              		.arm
 1151              		.fpu neon
 1153              	prvPublishGetStreamMessage:
 1154              	.LFB18:
1173:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvPublishGetStreamMessage" );
 1155              		.loc 1 1173 0
 1156              		.cfi_startproc
 1157              		@ args = 0, pretend = 0, frame = 648
 1158              		@ frame_needed = 0, uses_anonymous_args = 0
 1159              	.LVL134:
1184:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1160              		.loc 1 1184 0
 1161 0000 000050E3 		cmp	r0, #0
 1162 0004 1EFF2F01 		bxeq	lr
1186:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1163              		.loc 1 1186 0
 1164 0008 1C3090E5 		ldr	r3, [r0, #28]
 1165 000c 1F0053E3 		cmp	r3, #31
 1166 0010 4600008A 		bhi	.L136
1188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
 1167              		.loc 1 1188 0
 1168 0014 0C3090E5 		ldr	r3, [r0, #12]
1191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( uint8_t * ) cMsg,
 1169              		.loc 1 1191 0
 1170 0018 061DA0E3 		mov	r1, #384
1173:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvPublishGetStreamMessage" );
 1171              		.loc 1 1173 0
 1172 001c F0402DE9 		push	{r4, r5, r6, r7, lr}
 1173              		.cfi_def_cfa_offset 20
 1174              		.cfi_offset 4, -20
 1175              		.cfi_offset 5, -16
 1176              		.cfi_offset 6, -12
 1177              		.cfi_offset 7, -8
 1178              		.cfi_offset 14, -4
 1179 0020 A9DF4DE2 		sub	sp, sp, #676
 1180              		.cfi_def_cfa_offset 696
1191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( uint8_t * ) cMsg,
 1181              		.loc 1 1191 0
 1182 0024 0060A0E3 		mov	r6, #0
 1183 0028 0050A0E1 		mov	r5, r0
 1184              	.LVL135:
1188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
 1185              		.loc 1 1188 0
 1186 002c FF3F83E2 		add	r3, r3, #1020
1191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( uint8_t * ) cMsg,
 1187              		.loc 1 1191 0
 1188 0030 1C208DE2 		add	r2, sp, #28
1188:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
 1189              		.loc 1 1188 0
 1190 0034 033083E2 		add	r3, r3, #3
 1191 0038 2335A0E1 		lsr	r3, r3, #10
1189:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1192              		.loc 1 1189 0
 1193 003c 073083E2 		add	r3, r3, #7
 1194 0040 A331A0E1 		lsr	r3, r3, #3
1191:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( uint8_t * ) cMsg,
 1195              		.loc 1 1191 0
 1196 0044 10308DE5 		str	r3, [sp, #16]
 1197              	.LVL136:
 1198 0048 2C3090E5 		ldr	r3, [r0, #44]
 1199 004c 0C308DE5 		str	r3, [sp, #12]
 1200 0050 013BA0E3 		mov	r3, #1024
 1201 0054 48008DE9 		stmib	sp, {r3, r6}
 1202 0058 183090E5 		ldr	r3, [r0, #24]
 1203 005c 120E8DE2 		add	r0, sp, #288
 1204              	.LVL137:
 1205 0060 00308DE5 		str	r3, [sp]
 1206 0064 CC309FE5 		ldr	r3, .L141
 1207 0068 FEFFFFEB 		bl	OTA_CBOR_Encode_GetStreamRequestMessage
 1208              	.LVL138:
 1209 006c 010050E3 		cmp	r0, #1
 1210 0070 2900001A 		bne	.L132
1207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1211              		.loc 1 1207 0
 1212 0074 1C3095E5 		ldr	r3, [r5, #28]
1210:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cTopicBuffer ),
 1213              		.loc 1 1210 0
 1214 0078 011CA0E3 		mov	r1, #256
 1215 007c B8409FE5 		ldr	r4, .L141+4
 1216 0080 20008DE2 		add	r0, sp, #32
 1217 0084 B4209FE5 		ldr	r2, .L141+8
1207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1218              		.loc 1 1207 0
 1219 0088 013083E2 		add	r3, r3, #1
1202:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1220              		.loc 1 1202 0
 1221 008c 1C709DE5 		ldr	r7, [sp, #28]
 1222              	.LVL139:
1207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1223              		.loc 1 1207 0
 1224 0090 1C3085E5 		str	r3, [r5, #28]
1210:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     sizeof( cTopicBuffer ),
 1225              		.loc 1 1210 0
 1226 0094 243095E5 		ldr	r3, [r5, #36]
 1227 0098 00308DE5 		str	r3, [sp]
 1228 009c 013084E2 		add	r3, r4, #1
 1229 00a0 FEFFFFEB 		bl	snprintf
 1230              	.LVL140:
1216:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 1231              		.loc 1 1216 0
 1232 00a4 013040E2 		sub	r3, r0, #1
 1233 00a8 FE0053E3 		cmp	r3, #254
 1234 00ac 1500008A 		bhi	.L133
1218:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         xOTA_Agent.pvPubSubClient,
 1235              		.loc 1 1218 0
 1236 00b0 7020FFE6 		uxth	r2, r0
 1237 00b4 04608DE5 		str	r6, [sp, #4]
 1238 00b8 00708DE5 		str	r7, [sp]
 1239 00bc 20108DE2 		add	r1, sp, #32
 1240 00c0 440094E5 		ldr	r0, [r4, #68]
 1241              	.LVL141:
 1242 00c4 123E8DE2 		add	r3, sp, #288
 1243              	.LVL142:
 1244 00c8 FEFFFFEB 		bl	prvPublishMessage
 1245              	.LVL143:
1226:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 1246              		.loc 1 1226 0
 1247 00cc 004050E2 		subs	r4, r0, #0
1228:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Don't return an error. Let max momentum catch it since this may be inter
 1248              		.loc 1 1228 0
 1249 00d0 20208DE2 		add	r2, sp, #32
 1250 00d4 68109FE5 		ldr	r1, .L141+12
1226:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 1251              		.loc 1 1226 0
 1252 00d8 0400000A 		beq	.L134
1228:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Don't return an error. Let max momentum catch it since this may be inter
 1253              		.loc 1 1228 0
 1254 00dc 64009FE5 		ldr	r0, .L141+16
 1255              	.LVL144:
 1256 00e0 FEFFFFEB 		bl	vLoggingPrintf
 1257              	.LVL145:
1180:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cMsg[ OTA_REQUEST_MSG_MAX_SIZE ];
 1258              		.loc 1 1180 0
 1259 00e4 0600A0E1 		mov	r0, r6
 1260              	.LVL146:
 1261              	.L130:
1264:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1262              		.loc 1 1264 0
 1263 00e8 A9DF8DE2 		add	sp, sp, #676
 1264              		.cfi_remember_state
 1265              		.cfi_def_cfa_offset 20
 1266              		@ sp needed
 1267 00ec F080BDE8 		pop	{r4, r5, r6, r7, pc}
 1268              	.LVL147:
 1269              	.L134:
 1270              		.cfi_restore_state
1233:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Restart the request timer to retry if we don't complete the update. */
 1271              		.loc 1 1233 0
 1272 00f0 54009FE5 		ldr	r0, .L141+20
 1273              	.LVL148:
 1274 00f4 FEFFFFEB 		bl	vLoggingPrintf
 1275              	.LVL149:
1235:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 1276              		.loc 1 1235 0
 1277 00f8 0500A0E1 		mov	r0, r5
 1278 00fc FEFFFFEB 		bl	prvStartRequestTimer
 1279              	.LVL150:
1180:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     char cMsg[ OTA_REQUEST_MSG_MAX_SIZE ];
 1280              		.loc 1 1180 0
 1281 0100 0400A0E1 		mov	r0, r4
 1282 0104 F7FFFFEA 		b	.L130
 1283              	.LVL151:
 1284              	.L133:
1241:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xErr = kOTA_Err_TopicTooLarge;
 1285              		.loc 1 1241 0
 1286 0108 40009FE5 		ldr	r0, .L141+24
 1287              	.LVL152:
 1288 010c 30109FE5 		ldr	r1, .L141+12
 1289 0110 FEFFFFEB 		bl	vLoggingPrintf
 1290              	.LVL153:
1242:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 1291              		.loc 1 1242 0
 1292 0114 2A04A0E3 		mov	r0, #704643072
 1293 0118 F2FFFFEA 		b	.L130
 1294              	.LVL154:
 1295              	.L132:
1247:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_FailedToEncodeCBOR;
 1296              		.loc 1 1247 0
 1297 011c 30009FE5 		ldr	r0, .L141+28
 1298 0120 1C109FE5 		ldr	r1, .L141+12
 1299 0124 FEFFFFEB 		bl	vLoggingPrintf
 1300              	.LVL155:
1248:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 1301              		.loc 1 1248 0
 1302 0128 2504A0E3 		mov	r0, #620756992
 1303 012c EDFFFFEA 		b	.L130
 1304              	.LVL156:
 1305              	.L136:
 1306              		.cfi_def_cfa_offset 0
 1307              		.cfi_restore 4
 1308              		.cfi_restore 5
 1309              		.cfi_restore 6
 1310              		.cfi_restore 7
 1311              		.cfi_restore 14
1255:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1312              		.loc 1 1255 0
 1313 0130 20009FE5 		ldr	r0, .L141+32
 1314              	.LVL157:
1263:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 1315              		.loc 1 1263 0
 1316 0134 1EFF2FE1 		bx	lr
 1317              	.L142:
 1318              		.align	2
 1319              	.L141:
 1320 0138 00000000 		.word	.LC14
 1321 013c 00000000 		.word	.LANCHOR0
 1322 0140 00000000 		.word	.LANCHOR22
 1323 0144 00000000 		.word	.LANCHOR23
 1324 0148 33000000 		.word	.LC9
 1325 014c 04000000 		.word	.LC15
 1326 0150 12000000 		.word	.LC16
 1327 0154 37000000 		.word	.LC17
 1328 0158 20000021 		.word	553648160
 1329              		.cfi_endproc
 1330              	.LFE18:
 1332              		.section	.text.prvIngestDataBlock,"ax",%progbits
 1333              		.align	2
 1334              		.syntax unified
 1335              		.arm
 1336              		.fpu neon
 1338              	prvIngestDataBlock:
 1339              	.LFB35:
2543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvIngestDataBlock" );
 1340              		.loc 1 2543 0
 1341              		.cfi_startproc
 1342              		@ args = 0, pretend = 0, frame = 24
 1343              		@ frame_needed = 0, uses_anonymous_args = 0
 1344              	.LVL158:
 1345 0000 F0432DE9 		push	{r4, r5, r6, r7, r8, r9, lr}
 1346              		.cfi_def_cfa_offset 28
 1347              		.cfi_offset 4, -28
 1348              		.cfi_offset 5, -24
 1349              		.cfi_offset 6, -20
 1350              		.cfi_offset 7, -16
 1351              		.cfi_offset 8, -12
 1352              		.cfi_offset 9, -8
 1353              		.cfi_offset 14, -4
2553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1354              		.loc 1 2553 0
 1355 0004 005050E2 		subs	r5, r0, #0
2543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvIngestDataBlock" );
 1356              		.loc 1 2543 0
 1357 0008 2CD04DE2 		sub	sp, sp, #44
 1358              		.cfi_def_cfa_offset 72
2543:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvIngestDataBlock" );
 1359              		.loc 1 2543 0
 1360 000c 0360A0E1 		mov	r6, r3
2547:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBlockSize = 0;
 1361              		.loc 1 2547 0
 1362 0010 0030A0E3 		mov	r3, #0
 1363              	.LVL159:
2695:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1364              		.loc 1 2695 0
 1365 0014 0340E003 		mvneq	r4, #3
2547:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBlockSize = 0;
 1366              		.loc 1 2547 0
 1367 0018 14308DE5 		str	r3, [sp, #20]
2548:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint32_t ulBlockIndex = 0;
 1368              		.loc 1 2548 0
 1369 001c 18308DE5 		str	r3, [sp, #24]
2549:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     uint8_t * pucPayload = NULL;
 1370              		.loc 1 2549 0
 1371 0020 1C308DE5 		str	r3, [sp, #28]
2550:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     size_t xPayloadSize = 0;
 1372              		.loc 1 2550 0
 1373 0024 20308DE5 		str	r3, [sp, #32]
2551:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1374              		.loc 1 2551 0
 1375 0028 24308DE5 		str	r3, [sp, #36]
2553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1376              		.loc 1 2553 0
 1377 002c 3800000A 		beq	.L144
2555:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1378              		.loc 1 2555 0
 1379 0030 030056E1 		cmp	r6, r3
2690:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1380              		.loc 1 2690 0
 1381 0034 0940E003 		mvneq	r4, #9
2555:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1382              		.loc 1 2555 0
 1383 0038 3500000A 		beq	.L144
2557:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1384              		.loc 1 2557 0
 1385 003c 2734A0E3 		mov	r3, #654311424
 1386 0040 003086E5 		str	r3, [r6]
2560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 1387              		.loc 1 2560 0
 1388 0044 2C3095E5 		ldr	r3, [r5, #44]
 1389 0048 000053E3 		cmp	r3, #0
 1390 004c 9800000A 		beq	.L161
2560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 1391              		.loc 1 2560 0 is_stmt 0 discriminator 1
 1392 0050 103095E5 		ldr	r3, [r5, #16]
 1393 0054 000053E3 		cmp	r3, #0
 1394 0058 9500000A 		beq	.L161
 1395 005c 0140A0E1 		mov	r4, r1
 1396 0060 0270A0E1 		mov	r7, r2
2563:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1397              		.loc 1 2563 0 is_stmt 1
 1398 0064 FEFFFFEB 		bl	prvStartRequestTimer
 1399              	.LVL160:
2566:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( const uint8_t * ) pcRawMsg,
 1400              		.loc 1 2566 0
 1401 0068 24308DE2 		add	r3, sp, #36
 1402 006c 0400A0E1 		mov	r0, r4
 1403 0070 08308DE5 		str	r3, [sp, #8]
 1404 0074 20308DE2 		add	r3, sp, #32
 1405 0078 04308DE5 		str	r3, [sp, #4]
 1406 007c 18308DE2 		add	r3, sp, #24
 1407 0080 00308DE5 		str	r3, [sp]
 1408 0084 14208DE2 		add	r2, sp, #20
 1409 0088 1C308DE2 		add	r3, sp, #28
 1410 008c 0710A0E1 		mov	r1, r7
 1411 0090 FEFFFFEB 		bl	OTA_CBOR_Decode_GetStreamResponseMessage
 1412              	.LVL161:
 1413 0094 000050E3 		cmp	r0, #0
2575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 1414              		.loc 1 2575 0
 1415 0098 0740E003 		mvneq	r4, #7
 1416              	.LVL162:
2566:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( const uint8_t * ) pcRawMsg,
 1417              		.loc 1 2566 0
 1418 009c 1C00000A 		beq	.L144
 1419              	.LBB36:
2583:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1420              		.loc 1 2583 0
 1421 00a0 0C1095E5 		ldr	r1, [r5, #12]
2585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( ( ( uint32_t ) ulBlockIndex == ulLastBlock ) && ( ( uint32_t ) ulBlockSiz
 1422              		.loc 1 2585 0
 1423 00a4 1C209DE5 		ldr	r2, [sp, #28]
2583:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1424              		.loc 1 2583 0
 1425 00a8 FF3F81E2 		add	r3, r1, #1020
 1426 00ac 033083E2 		add	r3, r3, #3
 1427 00b0 2335A0E1 		lsr	r3, r3, #10
 1428 00b4 013043E2 		sub	r3, r3, #1
 1429              	.LVL163:
2585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( ( ( uint32_t ) ulBlockIndex == ulLastBlock ) && ( ( uint32_t ) ulBlockSiz
 1430              		.loc 1 2585 0
 1431 00b8 020053E1 		cmp	r3, r2
 1432 00bc 1B00009A 		bls	.L145
2585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( ( ( uint32_t ) ulBlockIndex == ulLastBlock ) && ( ( uint32_t ) ulBlockSiz
 1433              		.loc 1 2585 0 is_stmt 0 discriminator 1
 1434 00c0 18309DE5 		ldr	r3, [sp, #24]
 1435              	.LVL164:
 1436 00c4 010B53E3 		cmp	r3, #1024
 1437              	.LVL165:
 1438              	.L175:
2586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 1439              		.loc 1 2586 0 is_stmt 1
 1440 00c8 7300001A 		bne	.L147
 1441              	.LBB37:
2588:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1442              		.loc 1 2588 0
 1443 00cc 18309DE5 		ldr	r3, [sp, #24]
2591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Calculate byte offset into bitmap. */
 1444              		.loc 1 2591 0
 1445 00d0 0140A0E3 		mov	r4, #1
2588:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1446              		.loc 1 2588 0
 1447 00d4 E0119FE5 		ldr	r1, .L176
 1448 00d8 E0019FE5 		ldr	r0, .L176+4
 1449 00dc FEFFFFEB 		bl	vLoggingPrintf
 1450              	.LVL166:
2591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Calculate byte offset into bitmap. */
 1451              		.loc 1 2591 0
 1452 00e0 1C709DE5 		ldr	r7, [sp, #28]
 1453              	.LVL167:
2595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 1454              		.loc 1 2595 0
 1455 00e4 2C3095E5 		ldr	r3, [r5, #44]
2591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Calculate byte offset into bitmap. */
 1456              		.loc 1 2591 0
 1457 00e8 078007E2 		and	r8, r7, #7
2595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 1458              		.loc 1 2595 0
 1459 00ec A731D3E7 		ldrb	r3, [r3, r7, lsr #3]	@ zero_extendqisi2
2591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         /* Calculate byte offset into bitmap. */
 1460              		.loc 1 2591 0
 1461 00f0 1488A0E1 		lsl	r8, r4, r8
 1462              	.LVL168:
2595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 1463              		.loc 1 2595 0
 1464 00f4 089013E0 		ands	r9, r3, r8
 1465 00f8 1100001A 		bne	.L148
2597:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         ulBlockIndex,
 1466              		.loc 1 2597 0
 1467 00fc 103095E5 		ldr	r3, [r5, #16]
 1468 0100 0720A0E1 		mov	r2, r7
 1469 0104 B0119FE5 		ldr	r1, .L176
 1470 0108 B4019FE5 		ldr	r0, .L176+8
 1471 010c FEFFFFEB 		bl	vLoggingPrintf
 1472              	.LVL169:
2601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
 1473              		.loc 1 2601 0
 1474 0110 009086E5 		str	r9, [r6]
 1475              	.LVL170:
 1476              	.L144:
 1477              	.LBE37:
 1478              	.LBE36:
2698:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1479              		.loc 1 2698 0
 1480 0114 20009DE5 		ldr	r0, [sp, #32]
 1481 0118 000050E3 		cmp	r0, #0
 1482 011c 0000000A 		beq	.L157
2700:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1483              		.loc 1 2700 0
 1484 0120 FEFFFFEB 		bl	vPortFree
 1485              	.LVL171:
 1486              	.L157:
2704:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1487              		.loc 1 2704 0
 1488 0124 0400A0E1 		mov	r0, r4
 1489 0128 2CD08DE2 		add	sp, sp, #44
 1490              		.cfi_remember_state
 1491              		.cfi_def_cfa_offset 28
 1492              		@ sp needed
 1493 012c F083BDE8 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1494              	.LVL172:
 1495              	.L145:
 1496              		.cfi_restore_state
 1497              	.LBB44:
2585:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         ( ( ( uint32_t ) ulBlockIndex == ulLastBlock ) && ( ( uint32_t ) ulBlockSiz
 1498              		.loc 1 2585 0 discriminator 3
 1499 0130 5900001A 		bne	.L147
2586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 1500              		.loc 1 2586 0
 1501 0134 18309DE5 		ldr	r3, [sp, #24]
 1502              	.LVL173:
 1503 0138 021541E0 		sub	r1, r1, r2, lsl #10
 1504              	.LVL174:
 1505 013c 030051E1 		cmp	r1, r3
 1506 0140 E0FFFFEA 		b	.L175
 1507              	.LVL175:
 1508              	.L148:
 1509              	.LBB43:
2605:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 1510              		.loc 1 2605 0
 1511 0144 043095E5 		ldr	r3, [r5, #4]
 1512 0148 000053E3 		cmp	r3, #0
 1513 014c 3900000A 		beq	.L149
 1514              	.LBB38:
2607:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1515              		.loc 1 2607 0
 1516 0150 20209DE5 		ldr	r2, [sp, #32]
 1517 0154 0715A0E1 		lsl	r1, r7, #10
 1518 0158 18309DE5 		ldr	r3, [sp, #24]
 1519 015c 0500A0E1 		mov	r0, r5
 1520 0160 FEFFFFEB 		bl	prvPAL_WriteBlock
 1521              	.LVL176:
2609:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 1522              		.loc 1 2609 0
 1523 0164 002050E2 		subs	r2, r0, #0
 1524 0168 280000AA 		bge	.L150
2612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 1525              		.loc 1 2612 0
 1526 016c 0840E0E3 		mvn	r4, #8
2611:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_WriteBlockFailed;
 1527              		.loc 1 2611 0
 1528 0170 44119FE5 		ldr	r1, .L176
 1529 0174 4C019FE5 		ldr	r0, .L176+12
 1530              	.LVL177:
 1531 0178 FEFFFFEB 		bl	vLoggingPrintf
 1532              	.LVL178:
 1533              	.L151:
 1534              	.LBE38:
2628:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 1535              		.loc 1 2628 0
 1536 017c 107095E5 		ldr	r7, [r5, #16]
 1537              	.LVL179:
 1538 0180 000057E3 		cmp	r7, #0
 1539 0184 3F00001A 		bne	.L152
2630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 prvStopRequestTimer( C );         /* Don't request any more since w
 1540              		.loc 1 2630 0
 1541 0188 3C019FE5 		ldr	r0, .L176+16
 1542 018c 28119FE5 		ldr	r1, .L176
 1543 0190 FEFFFFEB 		bl	vLoggingPrintf
 1544              	.LVL180:
 1545 0194 080095E5 		ldr	r0, [r5, #8]
 1546              	.LVL181:
 1547              	.LBB39:
 1548              	.LBB40:
1694:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1549              		.loc 1 1694 0
 1550 0198 000050E3 		cmp	r0, #0
 1551 019c 0700000A 		beq	.L153
1696:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         OTA_LOG_L1( "[%s] Stopping file request timer.\r\n", OTA_METHOD_NAME );
 1552              		.loc 1 1696 0
 1553 01a0 0310A0E3 		mov	r1, #3
 1554 01a4 00708DE5 		str	r7, [sp]
 1555 01a8 0730A0E1 		mov	r3, r7
 1556 01ac 0720A0E1 		mov	r2, r7
 1557 01b0 FEFFFFEB 		bl	xTimerGenericCommand
 1558              	.LVL182:
1697:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1559              		.loc 1 1697 0
 1560 01b4 14119FE5 		ldr	r1, .L176+20
 1561 01b8 14019FE5 		ldr	r0, .L176+24
 1562 01bc FEFFFFEB 		bl	vLoggingPrintf
 1563              	.LVL183:
 1564              	.L153:
 1565              	.LBE40:
 1566              	.LBE39:
2632:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 C->pucRxBlockBitmap = NULL;
 1567              		.loc 1 2632 0
 1568 01c0 2C0095E5 		ldr	r0, [r5, #44]
 1569 01c4 FEFFFFEB 		bl	vPortFree
 1570              	.LVL184:
2633:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1571              		.loc 1 2633 0
 1572 01c8 0030A0E3 		mov	r3, #0
 1573 01cc 2C3085E5 		str	r3, [r5, #44]
2635:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 1574              		.loc 1 2635 0
 1575 01d0 043095E5 		ldr	r3, [r5, #4]
 1576 01d4 000053E3 		cmp	r3, #0
 1577 01d8 2500000A 		beq	.L154
2637:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1578              		.loc 1 2637 0
 1579 01dc 0500A0E1 		mov	r0, r5
 1580 01e0 FEFFFFEB 		bl	prvPAL_CloseFile
 1581              	.LVL185:
2639:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 1582              		.loc 1 2639 0
 1583 01e4 000050E3 		cmp	r0, #0
2637:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1584              		.loc 1 2637 0
 1585 01e8 0040A0E1 		mov	r4, r0
 1586              	.LVL186:
 1587 01ec 000086E5 		str	r0, [r6]
2639:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 1588              		.loc 1 2639 0
 1589 01f0 1500001A 		bne	.L155
2642:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
 1590              		.loc 1 2642 0
 1591 01f4 0040E0E3 		mvn	r4, #0
2641:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         eIngestResult = eIngest_Result_FileComplete;
 1592              		.loc 1 2641 0
 1593 01f8 BC109FE5 		ldr	r1, .L176
 1594 01fc D4009FE5 		ldr	r0, .L176+28
 1595 0200 FEFFFFEB 		bl	vLoggingPrintf
 1596              	.LVL187:
 1597              	.L156:
2662:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 1598              		.loc 1 2662 0
 1599 0204 0030A0E3 		mov	r3, #0
 1600 0208 043085E5 		str	r3, [r5, #4]
 1601 020c C0FFFFEA 		b	.L144
 1602              	.LVL188:
 1603              	.L150:
 1604              	.LBB41:
2616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     C->ulBlocksRemaining--;
 1605              		.loc 1 2616 0
 1606 0210 2C2095E5 		ldr	r2, [r5, #44]
2619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 1607              		.loc 1 2619 0
 1608 0214 0040A0E3 		mov	r4, #0
2616:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     C->ulBlocksRemaining--;
 1609              		.loc 1 2616 0
 1610 0218 A731D2E7 		ldrb	r3, [r2, r7, lsr #3]	@ zero_extendqisi2
 1611 021c 0880C3E1 		bic	r8, r3, r8
 1612              	.LVL189:
 1613 0220 A781C2E7 		strb	r8, [r2, r7, lsr #3]
2617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_Accepted_Continue;
 1614              		.loc 1 2617 0
 1615 0224 103095E5 		ldr	r3, [r5, #16]
 1616 0228 013043E2 		sub	r3, r3, #1
 1617 022c 103085E5 		str	r3, [r5, #16]
 1618              	.LVL190:
2619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 1619              		.loc 1 2619 0
 1620 0230 004086E5 		str	r4, [r6]
 1621 0234 D0FFFFEA 		b	.L151
 1622              	.LVL191:
 1623              	.L149:
 1624              	.LBE41:
2624:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eIngestResult = eIngest_Result_BadFileHandle;
 1625              		.loc 1 2624 0
 1626 0238 7C109FE5 		ldr	r1, .L176
2625:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 1627              		.loc 1 2625 0
 1628 023c 0440E0E3 		mvn	r4, #4
2624:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eIngestResult = eIngest_Result_BadFileHandle;
 1629              		.loc 1 2624 0
 1630 0240 94009FE5 		ldr	r0, .L176+32
 1631 0244 FEFFFFEB 		bl	vLoggingPrintf
 1632              	.LVL192:
 1633 0248 CBFFFFEA 		b	.L151
 1634              	.LVL193:
 1635              	.L155:
 1636              	.LBB42:
2652:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 1637              		.loc 1 2652 0
 1638 024c FF4404E2 		and	r4, r4, #-16777216
2647:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME,
 1639              		.loc 1 2647 0
 1640 0250 FF34C0E3 		bic	r3, r0, #-16777216
 1641 0254 202CA0E1 		lsr	r2, r0, #24
 1642 0258 5C109FE5 		ldr	r1, .L176
 1643 025c 7C009FE5 		ldr	r0, .L176+36
 1644              	.LVL194:
 1645 0260 FEFFFFEB 		bl	vLoggingPrintf
 1646              	.LVL195:
2658:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 1647              		.loc 1 2658 0
 1648 0264 010454E3 		cmp	r4, #16777216
 1649 0268 0140E003 		mvneq	r4, #1
 1650 026c 0240E013 		mvnne	r4, #2
 1651 0270 E3FFFFEA 		b	.L156
 1652              	.LVL196:
 1653              	.L154:
 1654              	.LBE42:
2666:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_BadFileHandle;
 1655              		.loc 1 2666 0
 1656 0274 40109FE5 		ldr	r1, .L176
2667:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 1657              		.loc 1 2667 0
 1658 0278 0440E0E3 		mvn	r4, #4
 1659              	.LVL197:
2666:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eIngestResult = eIngest_Result_BadFileHandle;
 1660              		.loc 1 2666 0
 1661 027c 60009FE5 		ldr	r0, .L176+40
 1662 0280 FEFFFFEB 		bl	vLoggingPrintf
 1663              	.LVL198:
 1664 0284 A2FFFFEA 		b	.L144
 1665              	.LVL199:
 1666              	.L152:
2672:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 1667              		.loc 1 2672 0
 1668 0288 0720A0E1 		mov	r2, r7
 1669 028c 28109FE5 		ldr	r1, .L176
 1670 0290 50009FE5 		ldr	r0, .L176+44
 1671 0294 FEFFFFEB 		bl	vLoggingPrintf
 1672              	.LVL200:
 1673 0298 9DFFFFEA 		b	.L144
 1674              	.LVL201:
 1675              	.L147:
 1676              	.LBE43:
2678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eIngestResult = eIngest_Result_BlockOutOfRange;
 1677              		.loc 1 2678 0
 1678 029c 18309DE5 		ldr	r3, [sp, #24]
2679:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 1679              		.loc 1 2679 0
 1680 02a0 0640E0E3 		mvn	r4, #6
2678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eIngestResult = eIngest_Result_BlockOutOfRange;
 1681              		.loc 1 2678 0
 1682 02a4 10109FE5 		ldr	r1, .L176
 1683 02a8 3C009FE5 		ldr	r0, .L176+48
 1684 02ac FEFFFFEB 		bl	vLoggingPrintf
 1685              	.LVL202:
 1686 02b0 97FFFFEA 		b	.L144
 1687              	.LVL203:
 1688              	.L161:
 1689              	.LBE44:
2685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 1690              		.loc 1 2685 0
 1691 02b4 0540E0E3 		mvn	r4, #5
 1692 02b8 95FFFFEA 		b	.L144
 1693              	.L177:
 1694              		.align	2
 1695              	.L176:
 1696 02bc 00000000 		.word	.LANCHOR24
 1697 02c0 00000000 		.word	.LC18
 1698 02c4 27000000 		.word	.LC19
 1699 02c8 5C000000 		.word	.LC20
 1700 02cc BB000000 		.word	.LC22
 1701 02d0 00000000 		.word	.LANCHOR25
 1702 02d4 E9000000 		.word	.LC23
 1703 02d8 0D010000 		.word	.LC24
 1704 02dc 81000000 		.word	.LC21
 1705 02e0 42010000 		.word	.LC25
 1706 02e4 6D010000 		.word	.LC26
 1707 02e8 AA010000 		.word	.LC27
 1708 02ec BF010000 		.word	.LC28
 1709              		.cfi_endproc
 1710              	.LFE35:
 1712              		.section	.text.OTA_CheckForSelfTest,"ax",%progbits
 1713              		.align	2
 1714              		.syntax unified
 1715              		.arm
 1716              		.fpu neon
 1718              	OTA_CheckForSelfTest:
 1719              	.LFB21:
1565:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_CheckForSelfTest" );
 1720              		.loc 1 1565 0
 1721              		.cfi_startproc
 1722              		@ args = 0, pretend = 0, frame = 0
 1723              		@ frame_needed = 0, uses_anonymous_args = 0
 1724              	.LVL204:
 1725 0000 F7402DE9 		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 1726              		.cfi_def_cfa_offset 32
 1727              		.cfi_offset 4, -20
 1728              		.cfi_offset 5, -16
 1729              		.cfi_offset 6, -12
 1730              		.cfi_offset 7, -8
 1731              		.cfi_offset 14, -4
1571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1732              		.loc 1 1571 0
 1733 0004 FEFFFFEB 		bl	prvPAL_GetPlatformImageState
 1734              	.LVL205:
 1735 0008 010050E3 		cmp	r0, #1
1568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     static StaticTimer_t xTimerBuffer;
 1736              		.loc 1 1568 0
 1737 000c 0040A013 		movne	r4, #0
1571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1738              		.loc 1 1571 0
 1739 0010 2000001A 		bne	.L178
 1740              	.LBB47:
 1741              	.LBB48:
1573:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1742              		.loc 1 1573 0
 1743 0014 B8709FE5 		ldr	r7, .L188
 1744 0018 945097E5 		ldr	r5, [r7, #148]
 1745 001c 000055E3 		cmp	r5, #0
 1746 0020 1F00001A 		bne	.L180
1575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pdMS_TO_TICKS( otaconfigSELF_TEST_RESPO
 1747              		.loc 1 1575 0
 1748 0024 AC309FE5 		ldr	r3, .L188+4
 1749 0028 0060A0E1 		mov	r6, r0
 1750 002c 0520A0E1 		mov	r2, r5
 1751 0030 FA1DA0E3 		mov	r1, #16000
 1752 0034 A0009FE5 		ldr	r0, .L188+8
 1753 0038 04308DE5 		str	r3, [sp, #4]
 1754 003c 9C309FE5 		ldr	r3, .L188+12
 1755 0040 00308DE5 		str	r3, [sp]
 1756 0044 0530A0E1 		mov	r3, r5
 1757 0048 FEFFFFEB 		bl	xTimerCreateStatic
 1758              	.LVL206:
1580:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 1759              		.loc 1 1580 0
 1760 004c 000050E3 		cmp	r0, #0
1575:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             pdMS_TO_TICKS( otaconfigSELF_TEST_RESPO
 1761              		.loc 1 1575 0
 1762 0050 0040A0E1 		mov	r4, r0
 1763 0054 940087E5 		str	r0, [r7, #148]
1580:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 1764              		.loc 1 1580 0
 1765 0058 1900000A 		beq	.L181
1582:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 1766              		.loc 1 1582 0
 1767 005c FEFFFFEB 		bl	xTaskGetTickCount
 1768              	.LVL207:
 1769 0060 0030E0E3 		mvn	r3, #0
 1770 0064 0020A0E1 		mov	r2, r0
 1771 0068 00308DE5 		str	r3, [sp]
 1772 006c 0610A0E1 		mov	r1, r6
 1773 0070 0530A0E1 		mov	r3, r5
 1774 0074 0400A0E1 		mov	r0, r4
 1775              	.L186:
1591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1776              		.loc 1 1591 0
 1777 0078 FEFFFFEB 		bl	xTimerGenericCommand
 1778              	.LVL208:
1595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1779              		.loc 1 1595 0
 1780 007c 010050E3 		cmp	r0, #1
1591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1781              		.loc 1 1591 0
 1782 0080 0040A0E1 		mov	r4, r0
 1783              	.LVL209:
1595:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1784              		.loc 1 1595 0
 1785 0084 0E00001A 		bne	.L181
1597:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1786              		.loc 1 1597 0
 1787 0088 4C209FE5 		ldr	r2, .L188+8
 1788 008c 50109FE5 		ldr	r1, .L188+16
 1789 0090 50009FE5 		ldr	r0, .L188+20
 1790              	.LVL210:
 1791              	.L187:
1601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1792              		.loc 1 1601 0
 1793 0094 FEFFFFEB 		bl	vLoggingPrintf
 1794              	.LVL211:
 1795              	.L178:
 1796              	.LBE48:
 1797              	.LBE47:
1606:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1798              		.loc 1 1606 0
 1799 0098 0400A0E1 		mov	r0, r4
 1800 009c 0CD08DE2 		add	sp, sp, #12
 1801              		.cfi_remember_state
 1802              		.cfi_def_cfa_offset 20
 1803              		@ sp needed
 1804 00a0 F080BDE8 		pop	{r4, r5, r6, r7, pc}
 1805              	.L180:
 1806              		.cfi_restore_state
 1807              	.LBB50:
 1808              	.LBB49:
1591:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1809              		.loc 1 1591 0
 1810 00a4 FEFFFFEB 		bl	xTaskGetTickCount
 1811              	.LVL212:
 1812 00a8 0030E0E3 		mvn	r3, #0
 1813 00ac 0020A0E1 		mov	r2, r0
 1814 00b0 00308DE5 		str	r3, [sp]
 1815 00b4 0210A0E3 		mov	r1, #2
 1816 00b8 0030A0E3 		mov	r3, #0
 1817 00bc 0500A0E1 		mov	r0, r5
 1818 00c0 ECFFFFEA 		b	.L186
 1819              	.L181:
 1820              	.LVL213:
1601:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1821              		.loc 1 1601 0
 1822 00c4 10209FE5 		ldr	r2, .L188+8
 1823 00c8 14109FE5 		ldr	r1, .L188+16
 1824 00cc 18009FE5 		ldr	r0, .L188+24
 1825 00d0 EFFFFFEA 		b	.L187
 1826              	.L189:
 1827              		.align	2
 1828              	.L188:
 1829 00d4 00000000 		.word	.LANCHOR0
 1830 00d8 00000000 		.word	.LANCHOR27
 1831 00dc 00000000 		.word	.LANCHOR26
 1832 00e0 00000000 		.word	prvSelfTestTimer_Callback
 1833 00e4 00000000 		.word	.LANCHOR28
 1834 00e8 00000000 		.word	.LC29
 1835 00ec 00000000 		.word	.LC13
 1836              	.LBE49:
 1837              	.LBE50:
 1838              		.cfi_endproc
 1839              	.LFE21:
 1841              		.section	.text.OTA_AgentInit,"ax",%progbits
 1842              		.align	2
 1843              		.global	OTA_AgentInit
 1844              		.syntax unified
 1845              		.arm
 1846              		.fpu neon
 1848              	OTA_AgentInit:
 1849              	.LFB2:
 508:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_AgentInit" );
 1850              		.loc 1 508 0
 1851              		.cfi_startproc
 1852              		@ args = 0, pretend = 0, frame = 0
 1853              		@ frame_needed = 0, uses_anonymous_args = 0
 1854              	.LVL214:
 1855 0000 F7402DE9 		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 1856              		.cfi_def_cfa_offset 32
 1857              		.cfi_offset 4, -20
 1858              		.cfi_offset 5, -16
 1859              		.cfi_offset 6, -12
 1860              		.cfi_offset 7, -8
 1861              		.cfi_offset 14, -4
 525:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1862              		.loc 1 525 0
 1863 0004 000052E3 		cmp	r2, #0
 1864 0008 3C419FE5 		ldr	r4, .L206
 508:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_AgentInit" );
 1865              		.loc 1 508 0
 1866 000c 0360A0E1 		mov	r6, r3
 1867 0010 0070A0E1 		mov	r7, r0
 1868 0014 0150A0E1 		mov	r5, r1
 528:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1869              		.loc 1 528 0
 1870 0018 30319F05 		ldreq	r3, .L206+4
 1871              	.LVL215:
 532:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1872              		.loc 1 532 0
 1873 001c 88208415 		strne	r2, [r4, #136]
 528:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1874              		.loc 1 528 0
 1875 0020 88308405 		streq	r3, [r4, #136]
 536:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsDropped = 0;
 1876              		.loc 1 536 0
 1877 0024 0030A0E3 		mov	r3, #0
 542:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1878              		.loc 1 542 0
 1879 0028 030051E1 		cmp	r1, r3
 536:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsDropped = 0;
 1880              		.loc 1 536 0
 1881 002c A03084E5 		str	r3, [r4, #160]
 537:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsQueued = 0;
 1882              		.loc 1 537 0
 1883 0030 AC3084E5 		str	r3, [r4, #172]
 538:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PacketsProcessed = 0;
 1884              		.loc 1 538 0
 1885 0034 A43084E5 		str	r3, [r4, #164]
 539:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTA_Agent.xStatistics.ulOTA_PublishFailures = 0;
 1886              		.loc 1 539 0
 1887 0038 A83084E5 		str	r3, [r4, #168]
 540:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1888              		.loc 1 540 0
 1889 003c B03084E5 		str	r3, [r4, #176]
 542:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1890              		.loc 1 542 0
 1891 0040 2900000A 		beq	.L193
 1892              	.LBB51:
 544:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1893              		.loc 1 544 0
 1894 0044 0100A0E1 		mov	r0, r1
 1895              	.LVL216:
 1896 0048 FEFFFFEB 		bl	strlen
 1897              	.LVL217:
 546:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1898              		.loc 1 546 0
 1899 004c 400050E3 		cmp	r0, #64
 1900 0050 0300008A 		bhi	.L194
 549:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 1901              		.loc 1 549 0
 1902 0054 012080E2 		add	r2, r0, #1
 1903 0058 0510A0E1 		mov	r1, r5
 1904 005c F0009FE5 		ldr	r0, .L206+8
 1905              	.LVL218:
 1906 0060 FEFFFFEB 		bl	memcpy
 1907              	.LVL219:
 1908              	.L194:
 552:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1909              		.loc 1 552 0
 1910 0064 FEFFFFEB 		bl	vPortEnterCritical
 1911              	.LVL220:
 554:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 1912              		.loc 1 554 0
 1913 0068 D050D4E1 		ldrsb	r5, [r4]
 1914              	.LVL221:
 1915 006c 000055E3 		cmp	r5, #0
 1916 0070 2C00001A 		bne	.L195
 560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             configASSERT( xOTA_Agent.xOTA_MsgQ );
 1917              		.loc 1 560 0
 1918 0074 00508DE5 		str	r5, [sp]
 1919 0078 1C10A0E3 		mov	r1, #28
 1920 007c D4309FE5 		ldr	r3, .L206+12
 1921 0080 0600A0E3 		mov	r0, #6
 1922 0084 D0209FE5 		ldr	r2, .L206+16
 556:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.pvPubSubClient = pvClient;             /* Save the current pub/sub client as
 1923              		.loc 1 556 0
 1924 0088 9850C4E5 		strb	r5, [r4, #152]
 557:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1925              		.loc 1 557 0
 1926 008c 447084E5 		str	r7, [r4, #68]
 560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             configASSERT( xOTA_Agent.xOTA_MsgQ );
 1927              		.loc 1 560 0
 1928 0090 FEFFFFEB 		bl	xQueueGenericCreateStatic
 1929              	.LVL222:
 561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1930              		.loc 1 561 0
 1931 0094 000050E3 		cmp	r0, #0
 560:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             configASSERT( xOTA_Agent.xOTA_MsgQ );
 1932              		.loc 1 560 0
 1933 0098 9C0084E5 		str	r0, [r4, #156]
 561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1934              		.loc 1 561 0
 1935 009c 1B00000A 		beq	.L196
 1936              	.LVL223:
 568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             portEXIT_CRITICAL(); /* Protected elements are initialized. It's now safe to context sw
 1937              		.loc 1 568 0 discriminator 1
 1938 00a0 B8309FE5 		ldr	r3, .L206+20
 1939 00a4 0E2CA0E3 		mov	r2, #3584
 1940 00a8 00508DE5 		str	r5, [sp]
 1941 00ac B0109FE5 		ldr	r1, .L206+24
 1942 00b0 04308DE5 		str	r3, [sp, #4]
 1943 00b4 0530A0E1 		mov	r3, r5
 1944 00b8 A8009FE5 		ldr	r0, .L206+28
 565:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 1945              		.loc 1 565 0 discriminator 1
 1946 00bc 485084E5 		str	r5, [r4, #72]
 1947              	.LVL224:
 568:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             portEXIT_CRITICAL(); /* Protected elements are initialized. It's now safe to context sw
 1948              		.loc 1 568 0 discriminator 1
 1949 00c0 FEFFFFEB 		bl	xTaskCreate
 1950              	.LVL225:
 1951 00c4 0050A0E1 		mov	r5, r0
 1952              	.LVL226:
 569:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1953              		.loc 1 569 0 discriminator 1
 1954 00c8 FEFFFFEB 		bl	vPortExitCritical
 1955              	.LVL227:
 571:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 1956              		.loc 1 571 0 discriminator 1
 1957 00cc 010055E3 		cmp	r5, #1
 1958 00d0 0500001A 		bne	.L193
 1959              	.L197:
 1960              	.LVL228:
 574:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 1961              		.loc 1 574 0
 1962 00d4 000056E3 		cmp	r6, #0
 1963 00d8 0300000A 		beq	.L193
 574:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 1964              		.loc 1 574 0 is_stmt 0 discriminator 1
 1965 00dc D030D4E1 		ldrsb	r3, [r4]
 1966 00e0 016046E2 		sub	r6, r6, #1
 1967              	.LVL229:
 1968 00e4 010053E3 		cmp	r3, #1
 1969 00e8 0B00001A 		bne	.L198
 1970              	.LVL230:
 1971              	.L193:
 1972              	.LBE51:
 590:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 1973              		.loc 1 590 0 is_stmt 1
 1974 00ec D030D4E1 		ldrsb	r3, [r4]
 1975 00f0 010053E3 		cmp	r3, #1
 1976 00f4 0E00001A 		bne	.L199
 592:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 1977              		.loc 1 592 0
 1978 00f8 6C109FE5 		ldr	r1, .L206+32
 1979 00fc 6C009FE5 		ldr	r0, .L206+36
 1980 0100 FEFFFFEB 		bl	vLoggingPrintf
 1981              	.LVL231:
 1982              	.L200:
 600:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1983              		.loc 1 600 0
 1984 0104 D000D4E1 		ldrsb	r0, [r4]
 1985 0108 0CD08DE2 		add	sp, sp, #12
 1986              		.cfi_remember_state
 1987              		.cfi_def_cfa_offset 20
 1988              		@ sp needed
 1989 010c F080BDE8 		pop	{r4, r5, r6, r7, pc}
 1990              	.LVL232:
 1991              	.L196:
 1992              		.cfi_restore_state
 1993              	.LBB52:
 561:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 1994              		.loc 1 561 0 discriminator 1
 1995 0110 0110A0E3 		mov	r1, #1
 1996 0114 58009FE5 		ldr	r0, .L206+40
 1997 0118 FEFFFFEB 		bl	longjmp
 1998              	.LVL233:
 1999              	.L198:
 576:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 2000              		.loc 1 576 0
 2001 011c 0100A0E3 		mov	r0, #1
 2002 0120 FEFFFFEB 		bl	vTaskDelay
 2003              	.LVL234:
 2004 0124 EAFFFFEA 		b	.L197
 2005              	.LVL235:
 2006              	.L195:
 586:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 2007              		.loc 1 586 0
 2008 0128 FEFFFFEB 		bl	vPortExitCritical
 2009              	.LVL236:
 2010              	.LBE52:
 514:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2011              		.loc 1 514 0
 2012 012c 0050A0E3 		mov	r5, #0
 2013 0130 EDFFFFEA 		b	.L193
 2014              	.LVL237:
 2015              	.L199:
 596:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2016              		.loc 1 596 0
 2017 0134 9C3094E5 		ldr	r3, [r4, #156]
 2018 0138 0520A0E1 		mov	r2, r5
 2019 013c 28109FE5 		ldr	r1, .L206+32
 2020 0140 30009FE5 		ldr	r0, .L206+44
 2021 0144 FEFFFFEB 		bl	vLoggingPrintf
 2022              	.LVL238:
 2023 0148 EDFFFFEA 		b	.L200
 2024              	.L207:
 2025              		.align	2
 2026              	.L206:
 2027 014c 00000000 		.word	.LANCHOR0
 2028 0150 00000000 		.word	prvDefaultOTACompleteCallback
 2029 0154 01000000 		.word	.LANCHOR0+1
 2030 0158 00000000 		.word	.LANCHOR29
 2031 015c 00000000 		.word	.LANCHOR30
 2032 0160 00000000 		.word	.LANCHOR31
 2033 0164 00000000 		.word	.LC30
 2034 0168 00000000 		.word	prvOTAUpdateTask
 2035 016c 00000000 		.word	.LANCHOR32
 2036 0170 09000000 		.word	.LC31
 2037 0174 28000000 		.word	Unity+40
 2038 0178 17000000 		.word	.LC32
 2039              		.cfi_endproc
 2040              	.LFE2:
 2042              		.section	.text.OTA_AgentShutdown,"ax",%progbits
 2043              		.align	2
 2044              		.global	OTA_AgentShutdown
 2045              		.syntax unified
 2046              		.arm
 2047              		.fpu neon
 2049              	OTA_AgentShutdown:
 2050              	.LFB3:
 607:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_AgentShutdown" );
 2051              		.loc 1 607 0
 2052              		.cfi_startproc
 2053              		@ args = 0, pretend = 0, frame = 0
 2054              		@ frame_needed = 0, uses_anonymous_args = 0
 2055              	.LVL239:
 2056 0000 70402DE9 		push	{r4, r5, r6, lr}
 2057              		.cfi_def_cfa_offset 16
 2058              		.cfi_offset 4, -16
 2059              		.cfi_offset 5, -12
 2060              		.cfi_offset 6, -8
 2061              		.cfi_offset 14, -4
 612:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2062              		.loc 1 612 0
 2063 0004 58409FE5 		ldr	r4, .L217
 2064 0008 D020D4E1 		ldrsb	r2, [r4]
 2065 000c 000052E3 		cmp	r2, #0
 2066 0010 03005213 		cmpne	r2, #3
 2067 0014 0E00000A 		beq	.L209
 2068 0018 0050A0E1 		mov	r5, r0
 614:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2069              		.loc 1 614 0
 2070 001c 0210A0E3 		mov	r1, #2
 2071 0020 840094E5 		ldr	r0, [r4, #132]
 2072              	.LVL240:
 2073 0024 FEFFFFEB 		bl	xEventGroupSetBits
 2074              	.LVL241:
 2075              	.L210:
 617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 2076              		.loc 1 617 0
 2077 0028 000055E3 		cmp	r5, #0
 2078 002c 0200000A 		beq	.L211
 617:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 2079              		.loc 1 617 0 is_stmt 0 discriminator 1
 2080 0030 D030D4E1 		ldrsb	r3, [r4]
 2081 0034 000053E3 		cmp	r3, #0
 2082 0038 0100001A 		bne	.L212
 2083              	.LVL242:
 2084              	.L211:
 630:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2085              		.loc 1 630 0 is_stmt 1
 2086 003c D000D4E1 		ldrsb	r0, [r4]
 2087 0040 7080BDE8 		pop	{r4, r5, r6, pc}
 2088              	.LVL243:
 2089              	.L212:
 619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTicksToWait--;
 2090              		.loc 1 619 0
 2091 0044 0100A0E3 		mov	r0, #1
 620:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 2092              		.loc 1 620 0
 2093 0048 015045E2 		sub	r5, r5, #1
 2094              	.LVL244:
 619:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xTicksToWait--;
 2095              		.loc 1 619 0
 2096 004c FEFFFFEB 		bl	vTaskDelay
 2097              	.LVL245:
 2098 0050 F4FFFFEA 		b	.L210
 2099              	.LVL246:
 2100              	.L209:
 625:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2101              		.loc 1 625 0
 2102 0054 0C109FE5 		ldr	r1, .L217+4
 2103 0058 0C009FE5 		ldr	r0, .L217+8
 2104              	.LVL247:
 2105 005c FEFFFFEB 		bl	vLoggingPrintf
 2106              	.LVL248:
 2107 0060 F5FFFFEA 		b	.L211
 2108              	.L218:
 2109              		.align	2
 2110              	.L217:
 2111 0064 00000000 		.word	.LANCHOR0
 2112 0068 00000000 		.word	.LANCHOR33
 2113 006c 00000000 		.word	.LC33
 2114              		.cfi_endproc
 2115              	.LFE3:
 2117              		.section	.text.OTA_GetAgentState,"ax",%progbits
 2118              		.align	2
 2119              		.global	OTA_GetAgentState
 2120              		.syntax unified
 2121              		.arm
 2122              		.fpu neon
 2124              	OTA_GetAgentState:
 2125              	.LFB4:
 636:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eState;
 2126              		.loc 1 636 0
 2127              		.cfi_startproc
 2128              		@ args = 0, pretend = 0, frame = 0
 2129              		@ frame_needed = 0, uses_anonymous_args = 0
 2130              		@ link register save eliminated.
 638:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2131              		.loc 1 638 0
 2132 0000 04309FE5 		ldr	r3, .L220
 2133 0004 D000D3E1 		ldrsb	r0, [r3]
 2134 0008 1EFF2FE1 		bx	lr
 2135              	.L221:
 2136              		.align	2
 2137              	.L220:
 2138 000c 00000000 		.word	.LANCHOR0
 2139              		.cfi_endproc
 2140              	.LFE4:
 2142              		.section	.text.OTA_GetPacketsDropped,"ax",%progbits
 2143              		.align	2
 2144              		.global	OTA_GetPacketsDropped
 2145              		.syntax unified
 2146              		.arm
 2147              		.fpu neon
 2149              	OTA_GetPacketsDropped:
 2150              	.LFB5:
 641:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsDropped;
 2151              		.loc 1 641 0
 2152              		.cfi_startproc
 2153              		@ args = 0, pretend = 0, frame = 0
 2154              		@ frame_needed = 0, uses_anonymous_args = 0
 2155              		@ link register save eliminated.
 643:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2156              		.loc 1 643 0
 2157 0000 04309FE5 		ldr	r3, .L223
 2158 0004 AC0093E5 		ldr	r0, [r3, #172]
 2159 0008 1EFF2FE1 		bx	lr
 2160              	.L224:
 2161              		.align	2
 2162              	.L223:
 2163 000c 00000000 		.word	.LANCHOR0
 2164              		.cfi_endproc
 2165              	.LFE5:
 2167              		.section	.text.OTA_GetPacketsQueued,"ax",%progbits
 2168              		.align	2
 2169              		.global	OTA_GetPacketsQueued
 2170              		.syntax unified
 2171              		.arm
 2172              		.fpu neon
 2174              	OTA_GetPacketsQueued:
 2175              	.LFB6:
 646:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsQueued;
 2176              		.loc 1 646 0
 2177              		.cfi_startproc
 2178              		@ args = 0, pretend = 0, frame = 0
 2179              		@ frame_needed = 0, uses_anonymous_args = 0
 2180              		@ link register save eliminated.
 648:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2181              		.loc 1 648 0
 2182 0000 04309FE5 		ldr	r3, .L226
 2183 0004 A40093E5 		ldr	r0, [r3, #164]
 2184 0008 1EFF2FE1 		bx	lr
 2185              	.L227:
 2186              		.align	2
 2187              	.L226:
 2188 000c 00000000 		.word	.LANCHOR0
 2189              		.cfi_endproc
 2190              	.LFE6:
 2192              		.section	.text.OTA_GetPacketsProcessed,"ax",%progbits
 2193              		.align	2
 2194              		.global	OTA_GetPacketsProcessed
 2195              		.syntax unified
 2196              		.arm
 2197              		.fpu neon
 2199              	OTA_GetPacketsProcessed:
 2200              	.LFB7:
 651:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsProcessed;
 2201              		.loc 1 651 0
 2202              		.cfi_startproc
 2203              		@ args = 0, pretend = 0, frame = 0
 2204              		@ frame_needed = 0, uses_anonymous_args = 0
 2205              		@ link register save eliminated.
 653:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2206              		.loc 1 653 0
 2207 0000 04309FE5 		ldr	r3, .L229
 2208 0004 A80093E5 		ldr	r0, [r3, #168]
 2209 0008 1EFF2FE1 		bx	lr
 2210              	.L230:
 2211              		.align	2
 2212              	.L229:
 2213 000c 00000000 		.word	.LANCHOR0
 2214              		.cfi_endproc
 2215              	.LFE7:
 2217              		.section	.text.OTA_GetPacketsReceived,"ax",%progbits
 2218              		.align	2
 2219              		.global	OTA_GetPacketsReceived
 2220              		.syntax unified
 2221              		.arm
 2222              		.fpu neon
 2224              	OTA_GetPacketsReceived:
 2225              	.LFB8:
 656:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.xStatistics.ulOTA_PacketsReceived;
 2226              		.loc 1 656 0
 2227              		.cfi_startproc
 2228              		@ args = 0, pretend = 0, frame = 0
 2229              		@ frame_needed = 0, uses_anonymous_args = 0
 2230              		@ link register save eliminated.
 658:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2231              		.loc 1 658 0
 2232 0000 04309FE5 		ldr	r3, .L232
 2233 0004 A00093E5 		ldr	r0, [r3, #160]
 2234 0008 1EFF2FE1 		bx	lr
 2235              	.L233:
 2236              		.align	2
 2237              	.L232:
 2238 000c 00000000 		.word	.LANCHOR0
 2239              		.cfi_endproc
 2240              	.LFE8:
 2242              		.section	.text.OTA_CheckForUpdate,"ax",%progbits
 2243              		.align	2
 2244              		.global	OTA_CheckForUpdate
 2245              		.syntax unified
 2246              		.arm
 2247              		.fpu neon
 2249              	OTA_CheckForUpdate:
 2250              	.LFB9:
 664:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_CheckForUpdate" );
 2251              		.loc 1 664 0
 2252              		.cfi_startproc
 2253              		@ args = 0, pretend = 0, frame = 360
 2254              		@ frame_needed = 0, uses_anonymous_args = 0
 2255              	.LVL249:
 2256 0000 F0402DE9 		push	{r4, r5, r6, r7, lr}
 2257              		.cfi_def_cfa_offset 20
 2258              		.cfi_offset 4, -20
 2259              		.cfi_offset 5, -16
 2260              		.cfi_offset 6, -12
 2261              		.cfi_offset 7, -8
 2262              		.cfi_offset 14, -4
 2263 0004 5DDF4DE2 		sub	sp, sp, #372
 2264              		.cfi_def_cfa_offset 392
 678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /*lint -e586 Intentionally using snprintf. */
 2265              		.loc 1 678 0
 2266 0008 B0409FE5 		ldr	r4, .L239
 680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       sizeof( cMsg ),
 2267              		.loc 1 680 0
 2268 000c B0509FE5 		ldr	r5, .L239+4
 678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /*lint -e586 Intentionally using snprintf. */
 2269              		.loc 1 678 0
 2270 0010 002094E5 		ldr	r2, [r4]
 2271 0014 AC109FE5 		ldr	r1, .L239+8
 2272 0018 AC009FE5 		ldr	r0, .L239+12
 680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       sizeof( cMsg ),
 2273              		.loc 1 680 0
 2274 001c 016085E2 		add	r6, r5, #1
 678:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     /*lint -e586 Intentionally using snprintf. */
 2275              		.loc 1 678 0
 2276 0020 FEFFFFEB 		bl	vLoggingPrintf
 2277              	.LVL250:
 680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       sizeof( cMsg ),
 2278              		.loc 1 680 0
 2279 0024 003094E5 		ldr	r3, [r4]
 2280 0028 6110A0E3 		mov	r1, #97
 2281 002c 9C209FE5 		ldr	r2, .L239+16
 2282 0030 0C008DE2 		add	r0, sp, #12
 2283 0034 00608DE5 		str	r6, [sp]
 2284 0038 FEFFFFEB 		bl	snprintf
 2285              	.LVL251:
 685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     usTopicLen = ( uint16_t ) snprintf( cJobTopic,
 2286              		.loc 1 685 0
 2287 003c 003094E5 		ldr	r3, [r4]
 680:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                       sizeof( cMsg ),
 2288              		.loc 1 680 0
 2289 0040 0070A0E1 		mov	r7, r0
 2290              	.LVL252:
 686:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         sizeof( cJobTopic ),
 2291              		.loc 1 686 0
 2292 0044 88209FE5 		ldr	r2, .L239+20
 2293 0048 011CA0E3 		mov	r1, #256
 2294 004c 70008DE2 		add	r0, sp, #112
 2295              	.LVL253:
 685:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     usTopicLen = ( uint16_t ) snprintf( cJobTopic,
 2296              		.loc 1 685 0
 2297 0050 013083E2 		add	r3, r3, #1
 2298 0054 003084E5 		str	r3, [r4]
 686:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         sizeof( cJobTopic ),
 2299              		.loc 1 686 0
 2300 0058 0630A0E1 		mov	r3, r6
 2301 005c FEFFFFEB 		bl	snprintf
 2302              	.LVL254:
 2303 0060 7020FFE6 		uxth	r2, r0
 2304              	.LVL255:
 691:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2305              		.loc 1 691 0
 2306 0064 013042E2 		sub	r3, r2, #1
 2307 0068 FE0053E3 		cmp	r3, #254
 2308 006c 0E00008A 		bhi	.L235
 693:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xOTA_Agent.pvPubSubClient,
 2309              		.loc 1 693 0
 2310 0070 0130A0E3 		mov	r3, #1
 2311 0074 00708DE5 		str	r7, [sp]
 2312 0078 04308DE5 		str	r3, [sp, #4]
 2313 007c 70108DE2 		add	r1, sp, #112
 2314 0080 0C308DE2 		add	r3, sp, #12
 2315 0084 440095E5 		ldr	r0, [r5, #68]
 2316 0088 FEFFFFEB 		bl	prvPublishMessage
 2317              	.LVL256:
 701:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 2318              		.loc 1 701 0
 2319 008c 000050E3 		cmp	r0, #0
 2320 0090 0300000A 		beq	.L234
 703:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xError = kOTA_Err_PublishFailed;
 2321              		.loc 1 703 0
 2322 0094 3C009FE5 		ldr	r0, .L239+24
 2323              	.LVL257:
 2324 0098 28109FE5 		ldr	r1, .L239+8
 2325 009c FEFFFFEB 		bl	vLoggingPrintf
 2326              	.LVL258:
 704:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 2327              		.loc 1 704 0
 2328 00a0 0203A0E3 		mov	r0, #134217728
 2329              	.LVL259:
 2330              	.L234:
 719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2331              		.loc 1 719 0
 2332 00a4 5DDF8DE2 		add	sp, sp, #372
 2333              		.cfi_remember_state
 2334              		.cfi_def_cfa_offset 20
 2335              		@ sp needed
 2336 00a8 F080BDE8 		pop	{r4, r5, r6, r7, pc}
 2337              	.LVL260:
 2338              	.L235:
 2339              		.cfi_restore_state
 714:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xError = kOTA_Err_TopicTooLarge;
 2340              		.loc 1 714 0
 2341 00ac 28009FE5 		ldr	r0, .L239+28
 2342 00b0 10109FE5 		ldr	r1, .L239+8
 2343 00b4 FEFFFFEB 		bl	vLoggingPrintf
 2344              	.LVL261:
 715:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2345              		.loc 1 715 0
 2346 00b8 2A04A0E3 		mov	r0, #704643072
 2347 00bc F8FFFFEA 		b	.L234
 2348              	.L240:
 2349              		.align	2
 2350              	.L239:
 2351 00c0 00000000 		.word	.LANCHOR34
 2352 00c4 00000000 		.word	.LANCHOR0
 2353 00c8 00000000 		.word	.LANCHOR35
 2354 00cc 00000000 		.word	.LC34
 2355 00d0 00000000 		.word	.LANCHOR36
 2356 00d4 00000000 		.word	.LANCHOR37
 2357 00d8 13000000 		.word	.LC35
 2358 00dc 3A000000 		.word	.LC36
 2359              		.cfi_endproc
 2360              	.LFE9:
 2362              		.section	.text.OTA_ActivateNewImage,"ax",%progbits
 2363              		.align	2
 2364              		.global	OTA_ActivateNewImage
 2365              		.syntax unified
 2366              		.arm
 2367              		.fpu neon
 2369              	OTA_ActivateNewImage:
 2370              	.LFB11:
 798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_ActivateNewImage" );
 2371              		.loc 1 798 0
 2372              		.cfi_startproc
 2373              		@ args = 0, pretend = 0, frame = 0
 2374              		@ frame_needed = 0, uses_anonymous_args = 0
 2375 0000 10402DE9 		push	{r4, lr}
 2376              		.cfi_def_cfa_offset 8
 2377              		.cfi_offset 4, -8
 2378              		.cfi_offset 14, -4
 806:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     OTA_LOG_L1( "[%s] Failed to activate new image (0x%08x). Please reset manually.\r\n", OTA_METHO
 2379              		.loc 1 806 0
 2380 0004 FEFFFFEB 		bl	prvPAL_ActivateNewImage
 2381              	.LVL262:
 2382 0008 0040A0E1 		mov	r4, r0
 2383              	.LVL263:
 807:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xErr;
 2384              		.loc 1 807 0
 2385 000c 0020A0E1 		mov	r2, r0
 2386 0010 0C109FE5 		ldr	r1, .L243
 2387 0014 0C009FE5 		ldr	r0, .L243+4
 2388              	.LVL264:
 2389 0018 FEFFFFEB 		bl	vLoggingPrintf
 2390              	.LVL265:
 809:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2391              		.loc 1 809 0
 2392 001c 0400A0E1 		mov	r0, r4
 2393 0020 1080BDE8 		pop	{r4, pc}
 2394              	.L244:
 2395              		.align	2
 2396              	.L243:
 2397 0024 00000000 		.word	.LANCHOR38
 2398 0028 00000000 		.word	.LC37
 2399              		.cfi_endproc
 2400              	.LFE11:
 2402              		.section	.text.OTA_SetImageState,"ax",%progbits
 2403              		.align	2
 2404              		.global	OTA_SetImageState
 2405              		.syntax unified
 2406              		.arm
 2407              		.fpu neon
 2409              	OTA_SetImageState:
 2410              	.LFB14:
 860:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_SetImageState" );
 2411              		.loc 1 860 0
 2412              		.cfi_startproc
 2413              		@ args = 0, pretend = 0, frame = 0
 2414              		@ frame_needed = 0, uses_anonymous_args = 0
 2415              	.LVL266:
 865:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2416              		.loc 1 865 0
 2417 0000 030050E3 		cmp	r0, #3
 2418 0004 1800000A 		beq	.L247
 2419 0008 040050E3 		cmp	r0, #4
 860:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "OTA_SetImageState" );
 2420              		.loc 1 860 0
 2421 000c 10402DE9 		push	{r4, lr}
 2422              		.cfi_def_cfa_offset 8
 2423              		.cfi_offset 4, -8
 2424              		.cfi_offset 14, -4
 865:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2425              		.loc 1 865 0
 2426 0010 0800000A 		beq	.L248
 2427 0014 020050E3 		cmp	r0, #2
 2428 0018 1500001A 		bne	.L252
 888:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2429              		.loc 1 888 0
 2430 001c 0010A0E3 		mov	r1, #0
 2431 0020 FEFFFFEB 		bl	prvSetImageStateWithReason
 2432              	.LVL267:
 890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 2433              		.loc 1 890 0
 2434 0024 000050E3 		cmp	r0, #0
 2435 0028 1080BD18 		popne	{r4, pc}
 893:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 2436              		.loc 1 893 0
 2437 002c 48309FE5 		ldr	r3, .L256
 2438 0030 0000C3E5 		strb	r0, [r3]
 2439 0034 1080BDE8 		pop	{r4, pc}
 2440              	.LVL268:
 2441              	.L248:
 869:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 2442              		.loc 1 869 0
 2443 0038 40309FE5 		ldr	r3, .L256+4
 2444 003c 840093E5 		ldr	r0, [r3, #132]
 2445              	.LVL269:
 2446 0040 000050E3 		cmp	r0, #0
 2447 0044 0300000A 		beq	.L250
 871:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_None;
 2448              		.loc 1 871 0
 2449 0048 0810A0E3 		mov	r1, #8
 2450 004c FEFFFFEB 		bl	xEventGroupSetBits
 2451              	.LVL270:
 872:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* xOTA_Agent.eImageState will be set later when the event is processed. */
 2452              		.loc 1 872 0
 2453 0050 0000A0E3 		mov	r0, #0
 2454 0054 1080BDE8 		pop	{r4, pc}
 2455              	.LVL271:
 2456              	.L250:
 2457              	.LBB55:
 2458              	.LBB56:
 877:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xErr = kOTA_Err_Panic;
 2459              		.loc 1 877 0
 2460 0058 24109FE5 		ldr	r1, .L256+8
 2461 005c 24009FE5 		ldr	r0, .L256+12
 2462 0060 FEFFFFEB 		bl	vLoggingPrintf
 2463              	.LVL272:
 2464 0064 FE04A0E3 		mov	r0, #-33554432
 2465 0068 1080BDE8 		pop	{r4, pc}
 2466              	.LVL273:
 2467              	.L247:
 2468              		.cfi_def_cfa_offset 0
 2469              		.cfi_restore 4
 2470              		.cfi_restore 14
 2471              	.LBE56:
 2472              	.LBE55:
 884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 2473              		.loc 1 884 0
 2474 006c 0010A0E3 		mov	r1, #0
 2475 0070 FEFFFFEA 		b	prvSetImageStateWithReason
 2476              	.LVL274:
 2477              	.L252:
 2478              		.cfi_def_cfa_offset 8
 2479              		.cfi_offset 4, -8
 2480              		.cfi_offset 14, -4
 899:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             break;
 2481              		.loc 1 899 0
 2482 0074 0904A0E3 		mov	r0, #150994944
 2483              	.LVL275:
 904:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2484              		.loc 1 904 0
 2485 0078 1080BDE8 		pop	{r4, pc}
 2486              	.L257:
 2487              		.align	2
 2488              	.L256:
 2489 007c 00000000 		.word	.LANCHOR40
 2490 0080 00000000 		.word	.LANCHOR0
 2491 0084 00000000 		.word	.LANCHOR39
 2492 0088 00000000 		.word	.LC38
 2493              		.cfi_endproc
 2494              	.LFE14:
 2496              		.section	.text.prvDefaultOTACompleteCallback,"ax",%progbits
 2497              		.align	2
 2498              		.syntax unified
 2499              		.arm
 2500              		.fpu neon
 2502              	prvDefaultOTACompleteCallback:
 2503              	.LFB1:
 461:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvDefaultOTACompleteCallback" );
 2504              		.loc 1 461 0
 2505              		.cfi_startproc
 2506              		@ args = 0, pretend = 0, frame = 0
 2507              		@ frame_needed = 0, uses_anonymous_args = 0
 2508              	.LVL276:
 2509 0000 10402DE9 		push	{r4, lr}
 2510              		.cfi_def_cfa_offset 8
 2511              		.cfi_offset 4, -8
 2512              		.cfi_offset 14, -4
 466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2513              		.loc 1 466 0
 2514 0004 004050E2 		subs	r4, r0, #0
 2515 0008 0400001A 		bne	.L259
 468:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) OTA_ActivateNewImage();
 2516              		.loc 1 468 0
 2517 000c 68109FE5 		ldr	r1, .L265
 2518 0010 68009FE5 		ldr	r0, .L265+4
 2519              	.LVL277:
 2520 0014 FEFFFFEB 		bl	vLoggingPrintf
 2521              	.LVL278:
 493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2522              		.loc 1 493 0
 2523 0018 1040BDE8 		pop	{r4, lr}
 2524              		.cfi_remember_state
 2525              		.cfi_restore 14
 2526              		.cfi_restore 4
 2527              		.cfi_def_cfa_offset 0
 469:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2528              		.loc 1 469 0
 2529 001c FEFFFFEA 		b	OTA_ActivateNewImage
 2530              	.LVL279:
 2531              	.L259:
 2532              		.cfi_restore_state
 471:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2533              		.loc 1 471 0
 2534 0020 010054E3 		cmp	r4, #1
 2535 0024 0300001A 		bne	.L260
 473:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         /* Nothing special to do. The OTA agent handles it. */
 2536              		.loc 1 473 0
 2537 0028 4C109FE5 		ldr	r1, .L265
 2538 002c 50009FE5 		ldr	r0, .L265+8
 2539              	.LVL280:
 2540              	.L264:
 493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2541              		.loc 1 493 0
 2542 0030 1040BDE8 		pop	{r4, lr}
 2543              		.cfi_remember_state
 2544              		.cfi_restore 14
 2545              		.cfi_restore 4
 2546              		.cfi_def_cfa_offset 0
 2547              	.LBB59:
 2548              	.LBB60:
 486:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 2549              		.loc 1 486 0
 2550 0034 FEFFFFEA 		b	vLoggingPrintf
 2551              	.LVL281:
 2552              	.L260:
 2553              		.cfi_restore_state
 2554              	.LBE60:
 2555              	.LBE59:
 476:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2556              		.loc 1 476 0
 2557 0038 020054E3 		cmp	r4, #2
 2558 003c 0900001A 		bne	.L261
 481:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xErr = OTA_SetImageState( eOTA_ImageState_Accepted );
 2559              		.loc 1 481 0
 2560 0040 34109FE5 		ldr	r1, .L265
 2561 0044 3C009FE5 		ldr	r0, .L265+12
 2562              	.LVL282:
 2563 0048 FEFFFFEB 		bl	vLoggingPrintf
 2564              	.LVL283:
 482:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2565              		.loc 1 482 0
 2566 004c 0400A0E1 		mov	r0, r4
 2567 0050 FEFFFFEB 		bl	OTA_SetImageState
 2568              	.LVL284:
 484:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 2569              		.loc 1 484 0
 2570 0054 000050E3 		cmp	r0, #0
 2571 0058 1080BD08 		popeq	{r4, pc}
 2572              	.LVL285:
 2573              	.LBB62:
 2574              	.LBB61:
 486:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 2575              		.loc 1 486 0
 2576 005c 18109FE5 		ldr	r1, .L265
 2577 0060 24009FE5 		ldr	r0, .L265+16
 2578              	.LVL286:
 2579 0064 F1FFFFEA 		b	.L264
 2580              	.LVL287:
 2581              	.L261:
 2582              	.LBE61:
 2583              	.LBE62:
 491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2584              		.loc 1 491 0
 2585 0068 0420A0E1 		mov	r2, r4
 2586 006c 08109FE5 		ldr	r1, .L265
 2587 0070 18009FE5 		ldr	r0, .L265+20
 2588              	.LVL288:
 493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2589              		.loc 1 493 0
 2590 0074 1040BDE8 		pop	{r4, lr}
 2591              		.cfi_restore 14
 2592              		.cfi_restore 4
 2593              		.cfi_def_cfa_offset 0
 491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2594              		.loc 1 491 0
 2595 0078 FEFFFFEA 		b	vLoggingPrintf
 2596              	.LVL289:
 2597              	.L266:
 2598              		.align	2
 2599              	.L265:
 2600 007c 00000000 		.word	.LANCHOR41
 2601 0080 00000000 		.word	.LC39
 2602 0084 40000000 		.word	.LC40
 2603 0088 7C000000 		.word	.LC41
 2604 008c BD000000 		.word	.LC42
 2605 0090 E6000000 		.word	.LC43
 2606              		.cfi_endproc
 2607              	.LFE1:
 2609              		.section	.text.OTA_GetImageState,"ax",%progbits
 2610              		.align	2
 2611              		.global	OTA_GetImageState
 2612              		.syntax unified
 2613              		.arm
 2614              		.fpu neon
 2616              	OTA_GetImageState:
 2617              	.LFB15:
 908:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     return xOTA_Agent.eImageState;
 2618              		.loc 1 908 0
 2619              		.cfi_startproc
 2620              		@ args = 0, pretend = 0, frame = 0
 2621              		@ frame_needed = 0, uses_anonymous_args = 0
 2622              		@ link register save eliminated.
 910:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2623              		.loc 1 910 0
 2624 0000 04309FE5 		ldr	r3, .L268
 2625 0004 9800D3E5 		ldrb	r0, [r3, #152]	@ zero_extendqisi2
 2626 0008 1EFF2FE1 		bx	lr
 2627              	.L269:
 2628              		.align	2
 2629              	.L268:
 2630 000c 00000000 		.word	.LANCHOR0
 2631              		.cfi_endproc
 2632              	.LFE15:
 2634              		.section	.text.JSON_IsCStringEqual,"ax",%progbits
 2635              		.align	2
 2636              		.global	JSON_IsCStringEqual
 2637              		.syntax unified
 2638              		.arm
 2639              		.fpu neon
 2641              	JSON_IsCStringEqual:
 2642              	.LFB29:
1798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult;
 2643              		.loc 1 1798 0
 2644              		.cfi_startproc
 2645              		@ args = 0, pretend = 0, frame = 0
 2646              		@ frame_needed = 0, uses_anonymous_args = 0
 2647              	.LVL290:
1801:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( strncmp( pcJSONString, pcCString, ulLen ) == 0 ) && /*lint !e9007 I see no side effect. P
 2648              		.loc 1 1801 0
 2649 0000 010C51E3 		cmp	r1, #256
 2650 0004 0B00008A 		bhi	.L272
1798:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     bool_t xResult;
 2651              		.loc 1 1798 0 discriminator 1
 2652 0008 70402DE9 		push	{r4, r5, r6, lr}
 2653              		.cfi_def_cfa_offset 16
 2654              		.cfi_offset 4, -16
 2655              		.cfi_offset 5, -12
 2656              		.cfi_offset 6, -8
 2657              		.cfi_offset 14, -4
 2658 000c 0250A0E1 		mov	r5, r2
 2659 0010 0140A0E1 		mov	r4, r1
1802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( pcCString[ ulLen ] == '\0' ) )
 2660              		.loc 1 1802 0 discriminator 1
 2661 0014 0120A0E1 		mov	r2, r1
 2662              	.LVL291:
 2663 0018 0510A0E1 		mov	r1, r5
 2664              	.LVL292:
 2665 001c FEFFFFEB 		bl	strncmp
 2666              	.LVL293:
1801:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( strncmp( pcJSONString, pcCString, ulLen ) == 0 ) && /*lint !e9007 I see no side effect. P
 2667              		.loc 1 1801 0 discriminator 1
 2668 0020 000050E3 		cmp	r0, #0
 2669 0024 0500001A 		bne	.L273
1802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( pcCString[ ulLen ] == '\0' ) )
 2670              		.loc 1 1802 0
 2671 0028 0400D5E7 		ldrb	r0, [r5, r4]	@ zero_extendqisi2
1805:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2672              		.loc 1 1805 0
 2673 002c 100F6FE1 		clz	r0, r0
 2674 0030 A002A0E1 		lsr	r0, r0, #5
 2675 0034 7080BDE8 		pop	{r4, r5, r6, pc}
 2676              	.LVL294:
 2677              	.L272:
 2678              		.cfi_def_cfa_offset 0
 2679              		.cfi_restore 4
 2680              		.cfi_restore 5
 2681              		.cfi_restore 6
 2682              		.cfi_restore 14
1809:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2683              		.loc 1 1809 0
 2684 0038 0000A0E3 		mov	r0, #0
 2685              	.LVL295:
 2686 003c 1EFF2FE1 		bx	lr
 2687              	.LVL296:
 2688              	.L273:
 2689              		.cfi_def_cfa_offset 16
 2690              		.cfi_offset 4, -16
 2691              		.cfi_offset 5, -12
 2692              		.cfi_offset 6, -8
 2693              		.cfi_offset 14, -4
 2694 0040 0000A0E3 		mov	r0, #0
 2695              	.LVL297:
1813:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2696              		.loc 1 1813 0
 2697 0044 7080BDE8 		pop	{r4, r5, r6, pc}
 2698              		.cfi_endproc
 2699              	.LFE29:
 2701              		.section	.text.prvParseJSONbyModel,"ax",%progbits
 2702              		.align	2
 2703              		.syntax unified
 2704              		.arm
 2705              		.fpu neon
 2707              	prvParseJSONbyModel:
 2708              	.LFB31:
1858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJSONbyModel" );
 2709              		.loc 1 1858 0
 2710              		.cfi_startproc
 2711              		@ args = 0, pretend = 0, frame = 40
 2712              		@ frame_needed = 0, uses_anonymous_args = 0
 2713              	.LVL298:
 2714 0000 F04F2DE9 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2715              		.cfi_def_cfa_offset 36
 2716              		.cfi_offset 4, -36
 2717              		.cfi_offset 5, -32
 2718              		.cfi_offset 6, -28
 2719              		.cfi_offset 7, -24
 2720              		.cfi_offset 8, -20
 2721              		.cfi_offset 9, -16
 2722              		.cfi_offset 10, -12
 2723              		.cfi_offset 11, -8
 2724              		.cfi_offset 14, -4
 2725 0004 3CD04DE2 		sub	sp, sp, #60
 2726              		.cfi_def_cfa_offset 96
1858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJSONbyModel" );
 2727              		.loc 1 1858 0
 2728 0008 0250A0E1 		mov	r5, r2
 2729 000c 0060A0E1 		mov	r6, r0
1874:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2730              		.loc 1 1874 0
 2731 0010 2C008DE2 		add	r0, sp, #44
 2732              	.LVL299:
1858:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJSONbyModel" );
 2733              		.loc 1 1858 0
 2734 0014 0170A0E1 		mov	r7, r1
1874:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2735              		.loc 1 1874 0
 2736 0018 FEFFFFEB 		bl	jsmn_init
 2737              	.LVL300:
1877:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2738              		.loc 1 1877 0
 2739 001c 000055E3 		cmp	r5, #0
 2740 0020 0600001A 		bne	.L279
1880:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2741              		.loc 1 1880 0
 2742 0024 0A40A0E3 		mov	r4, #10
1879:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullModelPointer;
 2743              		.loc 1 1879 0
 2744 0028 C4149FE5 		ldr	r1, .L333
 2745 002c C4049FE5 		ldr	r0, .L333+4
 2746 0030 FEFFFFEB 		bl	vLoggingPrintf
 2747              	.LVL301:
 2748              	.L321:
2167:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2749              		.loc 1 2167 0
 2750 0034 0400A0E1 		mov	r0, r4
 2751 0038 3CD08DE2 		add	sp, sp, #60
 2752              		.cfi_remember_state
 2753              		.cfi_def_cfa_offset 36
 2754              		@ sp needed
 2755 003c F08FBDE8 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2756              	.LVL302:
 2757              	.L279:
 2758              		.cfi_restore_state
1882:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2759              		.loc 1 1882 0
 2760 0040 089095E5 		ldr	r9, [r5, #8]
 2761 0044 000059E3 		cmp	r9, #0
 2762 0048 0500001A 		bne	.L281
1884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullBodyPointer;
 2763              		.loc 1 1884 0
 2764 004c 0520A0E1 		mov	r2, r5
 2765 0050 9C149FE5 		ldr	r1, .L333
 2766 0054 A0049FE5 		ldr	r0, .L333+8
1885:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2767              		.loc 1 1885 0
 2768 0058 0B40A0E3 		mov	r4, #11
1884:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullBodyPointer;
 2769              		.loc 1 1884 0
 2770 005c FEFFFFEB 		bl	vLoggingPrintf
 2771              	.LVL303:
 2772 0060 F3FFFFEA 		b	.L321
 2773              	.LVL304:
 2774              	.L281:
1887:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2775              		.loc 1 1887 0
 2776 0064 BC20D5E1 		ldrh	r2, [r5, #12]
 2777 0068 200052E3 		cmp	r2, #32
 2778 006c 0400009A 		bls	.L282
1889:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_TooManyParams;
 2779              		.loc 1 1889 0
 2780 0070 7C149FE5 		ldr	r1, .L333
1890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2781              		.loc 1 1890 0
 2782 0074 0D40A0E3 		mov	r4, #13
1889:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_TooManyParams;
 2783              		.loc 1 1889 0
 2784 0078 80049FE5 		ldr	r0, .L333+12
 2785 007c FEFFFFEB 		bl	vLoggingPrintf
 2786              	.LVL305:
 2787 0080 EBFFFFEA 		b	.L321
 2788              	.LVL306:
 2789              	.L282:
1892:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2790              		.loc 1 1892 0
 2791 0084 000056E3 		cmp	r6, #0
 2792 0088 0400001A 		bne	.L283
1894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullDocPointer;
 2793              		.loc 1 1894 0
 2794 008c 60149FE5 		ldr	r1, .L333
1895:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 2795              		.loc 1 1895 0
 2796 0090 0C40A0E3 		mov	r4, #12
1894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eDocParseErr_NullDocPointer;
 2797              		.loc 1 1894 0
 2798 0094 68049FE5 		ldr	r0, .L333+16
 2799 0098 FEFFFFEB 		bl	vLoggingPrintf
 2800              	.LVL307:
 2801 009c E4FFFFEA 		b	.L321
 2802              	.LVL308:
 2803              	.L283:
1902:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2804              		.loc 1 1902 0
 2805 00a0 0140A0E3 		mov	r4, #1
 2806 00a4 0030A0E3 		mov	r3, #0
 2807 00a8 00408DE5 		str	r4, [sp]
 2808 00ac 0720A0E1 		mov	r2, r7
 2809 00b0 0610A0E1 		mov	r1, r6
 2810 00b4 2C008DE2 		add	r0, sp, #44
 2811 00b8 FEFFFFEB 		bl	jsmn_parse
 2812              	.LVL309:
1904:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 2813              		.loc 1 1904 0
 2814 00bc 003050E2 		subs	r3, r0, #0
 2815 00c0 18308DE5 		str	r3, [sp, #24]
 2816 00c4 0501000A 		beq	.L284
1907:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 2817              		.loc 1 1907 0
 2818 00c8 400053E3 		cmp	r3, #64
 2819 00cc FE00008A 		bhi	.L285
 2820              	.LBB74:
1910:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxTokens = ( jsmntok_t * ) pvTokenArray;                                 /*lint !e9
 2821              		.loc 1 1910 0
 2822 00d0 1400A0E3 		mov	r0, #20
 2823              	.LVL310:
 2824 00d4 900300E0 		mul	r0, r0, r3
 2825 00d8 FEFFFFEB 		bl	pvPortMalloc
 2826              	.LVL311:
1913:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 2827              		.loc 1 1913 0
 2828 00dc 003050E2 		subs	r3, r0, #0
 2829 00e0 1C308DE5 		str	r3, [sp, #28]
 2830 00e4 F400000A 		beq	.L286
1916:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ulIndex = ( uint32_t ) jsmn_parse( &xParser, pcJSON, ulMsgLen, pxTokens, ulNumT
 2831              		.loc 1 1916 0
 2832 00e8 2C008DE2 		add	r0, sp, #44
 2833              	.LVL312:
 2834 00ec FEFFFFEB 		bl	jsmn_init
 2835              	.LVL313:
1917:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2836              		.loc 1 1917 0
 2837 00f0 18309DE5 		ldr	r3, [sp, #24]
 2838 00f4 0720A0E1 		mov	r2, r7
 2839 00f8 0610A0E1 		mov	r1, r6
 2840 00fc 2C008DE2 		add	r0, sp, #44
 2841 0100 00308DE5 		str	r3, [sp]
 2842 0104 1C309DE5 		ldr	r3, [sp, #28]
 2843 0108 FEFFFFEB 		bl	jsmn_parse
 2844              	.LVL314:
1919:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 2845              		.loc 1 1919 0
 2846 010c 18309DE5 		ldr	r3, [sp, #24]
 2847 0110 000053E1 		cmp	r3, r0
 2848 0114 0040A003 		moveq	r4, #0
 2849 0118 14408D05 		streq	r4, [sp, #20]
 2850 011c 7000000A 		beq	.L288
2142:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eDocParseErr_JasmineCountMismatch;
 2851              		.loc 1 2142 0
 2852 0120 CC139FE5 		ldr	r1, .L333
2143:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 2853              		.loc 1 2143 0
 2854 0124 0740A0E3 		mov	r4, #7
2142:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eDocParseErr_JasmineCountMismatch;
 2855              		.loc 1 2142 0
 2856 0128 D8039FE5 		ldr	r0, .L333+20
 2857              	.LVL315:
 2858 012c FEFFFFEB 		bl	vLoggingPrintf
 2859              	.LVL316:
 2860 0130 BFFFFFEA 		b	.L321
 2861              	.LVL317:
 2862              	.L307:
1928:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 2863              		.loc 1 1928 0
 2864 0134 14309DE5 		ldr	r3, [sp, #20]
 2865 0138 1470A0E3 		mov	r7, #20
 2866 013c 970307E0 		mul	r7, r7, r3
 2867 0140 1C309DE5 		ldr	r3, [sp, #28]
 2868 0144 078083E0 		add	r8, r3, r7
 2869 0148 0730D3E7 		ldrb	r3, [r3, r7]	@ zero_extendqisi2
 2870 014c 030053E3 		cmp	r3, #3
 2871 0150 1600001A 		bne	.L320
1931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eErr = prvSearchModelForTokenKey( pxDocModel, &pcJSON[ pxTokens[ ul
 2872              		.loc 1 1931 0
 2873 0154 04B098E5 		ldr	fp, [r8, #4]
 2874              	.LBB75:
 2875              	.LBB76:
1826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2876              		.loc 1 1826 0
 2877 0158 0040A0E3 		mov	r4, #0
 2878              	.LBE76:
 2879              	.LBE75:
1931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eErr = prvSearchModelForTokenKey( pxDocModel, &pcJSON[ pxTokens[ ul
 2880              		.loc 1 1931 0
 2881 015c 083098E5 		ldr	r3, [r8, #8]
 2882              	.LBB83:
 2883              	.LBB77:
1826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2884              		.loc 1 1826 0
 2885 0160 BC20D5E1 		ldrh	r2, [r5, #12]
 2886              	.LBE77:
 2887              	.LBE83:
1931:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 eErr = prvSearchModelForTokenKey( pxDocModel, &pcJSON[ pxTokens[ ul
 2888              		.loc 1 1931 0
 2889 0164 0B3043E0 		sub	r3, r3, fp
 2890              	.LVL318:
1932:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2891              		.loc 1 1932 0
 2892 0168 0BB086E0 		add	fp, r6, fp
 2893              	.LVL319:
 2894              	.LBB84:
 2895              	.LBB78:
1826:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 2896              		.loc 1 1826 0
 2897 016c 20208DE5 		str	r2, [sp, #32]
 2898              	.LVL320:
 2899              	.L290:
 2900 0170 20109DE5 		ldr	r1, [sp, #32]
 2901 0174 7420FFE6 		uxth	r2, r4
 2902 0178 010052E1 		cmp	r2, r1
 2903 017c 0D00003A 		bcc	.L293
 2904              	.LVL321:
 2905              	.LBE78:
 2906              	.LBE84:
 2907              	.LBB85:
1938:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2908              		.loc 1 1938 0
 2909 0180 14309DE5 		ldr	r3, [sp, #20]
 2910              	.LVL322:
 2911              	.L296:
1941:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 2912              		.loc 1 1941 0
 2913 0184 18209DE5 		ldr	r2, [sp, #24]
1943:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
 2914              		.loc 1 1943 0
 2915 0188 013083E2 		add	r3, r3, #1
 2916              	.LVL323:
1941:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 2917              		.loc 1 1941 0
 2918 018c 020053E1 		cmp	r3, r2
 2919 0190 0400002A 		bcs	.L295
 2920 0194 148088E2 		add	r8, r8, #20
1941:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 2921              		.loc 1 1941 0 is_stmt 0 discriminator 1
 2922 0198 102098E5 		ldr	r2, [r8, #16]
 2923 019c 14109DE5 		ldr	r1, [sp, #20]
 2924 01a0 020051E1 		cmp	r1, r2
 2925 01a4 F6FFFFDA 		ble	.L296
 2926              	.L295:
1946:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     eErr = eDocParseErr_None; /* Unknown key structures are simply 
 2927              		.loc 1 1946 0 is_stmt 1
 2928 01a8 013043E2 		sub	r3, r3, #1
 2929              	.LVL324:
 2930 01ac 14308DE5 		str	r3, [sp, #20]
 2931              	.LVL325:
 2932              	.L320:
 2933              	.LBE85:
 2934 01b0 0040A0E3 		mov	r4, #0
 2935 01b4 470000EA 		b	.L289
 2936              	.LVL326:
 2937              	.L293:
 2938              	.LBB86:
 2939              	.LBB79:
1828:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  pxDocModel->pxBodyDef[ usParamIndex ].pcSrcKey ) == ( bool_t ) pdT
 2940              		.loc 1 1828 0
 2941 01b8 082095E5 		ldr	r2, [r5, #8]
 2942 01bc 0310A0E1 		mov	r1, r3
 2943 01c0 0B00A0E1 		mov	r0, fp
 2944 01c4 24308DE5 		str	r3, [sp, #36]
 2945 01c8 04A2A0E1 		lsl	r10, r4, #4
 2946 01cc 042292E7 		ldr	r2, [r2, r4, lsl #4]
 2947 01d0 FEFFFFEB 		bl	JSON_IsCStringEqual
 2948              	.LVL327:
 2949 01d4 010050E3 		cmp	r0, #1
 2950 01d8 012084E2 		add	r2, r4, #1
 2951 01dc 24309DE5 		ldr	r3, [sp, #36]
 2952 01e0 2E00001A 		bne	.L314
 2953              	.LVL328:
1832:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 2954              		.loc 1 1832 0
 2955 01e4 7440FFE6 		uxth	r4, r4
 2956 01e8 103095E5 		ldr	r3, [r5, #16]
 2957              	.LVL329:
 2958 01ec 1004A0E1 		lsl	r0, r0, r4
 2959 01f0 004013E0 		ands	r4, r3, r0
1834:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 2960              		.loc 1 1834 0
 2961 01f4 0540A013 		movne	r4, #5
1832:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 2962              		.loc 1 1832 0
 2963 01f8 3600001A 		bne	.L289
 2964              	.LBE79:
 2965              	.LBE86:
1954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2966              		.loc 1 1954 0
 2967 01fc 1C209DE5 		ldr	r2, [sp, #28]
 2968              	.LBB87:
 2969              	.LBB80:
1839:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 *pusMatchingIndexResult = usParamIndex;                       /* Save result index 
 2970              		.loc 1 1839 0
 2971 0200 000083E1 		orr	r0, r3, r0
 2972              	.LBE80:
 2973              	.LBE87:
1954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2974              		.loc 1 1954 0
 2975 0204 143087E2 		add	r3, r7, #20
 2976              	.LBB88:
 2977              	.LBB81:
1839:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 *pusMatchingIndexResult = usParamIndex;                       /* Save result index 
 2978              		.loc 1 1839 0
 2979 0208 100085E5 		str	r0, [r5, #16]
 2980              	.LVL330:
 2981              	.LBE81:
 2982              	.LBE88:
1954:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 2983              		.loc 1 1954 0
 2984 020c 037082E0 		add	r7, r2, r3
 2985              	.LVL331:
1957:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 2986              		.loc 1 1957 0
 2987 0210 0320D2E7 		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 2988 0214 0A3089E0 		add	r3, r9, r10
 2989 0218 0D10D3E5 		ldrb	r1, [r3, #13]	@ zero_extendqisi2
 2990 021c 010052E1 		cmp	r2, r1
 2991 0220 2000001A 		bne	.L291
1967:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 2992              		.loc 1 1967 0
 2993 0224 088093E5 		ldr	r8, [r3, #8]
 2994 0228 010078E3 		cmn	r8, #1
 2995 022c 2900000A 		beq	.L289
1977:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 2996              		.loc 1 1977 0
 2997 0230 042095E5 		ldr	r2, [r5, #4]
1987:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 2998              		.loc 1 1987 0
 2999 0234 0C40D3E5 		ldrb	r4, [r3, #12]	@ zero_extendqisi2
1977:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3000              		.loc 1 1977 0
 3001 0238 020058E1 		cmp	r8, r2
1979:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 3002              		.loc 1 1979 0
 3003 023c 00209535 		ldrcc	r2, [r5]
 3004 0240 02808830 		addcc	r8, r8, r2
 3005              	.LVL332:
1987:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3006              		.loc 1 1987 0
 3007 0244 000054E3 		cmp	r4, #0
 3008 0248 3C00001A 		bne	.L299
 3009              	.LBB89:
1990:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             void * pvStringCopy = pvPortMalloc( ulTokenLen + 1U );
 3010              		.loc 1 1990 0
 3011 024c 0C0097E9 		ldmib	r7, {r2, r3}
 3012 0250 023043E0 		sub	r3, r3, r2
 3013              	.LVL333:
1991:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3014              		.loc 1 1991 0
 3015 0254 010083E2 		add	r0, r3, #1
 3016 0258 20308DE5 		str	r3, [sp, #32]
 3017 025c FEFFFFEB 		bl	pvPortMalloc
 3018              	.LVL334:
1993:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3019              		.loc 1 1993 0
 3020 0260 00B050E2 		subs	fp, r0, #0
 3021 0264 8400000A 		beq	.L319
 3022              	.LBB90:
1998:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* Zero terminate the new string. */
 3023              		.loc 1 1998 0
 3024 0268 20309DE5 		ldr	r3, [sp, #32]
 3025 026c 041097E5 		ldr	r1, [r7, #4]
1995:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 char * pcStringCopy = *xParamAddr.ppcPtr;
 3026              		.loc 1 1995 0
 3027 0270 00B088E5 		str	fp, [r8]
 3028              	.LVL335:
1998:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 /* Zero terminate the new string. */
 3029              		.loc 1 1998 0
 3030 0274 0320A0E1 		mov	r2, r3
 3031 0278 011086E0 		add	r1, r6, r1
 3032 027c FEFFFFEB 		bl	memcpy
 3033              	.LVL336:
2000:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %s ]\r\
 3034              		.loc 1 2000 0
 3035 0280 20309DE5 		ldr	r3, [sp, #32]
2001:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3036              		.loc 1 2001 0
 3037 0284 68129FE5 		ldr	r1, .L333
 3038 0288 7C029FE5 		ldr	r0, .L333+24
2000:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %s ]\r\
 3039              		.loc 1 2000 0
 3040 028c 0340CBE7 		strb	r4, [fp, r3]
2001:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3041              		.loc 1 2001 0
 3042 0290 0B30A0E1 		mov	r3, fp
 3043 0294 0A2099E7 		ldr	r2, [r9, r10]
 3044              	.LVL337:
 3045              	.L332:
 3046              	.LBE90:
 3047              	.LBE89:
 3048              	.LBB91:
 3049              	.LBB92:
2075:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 OTA_METHOD_NAME,
 3050              		.loc 1 2075 0
 3051 0298 FEFFFFEB 		bl	vLoggingPrintf
 3052              	.LVL338:
 3053 029c 0D0000EA 		b	.L289
 3054              	.LVL339:
 3055              	.L314:
 3056              	.LBE92:
 3057              	.LBE91:
 3058              	.LBB94:
 3059              	.LBB82:
1828:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                  pxDocModel->pxBodyDef[ usParamIndex ].pcSrcKey ) == ( bool_t ) pdT
 3060              		.loc 1 1828 0
 3061 02a0 0240A0E1 		mov	r4, r2
 3062 02a4 B1FFFFEA 		b	.L290
 3063              	.LVL340:
 3064              	.L291:
 3065              	.LBE82:
 3066              	.LBE94:
1959:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] parameter type mismatch [ %s : %.*s ] typ
 3067              		.loc 1 1959 0
 3068 02a8 043097E5 		ldr	r3, [r7, #4]
 3069              	.LVL341:
1964:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         /* break; */
 3070              		.loc 1 1964 0
 3071 02ac 0240A0E3 		mov	r4, #2
1959:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         OTA_LOG_L1( "[%s] parameter type mismatch [ %s : %.*s ] typ
 3072              		.loc 1 1959 0
 3073 02b0 080097E5 		ldr	r0, [r7, #8]
1960:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME, pxModelParam[ usModelParamInde
 3074              		.loc 1 1960 0
 3075 02b4 04208DE5 		str	r2, [sp, #4]
 3076              	.LVL342:
 3077 02b8 032086E0 		add	r2, r6, r3
 3078 02bc 08108DE5 		str	r1, [sp, #8]
 3079 02c0 00208DE5 		str	r2, [sp]
 3080 02c4 033040E0 		sub	r3, r0, r3
 3081              	.LVL343:
 3082 02c8 0A2099E7 		ldr	r2, [r9, r10]
 3083 02cc 20129FE5 		ldr	r1, .L333
 3084 02d0 38029FE5 		ldr	r0, .L333+28
 3085 02d4 FEFFFFEB 		bl	vLoggingPrintf
 3086              	.LVL344:
 3087              	.L289:
1925:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 3088              		.loc 1 1925 0 discriminator 2
 3089 02d8 14309DE5 		ldr	r3, [sp, #20]
 3090 02dc 013083E2 		add	r3, r3, #1
 3091 02e0 14308DE5 		str	r3, [sp, #20]
 3092              	.LVL345:
 3093              	.L288:
1925:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 3094              		.loc 1 1925 0 is_stmt 0 discriminator 1
 3095 02e4 14209DE5 		ldr	r2, [sp, #20]
 3096 02e8 143F6FE1 		clz	r3, r4
 3097 02ec 18109DE5 		ldr	r1, [sp, #24]
 3098 02f0 A332A0E1 		lsr	r3, r3, #5
 3099 02f4 010052E1 		cmp	r2, r1
 3100 02f8 0030A023 		movcs	r3, #0
 3101 02fc 000053E3 		cmp	r3, #0
 3102 0300 8BFFFF1A 		bne	.L307
2112:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3103              		.loc 1 2112 0 is_stmt 1
 3104 0304 1C009DE5 		ldr	r0, [sp, #28]
 3105 0308 FEFFFFEB 		bl	vPortFree
 3106              	.LVL346:
2114:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 3107              		.loc 1 2114 0
 3108 030c 000054E3 		cmp	r4, #0
 3109 0310 6400001A 		bne	.L308
 3110              	.LBB95:
2117:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3111              		.loc 1 2117 0
 3112 0314 106095E5 		ldr	r6, [r5, #16]
 3113              	.LVL347:
2116:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                        ^ pxDocModel->ulParamsRequiredBitmap;
 3114              		.loc 1 2116 0
 3115 0318 143095E5 		ldr	r3, [r5, #20]
 3116              	.LVL348:
2119:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 3117              		.loc 1 2119 0
 3118 031c 0660D3E1 		bics	r6, r3, r6
 3119              	.LVL349:
 3120 0320 43FFFF0A 		beq	.L321
2126:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME,
 3121              		.loc 1 2126 0 discriminator 1
 3122 0324 C8719FE5 		ldr	r7, .L333
 3123 0328 E4819FE5 		ldr	r8, .L333+32
 3124              	.L309:
 3125              	.LVL350:
2122:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 3126              		.loc 1 2122 0 discriminator 1
 3127 032c BC30D5E1 		ldrh	r3, [r5, #12]
 3128 0330 030054E1 		cmp	r4, r3
 3129 0334 5200003A 		bcc	.L311
 3130              	.LVL351:
2132:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 3131              		.loc 1 2132 0
 3132 0338 0640A0E3 		mov	r4, #6
 3133              	.LVL352:
 3134 033c 3CFFFFEA 		b	.L321
 3135              	.LVL353:
 3136              	.L299:
 3137              	.LBE95:
2012:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3138              		.loc 1 2012 0
 3139 0340 010054E3 		cmp	r4, #1
 3140 0344 1100001A 		bne	.L300
 3141              	.LBB96:
2015:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3142              		.loc 1 2015 0
 3143 0348 043097E5 		ldr	r3, [r7, #4]
 3144              	.LVL354:
2017:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3145              		.loc 1 2017 0
 3146 034c 032096E0 		adds	r2, r6, r3
 3147              	.LVL355:
 3148 0350 0800000A 		beq	.L301
2020:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 OTA_LOG_L1( "[%s] Extracted parameter [ %s: %.*s ]\
 3149              		.loc 1 2020 0
 3150 0354 081097E5 		ldr	r1, [r7, #8]
2019:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 ulTokenLen = ( uint32_t ) ( pxValTok->end ) - ( uin
 3151              		.loc 1 2019 0
 3152 0358 002088E5 		str	r2, [r8]
 3153              	.LVL356:
2021:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3154              		.loc 1 2021 0
 3155 035c B4019FE5 		ldr	r0, .L333+36
 3156 0360 00208DE5 		str	r2, [sp]
 3157              	.LVL357:
 3158 0364 033041E0 		sub	r3, r1, r3
 3159 0368 0A2099E7 		ldr	r2, [r9, r10]
 3160              	.LVL358:
 3161 036c 80119FE5 		ldr	r1, .L333
 3162 0370 FEFFFFEB 		bl	vLoggingPrintf
 3163              	.LVL359:
 3164 0374 8DFFFFEA 		b	.L320
 3165              	.LVL360:
 3166              	.L301:
2029:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3167              		.loc 1 2029 0
 3168 0378 0A2099E7 		ldr	r2, [r9, r10]
 3169              	.LVL361:
2032:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
 3170              		.loc 1 2032 0
 3171 037c 1040A0E3 		mov	r4, #16
2029:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3172              		.loc 1 2029 0
 3173 0380 6C119FE5 		ldr	r1, .L333
 3174 0384 90019FE5 		ldr	r0, .L333+40
 3175 0388 FEFFFFEB 		bl	vLoggingPrintf
 3176              	.LVL362:
 3177 038c D1FFFFEA 		b	.L289
 3178              	.LVL363:
 3179              	.L300:
 3180              	.LBE96:
2035:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3181              		.loc 1 2035 0
 3182 0390 040054E3 		cmp	r4, #4
 3183 0394 1000001A 		bne	.L302
 3184              	.LVL364:
 3185              	.LBB97:
2038:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             *xParamAddr.pulPtr = strtoul( pcStart, &pcEnd, 0 );
 3186              		.loc 1 2038 0
 3187 0398 040097E5 		ldr	r0, [r7, #4]
2039:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3188              		.loc 1 2039 0
 3189 039c 0020A0E3 		mov	r2, #0
 3190 03a0 28108DE2 		add	r1, sp, #40
 3191 03a4 000086E0 		add	r0, r6, r0
 3192              	.LVL365:
 3193 03a8 FEFFFFEB 		bl	strtoul
 3194              	.LVL366:
2041:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3195              		.loc 1 2041 0
 3196 03ac 082097E5 		ldr	r2, [r7, #8]
2039:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3197              		.loc 1 2039 0
 3198 03b0 0030A0E1 		mov	r3, r0
2041:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3199              		.loc 1 2041 0
 3200 03b4 28109DE5 		ldr	r1, [sp, #40]
2039:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3201              		.loc 1 2039 0
 3202 03b8 000088E5 		str	r0, [r8]
2041:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3203              		.loc 1 2041 0
 3204 03bc 022086E0 		add	r2, r6, r2
 3205 03c0 020051E1 		cmp	r1, r2
 3206 03c4 C3FFFF1A 		bne	.L289
2043:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                             OTA_METHOD_NAME,
 3207              		.loc 1 2043 0
 3208 03c8 0A2099E7 		ldr	r2, [r9, r10]
 3209 03cc 20119FE5 		ldr	r1, .L333
 3210 03d0 48019FE5 		ldr	r0, .L333+44
 3211 03d4 FEFFFFEB 		bl	vLoggingPrintf
 3212              	.LVL367:
 3213 03d8 74FFFFEA 		b	.L320
 3214              	.L302:
 3215              	.LBE97:
2053:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3216              		.loc 1 2053 0
 3217 03dc 050054E3 		cmp	r4, #5
 3218 03e0 1C00001A 		bne	.L304
 3219              	.LBB98:
2056:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3220              		.loc 1 2056 0
 3221 03e4 020100E3 		movw	r0, #258
 3222 03e8 FEFFFFEB 		bl	pvPortMalloc
 3223              	.LVL368:
2058:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             {
 3224              		.loc 1 2058 0
 3225 03ec 00B050E2 		subs	fp, r0, #0
 3226 03f0 2100000A 		beq	.L319
 3227              	.LBB93:
2063:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3228              		.loc 1 2063 0
 3229 03f4 043097E5 		ldr	r3, [r7, #4]
2065:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                            ( const uint8_t * ) &pcJ
 3230              		.loc 1 2065 0
 3231 03f8 011CA0E3 		mov	r1, #256
2063:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3232              		.loc 1 2063 0
 3233 03fc 082097E5 		ldr	r2, [r7, #8]
2065:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                            ( const uint8_t * ) &pcJ
 3234              		.loc 1 2065 0
 3235 0400 02008BE2 		add	r0, fp, #2
 3236              	.LVL369:
2061:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                 Sig256_t * pxSig256 = *xParamAddr.ppxSig256Ptr;
 3237              		.loc 1 2061 0
 3238 0404 00B088E5 		str	fp, [r8]
 3239              	.LVL370:
2063:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3240              		.loc 1 2063 0
 3241 0408 032042E0 		sub	r2, r2, r3
2065:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                            ( const uint8_t * ) &pcJ
 3242              		.loc 1 2065 0
 3243 040c 033086E0 		add	r3, r6, r3
 3244              	.LVL371:
 3245 0410 00208DE5 		str	r2, [sp]
 3246              	.LVL372:
 3247 0414 28208DE2 		add	r2, sp, #40
 3248 0418 FEFFFFEB 		bl	mbedtls_base64_decode
 3249              	.LVL373:
 3250 041c 004050E2 		subs	r4, r0, #0
 3251 0420 0400000A 		beq	.L305
2068:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     eErr = eDocParseErr_Base64Decode;
 3252              		.loc 1 2068 0
 3253 0424 C8109FE5 		ldr	r1, .L333
2069:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     /* break; */
 3254              		.loc 1 2069 0
 3255 0428 0340A0E3 		mov	r4, #3
2068:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     eErr = eDocParseErr_Base64Decode;
 3256              		.loc 1 2068 0
 3257 042c F0009FE5 		ldr	r0, .L333+48
 3258 0430 FEFFFFEB 		bl	vLoggingPrintf
 3259              	.LVL374:
 3260 0434 A7FFFFEA 		b	.L289
 3261              	.LVL375:
 3262              	.L305:
2074:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_LOG_L1( "[%s] Extracted parameter [ %s: %.3
 3263              		.loc 1 2074 0
 3264 0438 28309DE5 		ldr	r3, [sp, #40]
2075:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 OTA_METHOD_NAME,
 3265              		.loc 1 2075 0
 3266 043c 0A2099E7 		ldr	r2, [r9, r10]
 3267 0440 AC109FE5 		ldr	r1, .L333
2074:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_LOG_L1( "[%s] Extracted parameter [ %s: %.3
 3268              		.loc 1 2074 0
 3269 0444 B030CBE1 		strh	r3, [fp]	@ movhi
2075:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                 OTA_METHOD_NAME,
 3270              		.loc 1 2075 0
 3271 0448 043097E5 		ldr	r3, [r7, #4]
 3272 044c D4009FE5 		ldr	r0, .L333+52
 3273 0450 033086E0 		add	r3, r6, r3
 3274 0454 8FFFFFEA 		b	.L332
 3275              	.LVL376:
 3276              	.L304:
 3277              	.LBE93:
 3278              	.LBE98:
2087:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 3279              		.loc 1 2087 0
 3280 0458 060054E3 		cmp	r4, #6
 3281 045c 53FFFF1A 		bne	.L320
2089:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                         OTA_METHOD_NAME,
 3282              		.loc 1 2089 0
 3283 0460 0A2099E7 		ldr	r2, [r9, r10]
 3284 0464 88109FE5 		ldr	r1, .L333
 3285 0468 BC009FE5 		ldr	r0, .L333+56
 3286 046c FEFFFFEB 		bl	vLoggingPrintf
 3287              	.LVL377:
2092:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 3288              		.loc 1 2092 0
 3289 0470 0130A0E3 		mov	r3, #1
 3290 0474 0030C8E5 		strb	r3, [r8]
 3291 0478 4CFFFFEA 		b	.L320
 3292              	.LVL378:
 3293              	.L319:
 3294              	.LBB99:
2084:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             }
 3295              		.loc 1 2084 0
 3296 047c 0140A0E3 		mov	r4, #1
 3297 0480 94FFFFEA 		b	.L289
 3298              	.LVL379:
 3299              	.L311:
 3300              	.LBE99:
 3301              	.LBB100:
2124:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 3302              		.loc 1 2124 0
 3303 0484 3634A0E1 		lsr	r3, r6, r4
 3304 0488 010013E3 		tst	r3, #1
 3305 048c 0300000A 		beq	.L310
2126:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                     OTA_METHOD_NAME,
 3306              		.loc 1 2126 0
 3307 0490 042299E7 		ldr	r2, [r9, r4, lsl #4]
 3308 0494 0710A0E1 		mov	r1, r7
 3309 0498 0800A0E1 		mov	r0, r8
 3310 049c FEFFFFEB 		bl	vLoggingPrintf
 3311              	.LVL380:
 3312              	.L310:
2122:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 3313              		.loc 1 2122 0 discriminator 2
 3314 04a0 014084E2 		add	r4, r4, #1
 3315              	.LVL381:
 3316 04a4 A0FFFFEA 		b	.L309
 3317              	.LVL382:
 3318              	.L308:
 3319              	.LBE100:
2137:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
 3320              		.loc 1 2137 0
 3321 04a8 0420A0E1 		mov	r2, r4
 3322 04ac 40109FE5 		ldr	r1, .L333
 3323 04b0 78009FE5 		ldr	r0, .L333+60
 3324 04b4 FEFFFFEB 		bl	vLoggingPrintf
 3325              	.LVL383:
 3326 04b8 DDFEFFEA 		b	.L321
 3327              	.LVL384:
 3328              	.L286:
2148:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eErr = eDocParseErr_OutOfMemory;
 3329              		.loc 1 2148 0
 3330 04bc 30109FE5 		ldr	r1, .L333
 3331 04c0 6C009FE5 		ldr	r0, .L333+64
 3332              	.LVL385:
 3333 04c4 FEFFFFEB 		bl	vLoggingPrintf
 3334              	.LVL386:
 3335 04c8 D9FEFFEA 		b	.L321
 3336              	.LVL387:
 3337              	.L285:
 3338              	.LBE74:
2154:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eDocParseErr_TooManyTokens;
 3339              		.loc 1 2154 0
 3340 04cc 20109FE5 		ldr	r1, .L333
2155:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3341              		.loc 1 2155 0
 3342 04d0 0840A0E3 		mov	r4, #8
2154:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eDocParseErr_TooManyTokens;
 3343              		.loc 1 2154 0
 3344 04d4 5C009FE5 		ldr	r0, .L333+68
 3345              	.LVL388:
 3346 04d8 FEFFFFEB 		bl	vLoggingPrintf
 3347              	.LVL389:
 3348 04dc D4FEFFEA 		b	.L321
 3349              	.LVL390:
 3350              	.L284:
2160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eDocParseErr_NoTokens;
 3351              		.loc 1 2160 0
 3352 04e0 0C109FE5 		ldr	r1, .L333
2161:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 3353              		.loc 1 2161 0
 3354 04e4 0940A0E3 		mov	r4, #9
2160:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             eErr = eDocParseErr_NoTokens;
 3355              		.loc 1 2160 0
 3356 04e8 4C009FE5 		ldr	r0, .L333+72
 3357              	.LVL391:
 3358 04ec FEFFFFEB 		bl	vLoggingPrintf
 3359              	.LVL392:
2166:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 3360              		.loc 1 2166 0
 3361 04f0 CFFEFFEA 		b	.L321
 3362              	.L334:
 3363              		.align	2
 3364              	.L333:
 3365 04f4 00000000 		.word	.LANCHOR42
 3366 04f8 00000000 		.word	.LC44
 3367 04fc 32000000 		.word	.LC45
 3368 0500 65000000 		.word	.LC46
 3369 0504 90000000 		.word	.LC47
 3370 0508 70020000 		.word	.LC58
 3371 050c F8000000 		.word	.LC49
 3372 0510 B6000000 		.word	.LC48
 3373 0514 26020000 		.word	.LC56
 3374 0518 1E010000 		.word	.LC50
 3375 051c 46010000 		.word	.LC51
 3376 0520 8C010000 		.word	.LC52
 3377 0524 B2010000 		.word	.LC53
 3378 0528 D7010000 		.word	.LC54
 3379 052c 03020000 		.word	.LC55
 3380 0530 47020000 		.word	.LC57
 3381 0534 A9020000 		.word	.LC59
 3382 0538 CB020000 		.word	.LC60
 3383 053c EE020000 		.word	.LC61
 3384              		.cfi_endproc
 3385              	.LFE31:
 3387              		.section	.text.prvParseJobDoc,"ax",%progbits
 3388              		.align	2
 3389              		.syntax unified
 3390              		.arm
 3391              		.fpu neon
 3393              	prvParseJobDoc:
 3394              	.LFB33:
2234:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvParseJobDoc" );
 3395              		.loc 1 2234 0
 3396              		.cfi_startproc
 3397              		@ args = 0, pretend = 0, frame = 24
 3398              		@ frame_needed = 0, uses_anonymous_args = 0
 3399              	.LVL393:
 3400 0000 F0432DE9 		push	{r4, r5, r6, r7, r8, r9, lr}
 3401              		.cfi_def_cfa_offset 28
 3402              		.cfi_offset 4, -28
 3403              		.cfi_offset 5, -24
 3404              		.cfi_offset 6, -20
 3405              		.cfi_offset 7, -16
 3406              		.cfi_offset 8, -12
 3407              		.cfi_offset 9, -8
 3408              		.cfi_offset 14, -4
 3409 0004 1CD04DE2 		sub	sp, sp, #28
 3410              		.cfi_def_cfa_offset 56
 3411              	.LBB106:
 3412              	.LBB107:
1776:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3413              		.loc 1 1776 0
 3414 0008 84429FE5 		ldr	r4, .L370
 3415 000c 485094E5 		ldr	r5, [r4, #72]
 3416 0010 000055E3 		cmp	r5, #0
 3417 0014 5C00000A 		beq	.L336
 3418              	.LVL394:
 3419              	.LBE107:
 3420              	.LBE106:
2269:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         eErr = eOTA_JobParseErr_NoContextAvailable;
 3421              		.loc 1 2269 0
 3422 0018 78129FE5 		ldr	r1, .L370+4
 3423              	.LVL395:
 3424 001c 78029FE5 		ldr	r0, .L370+8
 3425              	.LVL396:
 3426 0020 FEFFFFEB 		bl	vLoggingPrintf
 3427              	.LVL397:
2405:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 3428              		.loc 1 2405 0
 3429 0024 70029FE5 		ldr	r0, .L370+8
 3430 0028 68129FE5 		ldr	r1, .L370+4
 3431 002c FEFFFFEB 		bl	vLoggingPrintf
 3432              	.LVL398:
 3433 0030 0000A0E3 		mov	r0, #0
 3434              	.LVL399:
 3435              	.L356:
2432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 3436              		.loc 1 2432 0
 3437 0034 FEFFFFEB 		bl	prvOTA_Close
 3438              	.LVL400:
 3439 0038 0000A0E3 		mov	r0, #0
2436:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 3440              		.loc 1 2436 0
 3441 003c 4C0000EA 		b	.L335
 3442              	.LVL401:
 3443              	.L342:
 3444              	.LBB109:
2295:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 3445              		.loc 1 2295 0
 3446 0040 8C5094E5 		ldr	r5, [r4, #140]
 3447 0044 000055E3 		cmp	r5, #0
 3448 0048 1700000A 		beq	.L344
2297:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3449              		.loc 1 2297 0
 3450 004c 681094E5 		ldr	r1, [r4, #104]
 3451 0050 000051E3 		cmp	r1, #0
 3452 0054 0F00000A 		beq	.L345
2300:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 3453              		.loc 1 2300 0
 3454 0058 0500A0E1 		mov	r0, r5
 3455 005c FEFFFFEB 		bl	strcmp
 3456              	.LVL402:
 3457 0060 005050E2 		subs	r5, r0, #0
2302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithExistingJob;
 3458              		.loc 1 2302 0
 3459 0064 2C129FE5 		ldr	r1, .L370+4
2300:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 3460              		.loc 1 2300 0
 3461 0068 0300000A 		beq	.L346
2302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithExistingJob;
 3462              		.loc 1 2302 0
 3463 006c 2C029FE5 		ldr	r0, .L370+12
2303:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 3464              		.loc 1 2303 0
 3465 0070 0150A0E3 		mov	r5, #1
2302:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithExistingJob;
 3466              		.loc 1 2302 0
 3467 0074 FEFFFFEB 		bl	vLoggingPrintf
 3468              	.LVL403:
 3469 0078 6B0000EA 		b	.L343
 3470              	.LVL404:
 3471              	.L346:
2307:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         vPortFree( pxC->pucJobName );
 3472              		.loc 1 2307 0
 3473 007c 20029FE5 		ldr	r0, .L370+16
 3474 0080 FEFFFFEB 		bl	vLoggingPrintf
 3475              	.LVL405:
2308:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         pxC->pucJobName = NULL;
 3476              		.loc 1 2308 0
 3477 0084 680094E5 		ldr	r0, [r4, #104]
 3478 0088 FEFFFFEB 		bl	vPortFree
 3479              	.LVL406:
2309:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         eErr = eOTA_JobParseErr_BusyWithSameJob;
 3480              		.loc 1 2309 0
 3481 008c 685084E5 		str	r5, [r4, #104]
 3482              	.LVL407:
2310:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 3483              		.loc 1 2310 0
 3484 0090 0350A0E3 		mov	r5, #3
 3485 0094 640000EA 		b	.L343
 3486              	.LVL408:
 3487              	.L345:
2315:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eErr = eOTA_JobParseErr_NullJob;
 3488              		.loc 1 2315 0
 3489 0098 F8119FE5 		ldr	r1, .L370+4
2316:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 3490              		.loc 1 2316 0
 3491 009c 0250A0E3 		mov	r5, #2
2315:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     eErr = eOTA_JobParseErr_NullJob;
 3492              		.loc 1 2315 0
 3493 00a0 00029FE5 		ldr	r0, .L370+20
 3494 00a4 FEFFFFEB 		bl	vLoggingPrintf
 3495              	.LVL409:
 3496 00a8 5F0000EA 		b	.L343
 3497              	.LVL410:
 3498              	.L344:
2339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3499              		.loc 1 2339 0
 3500 00ac 8070D4E5 		ldrb	r7, [r4, #128]	@ zero_extendqisi2
 3501              	.LVL411:
2321:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
 3502              		.loc 1 2321 0
 3503 00b0 683094E5 		ldr	r3, [r4, #104]
2341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3504              		.loc 1 2341 0
 3505 00b4 DC119FE5 		ldr	r1, .L370+4
2339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3506              		.loc 1 2339 0
 3507 00b8 010057E3 		cmp	r7, #1
2322:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3508              		.loc 1 2322 0
 3509 00bc 685084E5 		str	r5, [r4, #104]
2321:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
 3510              		.loc 1 2321 0
 3511 00c0 8C3084E5 		str	r3, [r4, #140]
2339:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3512              		.loc 1 2339 0
 3513 00c4 2500001A 		bne	.L347
2341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3514              		.loc 1 2341 0
 3515 00c8 DC019FE5 		ldr	r0, .L370+24
 3516 00cc FEFFFFEB 		bl	vLoggingPrintf
 3517              	.LVL412:
2343:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 3518              		.loc 1 2343 0
 3519 00d0 D8319FE5 		ldr	r3, .L370+28
 3520 00d4 7C2094E5 		ldr	r2, [r4, #124]
 3521 00d8 003093E5 		ldr	r3, [r3]
 3522 00dc 030052E1 		cmp	r2, r3
 3523 00e0 0400002A 		bcs	.L348
2350:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 3524              		.loc 1 2350 0
 3525 00e4 0510A0E1 		mov	r1, r5
 3526 00e8 0700A0E1 		mov	r0, r7
 3527 00ec FEFFFFEB 		bl	prvSetImageStateWithReason
 3528              	.LVL413:
 3529              	.L358:
 3530              	.LBE109:
 3531 00f0 BC019FE5 		ldr	r0, .L370+32
 3532 00f4 CEFFFFEA 		b	.L356
 3533              	.LVL414:
 3534              	.L348:
 3535              	.LBB112:
2354:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 3536              		.loc 1 2354 0
 3537 00f8 0700009A 		bls	.L350
2357:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             ( void ) prvSetImageStateWithReason( eOTA_ImageState_Rejected, kOTA_Err
 3538              		.loc 1 2357 0
 3539 00fc 94119FE5 		ldr	r1, .L370+4
 3540 0100 B0019FE5 		ldr	r0, .L370+36
 3541 0104 FEFFFFEB 		bl	vLoggingPrintf
 3542              	.LVL415:
2358:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
 3543              		.loc 1 2358 0
 3544 0108 2214A0E3 		mov	r1, #570425344
 3545              	.L369:
2369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 3546              		.loc 1 2369 0
 3547 010c 0300A0E3 		mov	r0, #3
 3548 0110 FEFFFFEB 		bl	prvSetImageStateWithReason
 3549              	.LVL416:
 3550              	.L351:
2378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     }
 3551              		.loc 1 2378 0
 3552 0114 FEFFFFEB 		bl	prvResetDevice
 3553              	.LVL417:
 3554 0118 F4FFFFEA 		b	.L358
 3555              	.L350:
2362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ( strtoul( ( const char * ) xOTA_Agent.pucClientTokenFromJob, NULL,
 3556              		.loc 1 2362 0
 3557 011c 900094E5 		ldr	r0, [r4, #144]
 3558 0120 000050E3 		cmp	r0, #0
 3559 0124 0400001A 		bne	.L352
 3560              	.L353:
2368:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ( void ) prvSetImageStateWithReason( eOTA_ImageState_Rejected, kOTA
 3561              		.loc 1 2368 0
 3562 0128 68119FE5 		ldr	r1, .L370+4
 3563 012c 88019FE5 		ldr	r0, .L370+40
 3564 0130 FEFFFFEB 		bl	vLoggingPrintf
 3565              	.LVL418:
2369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 3566              		.loc 1 2369 0
 3567 0134 2314A0E3 		mov	r1, #587202560
 3568 0138 F3FFFFEA 		b	.L369
 3569              	.L352:
2363:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 3570              		.loc 1 2363 0 discriminator 1
 3571 013c 0520A0E1 		mov	r2, r5
 3572 0140 0510A0E1 		mov	r1, r5
 3573 0144 FEFFFFEB 		bl	strtoul
 3574              	.LVL419:
2362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 ( strtoul( ( const char * ) xOTA_Agent.pucClientTokenFromJob, NULL,
 3575              		.loc 1 2362 0 discriminator 1
 3576 0148 000050E3 		cmp	r0, #0
 3577 014c F5FFFF0A 		beq	.L353
2373:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             }
 3578              		.loc 1 2373 0
 3579 0150 40119FE5 		ldr	r1, .L370+4
 3580 0154 64019FE5 		ldr	r0, .L370+44
 3581 0158 FEFFFFEB 		bl	vLoggingPrintf
 3582              	.LVL420:
 3583 015c ECFFFFEA 		b	.L351
 3584              	.L347:
2384:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxFinalFile = pxC;
 3585              		.loc 1 2384 0
 3586 0160 5C019FE5 		ldr	r0, .L370+48
 3587 0164 FEFFFFEB 		bl	vLoggingPrintf
 3588              	.LVL421:
 3589              	.LBE112:
2430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3590              		.loc 1 2430 0
 3591 0168 000056E3 		cmp	r6, #0
 3592              	.LBB113:
2384:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxFinalFile = pxC;
 3593              		.loc 1 2384 0
 3594 016c 40019FE5 		ldr	r0, .L370+32
 3595              	.LVL422:
 3596              	.LBE113:
2430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3597              		.loc 1 2430 0
 3598 0170 DEFFFF0A 		beq	.L358
 3599              	.LVL423:
 3600              	.L335:
2437:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3601              		.loc 1 2437 0
 3602 0174 1CD08DE2 		add	sp, sp, #28
 3603              		.cfi_remember_state
 3604              		.cfi_def_cfa_offset 28
 3605              		@ sp needed
 3606 0178 F083BDE8 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3607              	.LVL424:
 3608              	.L354:
 3609              		.cfi_restore_state
2424:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3610              		.loc 1 2424 0
 3611 017c 14119FE5 		ldr	r1, .L370+4
 3612 0180 40019FE5 		ldr	r0, .L370+52
 3613 0184 FEFFFFEB 		bl	vLoggingPrintf
 3614              	.LVL425:
 3615 0188 D8FFFFEA 		b	.L358
 3616              	.LVL426:
 3617              	.L336:
 3618              	.LBB114:
 3619              	.LBB108:
1783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxC = &xOTA_Agent.xOTA_Files[ ulIndex ];
 3620              		.loc 1 1783 0
 3621 018c 486084E2 		add	r6, r4, #72
 3622 0190 3C90A0E3 		mov	r9, #60
 3623 0194 0920A0E1 		mov	r2, r9
 3624 0198 0070A0E1 		mov	r7, r0
 3625 019c 0180A0E1 		mov	r8, r1
 3626 01a0 0600A0E1 		mov	r0, r6
 3627              	.LVL427:
 3628 01a4 0510A0E1 		mov	r1, r5
 3629              	.LVL428:
 3630 01a8 FEFFFFEB 		bl	memset
 3631              	.LVL429:
 3632              	.LBE108:
 3633              	.LBE114:
 3634              	.LBB115:
 3635              	.LBB110:
 3636              	.LBB111:
2207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulParamsReceivedBitmap = 0;
 3637              		.loc 1 2207 0
 3638 01ac 1030A0E3 		mov	r3, #16
2206:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->usNumModelParams = usNumJobParams;
 3639              		.loc 1 2206 0
 3640 01b0 14219FE5 		ldr	r2, .L370+56
2207:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulParamsReceivedBitmap = 0;
 3641              		.loc 1 2207 0
 3642 01b4 BC30CDE1 		strh	r3, [sp, #12]	@ movhi
2209:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3643              		.loc 1 2209 0
 3644 01b8 0510A0E1 		mov	r1, r5
2212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 3645              		.loc 1 2212 0
 3646 01bc 0530A0E1 		mov	r3, r5
2205:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->pxBodyDef = pxBodyDef;
 3647              		.loc 1 2205 0
 3648 01c0 40028DE8 		stm	sp, {r6, r9}
2206:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->usNumModelParams = usNumJobParams;
 3649              		.loc 1 2206 0
 3650 01c4 08208DE5 		str	r2, [sp, #8]
2208:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxDocModel->ulParamsRequiredBitmap = 0;
 3651              		.loc 1 2208 0
 3652 01c8 10508DE5 		str	r5, [sp, #16]
2209:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3653              		.loc 1 2209 0
 3654 01cc 14508DE5 		str	r5, [sp, #20]
 3655              	.LVL430:
 3656              	.L339:
2214:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 3657              		.loc 1 2214 0
 3658 01d0 030282E0 		add	r0, r2, r3, lsl #4
 3659 01d4 0400D0E5 		ldrb	r0, [r0, #4]	@ zero_extendqisi2
 3660 01d8 010050E3 		cmp	r0, #1
2217:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3661              		.loc 1 2217 0
 3662 01dc 10138101 		orreq	r1, r1, r0, lsl r3
2212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 3663              		.loc 1 2212 0
 3664 01e0 013083E2 		add	r3, r3, #1
 3665              	.LVL431:
2217:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3666              		.loc 1 2217 0
 3667 01e4 0050A001 		moveq	r5, r0
2212:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 3668              		.loc 1 2212 0
 3669 01e8 100053E3 		cmp	r3, #16
 3670 01ec F7FFFF1A 		bne	.L339
 3671 01f0 000055E3 		cmp	r5, #0
 3672              	.LBE111:
 3673              	.LBE110:
2284:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {   /* Validate the job document parameters. */
 3674              		.loc 1 2284 0
 3675 01f4 0D20A0E1 		mov	r2, sp
 3676 01f8 14108D15 		strne	r1, [sp, #20]
 3677              	.LVL432:
 3678 01fc 0700A0E1 		mov	r0, r7
 3679 0200 0810A0E1 		mov	r1, r8
 3680 0204 FEFFFFEB 		bl	prvParseJSONbyModel
 3681              	.LVL433:
 3682 0208 000050E3 		cmp	r0, #0
 3683 020c 1E00001A 		bne	.L341
 3684              	.LVL434:
2288:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 3685              		.loc 1 2288 0
 3686 0210 543094E5 		ldr	r3, [r4, #84]
 3687 0214 000053E3 		cmp	r3, #0
 3688 0218 88FFFF1A 		bne	.L342
2291:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3689              		.loc 1 2291 0
 3690 021c 0450A0E3 		mov	r5, #4
2290:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 eErr = eOTA_JobParseErr_ZeroFileSize;
 3691              		.loc 1 2290 0
 3692 0220 70109FE5 		ldr	r1, .L370+4
 3693 0224 A4009FE5 		ldr	r0, .L370+60
 3694 0228 FEFFFFEB 		bl	vLoggingPrintf
 3695              	.LVL435:
 3696              	.L343:
2390:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3697              		.loc 1 2390 0
 3698 022c 0520A0E1 		mov	r2, r5
 3699 0230 60109FE5 		ldr	r1, .L370+4
 3700 0234 98009FE5 		ldr	r0, .L370+64
 3701 0238 FEFFFFEB 		bl	vLoggingPrintf
 3702              	.LVL436:
 3703              	.L355:
 3704              	.LBE115:
2411:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 3705              		.loc 1 2411 0
 3706 023c 683094E5 		ldr	r3, [r4, #104]
 3707 0240 000053E3 		cmp	r3, #0
 3708 0244 CCFFFF0A 		beq	.L354
2413:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Assume control of the job name from the context. */
 3709              		.loc 1 2413 0
 3710 0248 0520A0E1 		mov	r2, r5
 3711 024c 44109FE5 		ldr	r1, .L370+4
 3712 0250 80009FE5 		ldr	r0, .L370+68
2416:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvUpdateJobStatus( NULL, eJobStatus_FailedWithVal, ( int32_t ) kOTA_Err_JobParserE
 3713              		.loc 1 2416 0
 3714 0254 0060A0E3 		mov	r6, #0
2413:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* Assume control of the job name from the context. */
 3715              		.loc 1 2413 0
 3716 0258 FEFFFFEB 		bl	vLoggingPrintf
 3717              	.LVL437:
2415:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
 3718              		.loc 1 2415 0
 3719 025c 683094E5 		ldr	r3, [r4, #104]
2417:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* We don't need the job name memory anymore since we're done with this job. */
 3720              		.loc 1 2417 0
 3721 0260 0923A0E3 		mov	r2, #603979776
 3722 0264 0410A0E3 		mov	r1, #4
 3723 0268 0600A0E1 		mov	r0, r6
2416:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvUpdateJobStatus( NULL, eJobStatus_FailedWithVal, ( int32_t ) kOTA_Err_JobParserE
 3724              		.loc 1 2416 0
 3725 026c 686084E5 		str	r6, [r4, #104]
2415:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 pxC->pucJobName = NULL;
 3726              		.loc 1 2415 0
 3727 0270 8C3084E5 		str	r3, [r4, #140]
2417:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 /* We don't need the job name memory anymore since we're done with this job. */
 3728              		.loc 1 2417 0
 3729 0274 0530A0E1 		mov	r3, r5
 3730 0278 FEFFFFEB 		bl	prvUpdateJobStatus
 3731              	.LVL438:
2419:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 3732              		.loc 1 2419 0
 3733 027c 8C0094E5 		ldr	r0, [r4, #140]
 3734 0280 FEFFFFEB 		bl	vPortFree
 3735              	.LVL439:
2420:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             }
 3736              		.loc 1 2420 0
 3737 0284 8C6084E5 		str	r6, [r4, #140]
 3738 0288 98FFFFEA 		b	.L358
 3739              	.LVL440:
 3740              	.L341:
 3741              	.LBB116:
2395:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 3742              		.loc 1 2395 0
 3743 028c 0550A0E3 		mov	r5, #5
 3744 0290 E9FFFFEA 		b	.L355
 3745              	.L371:
 3746              		.align	2
 3747              	.L370:
 3748 0294 00000000 		.word	.LANCHOR0
 3749 0298 00000000 		.word	.LANCHOR43
 3750 029c 00000000 		.word	.LC62
 3751 02a0 4E000000 		.word	.LC64
 3752 02a4 77000000 		.word	.LC65
 3753 02a8 A1000000 		.word	.LC66
 3754 02ac D0000000 		.word	.LC67
 3755 02b0 00000000 		.word	xAppFirmwareVersion
 3756 02b4 48000000 		.word	.LANCHOR0+72
 3757 02b8 EA000000 		.word	.LC68
 3758 02bc 29010000 		.word	.LC69
 3759 02c0 6C010000 		.word	.LC70
 3760 02c4 A0010000 		.word	.LC71
 3761 02c8 08020000 		.word	.LC73
 3762 02cc 00000000 		.word	.LANCHOR44
 3763 02d0 28000000 		.word	.LC63
 3764 02d4 28020000 		.word	.LC74
 3765 02d8 D7010000 		.word	.LC72
 3766              	.LBE116:
 3767              		.cfi_endproc
 3768              	.LFE33:
 3770              		.section	.text.prvOTAUpdateTask,"ax",%progbits
 3771              		.align	2
 3772              		.syntax unified
 3773              		.arm
 3774              		.fpu neon
 3776              	prvOTAUpdateTask:
 3777              	.LFB20:
1314:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     DEFINE_OTA_METHOD_NAME( "prvOTAUpdateTask" );
 3778              		.loc 1 1314 0
 3779              		.cfi_startproc
 3780              		@ args = 0, pretend = 0, frame = 312
 3781              		@ frame_needed = 0, uses_anonymous_args = 0
 3782              	.LVL441:
 3783 0000 F04F2DE9 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3784              		.cfi_def_cfa_offset 36
 3785              		.cfi_offset 4, -36
 3786              		.cfi_offset 5, -32
 3787              		.cfi_offset 6, -28
 3788              		.cfi_offset 7, -24
 3789              		.cfi_offset 8, -20
 3790              		.cfi_offset 9, -16
 3791              		.cfi_offset 10, -12
 3792              		.cfi_offset 11, -8
 3793              		.cfi_offset 14, -4
 3794 0004 51DF4DE2 		sub	sp, sp, #324
 3795              		.cfi_def_cfa_offset 360
 3796              	.LBB135:
 3797              	.LBB136:
2723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              sizeof( cJobTopic ),
 3798              		.loc 1 2723 0
 3799 0008 A8469FE5 		ldr	r4, .L484
2718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.xQoS = eMQTTQoS1;
 3800              		.loc 1 2718 0
 3801 000c 1020A0E3 		mov	r2, #16
 3802 0010 0010A0E3 		mov	r1, #0
2719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pucTopic = ( const uint8_t * ) cJobTopic;                  /* Point to local 
 3803              		.loc 1 2719 0
 3804 0014 0170A0E3 		mov	r7, #1
2722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.usTopicLength = ( uint16_t ) snprintf( cJobTopic,          /*lint -e586 Inten
 3805              		.loc 1 2722 0
 3806 0018 9C569FE5 		ldr	r5, .L484+4
2720:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pvPublishCallbackContext = ( void * ) eOTA_PubMsgType_Job; /*lint !e923 The p
 3807              		.loc 1 2720 0
 3808 001c 40608DE2 		add	r6, sp, #64
2718:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.xQoS = eMQTTQoS1;
 3809              		.loc 1 2718 0
 3810 0020 24008DE2 		add	r0, sp, #36
 3811              	.LVL442:
 3812 0024 FEFFFFEB 		bl	memset
 3813              	.LVL443:
2723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              sizeof( cJobTopic ),
 3814              		.loc 1 2723 0
 3815 0028 073084E0 		add	r3, r4, r7
 3816 002c 8C269FE5 		ldr	r2, .L484+8
 3817 0030 011CA0E3 		mov	r1, #256
 3818 0034 0600A0E1 		mov	r0, r6
2719:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pucTopic = ( const uint8_t * ) cJobTopic;                  /* Point to local 
 3819              		.loc 1 2719 0
 3820 0038 2A70CDE5 		strb	r7, [sp, #42]
2720:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.pvPublishCallbackContext = ( void * ) eOTA_PubMsgType_Job; /*lint !e923 The p
 3821              		.loc 1 2720 0
 3822 003c 24608DE5 		str	r6, [sp, #36]
2722:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xJobsSubscription.usTopicLength = ( uint16_t ) snprintf( cJobTopic,          /*lint -e586 Inten
 3823              		.loc 1 2722 0
 3824 0040 30508DE5 		str	r5, [sp, #48]
2723:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                              sizeof( cJobTopic ),
 3825              		.loc 1 2723 0
 3826 0044 FEFFFFEB 		bl	snprintf
 3827              	.LVL444:
 3828 0048 7000FFE6 		uxth	r0, r0
 3829 004c 08508DE5 		str	r5, [sp, #8]
 3830 0050 B802CDE1 		strh	r0, [sp, #40]	@ movhi
2728:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3831              		.loc 1 2728 0
 3832 0054 010040E2 		sub	r0, r0, #1
 3833 0058 FE0050E3 		cmp	r0, #254
 3834 005c 0900008A 		bhi	.L377
2731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                   &xJobsSubscription,
 3835              		.loc 1 2731 0
 3836 0060 302507E3 		movw	r2, #30000
 3837 0064 24108DE2 		add	r1, sp, #36
 3838 0068 440094E5 		ldr	r0, [r4, #68]
 3839 006c FEFFFFEB 		bl	MQTT_AGENT_Subscribe
 3840              	.LVL445:
 3841 0070 000050E3 		cmp	r0, #0
2735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 3842              		.loc 1 2735 0
 3843 0074 24209DE5 		ldr	r2, [sp, #36]
 3844 0078 44169FE5 		ldr	r1, .L484+12
2731:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                   &xJobsSubscription,
 3845              		.loc 1 2731 0
 3846 007c 0900000A 		beq	.L374
 3847              	.L483:
2752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 3848              		.loc 1 2752 0
 3849 0080 40069FE5 		ldr	r0, .L484+16
 3850 0084 FEFFFFEB 		bl	vLoggingPrintf
 3851              	.LVL446:
 3852              	.L377:
 3853              	.LBE136:
 3854              	.LBE135:
1546:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3855              		.loc 1 1546 0
 3856 0088 B420A0E3 		mov	r2, #180
 3857 008c 0010A0E3 		mov	r1, #0
 3858 0090 20069FE5 		ldr	r0, .L484
 3859 0094 FEFFFFEB 		bl	memset
 3860              	.LVL447:
1552:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** }
 3861              		.loc 1 1552 0
 3862 0098 0000A0E3 		mov	r0, #0
 3863 009c FEFFFFEB 		bl	vTaskDelete
 3864              	.LVL448:
1553:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3865              		.loc 1 1553 0
 3866 00a0 51DF8DE2 		add	sp, sp, #324
 3867              		.cfi_remember_state
 3868              		.cfi_def_cfa_offset 36
 3869              		@ sp needed
 3870 00a4 F08FBDE8 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3871              	.LVL449:
 3872              	.L374:
 3873              		.cfi_restore_state
 3874              	.LBB138:
 3875              	.LBB137:
2739:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xJobsSubscription.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intent
 3876              		.loc 1 2739 0
 3877 00a8 1C069FE5 		ldr	r0, .L484+20
 3878 00ac FEFFFFEB 		bl	vLoggingPrintf
 3879              	.LVL450:
2740:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                      sizeof( cJobTopic ),
 3880              		.loc 1 2740 0
 3881 00b0 013084E2 		add	r3, r4, #1
 3882 00b4 14269FE5 		ldr	r2, .L484+24
 3883 00b8 011CA0E3 		mov	r1, #256
 3884 00bc 0600A0E1 		mov	r0, r6
 3885 00c0 FEFFFFEB 		bl	snprintf
 3886              	.LVL451:
 3887 00c4 7000FFE6 		uxth	r0, r0
 3888 00c8 B802CDE1 		strh	r0, [sp, #40]	@ movhi
2745:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 3889              		.loc 1 2745 0
 3890 00cc 010040E2 		sub	r0, r0, #1
 3891 00d0 FE0050E3 		cmp	r0, #254
 3892 00d4 EBFFFF8A 		bhi	.L377
2748:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           &xJobsSubscription,
 3893              		.loc 1 2748 0
 3894 00d8 302507E3 		movw	r2, #30000
 3895 00dc 24108DE2 		add	r1, sp, #36
 3896 00e0 440094E5 		ldr	r0, [r4, #68]
 3897 00e4 0450A0E1 		mov	r5, r4
 3898 00e8 FEFFFFEB 		bl	MQTT_AGENT_Subscribe
 3899              	.LVL452:
 3900 00ec 004050E2 		subs	r4, r0, #0
2752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 3901              		.loc 1 2752 0
 3902 00f0 24209DE5 		ldr	r2, [sp, #36]
 3903 00f4 C8159FE5 		ldr	r1, .L484+12
2748:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                           &xJobsSubscription,
 3904              		.loc 1 2748 0
 3905 00f8 E0FFFF1A 		bne	.L483
2756:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xResult = pdTRUE;
 3906              		.loc 1 2756 0
 3907 00fc C8059FE5 		ldr	r0, .L484+20
 3908 0100 FEFFFFEB 		bl	vLoggingPrintf
 3909              	.LVL453:
 3910              	.LBE137:
 3911              	.LBE138:
1327:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3912              		.loc 1 1327 0
 3913 0104 FEFFFFEB 		bl	xEventGroupCreate
 3914              	.LVL454:
1329:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 3915              		.loc 1 1329 0
 3916 0108 000050E3 		cmp	r0, #0
1327:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3917              		.loc 1 1327 0
 3918 010c 840085E5 		str	r0, [r5, #132]
1329:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 3919              		.loc 1 1329 0
 3920 0110 DCFFFF0A 		beq	.L377
1332:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3921              		.loc 1 1332 0
 3922 0114 FEFFFFEB 		bl	OTA_CheckForSelfTest
 3923              	.LVL455:
 3924              	.LBB139:
 3925              	.LBB140:
 838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3926              		.loc 1 838 0
 3927 0118 FEFFFFEB 		bl	prvPAL_GetPlatformImageState
 3928              	.LVL456:
 3929 011c 010040E2 		sub	r0, r0, #1
 3930              	.LBE140:
 3931              	.LBE139:
1335:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3932              		.loc 1 1335 0
 3933 0120 AC859FE5 		ldr	r8, .L484+28
 3934              	.LBB143:
 3935              	.LBB141:
 838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3936              		.loc 1 838 0
 3937 0124 100F6FE1 		clz	r0, r0
 3938              	.LBE141:
 3939              	.LBE143:
 3940              	.LBB144:
1466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Call the platform specific code to reject the image.
 3941              		.loc 1 1466 0
 3942 0128 A8B59FE5 		ldr	fp, .L484+32
 3943              	.LBE144:
 3944              	.LBB145:
 3945              	.LBB142:
 838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3946              		.loc 1 838 0
 3947 012c A002A0E1 		lsr	r0, r0, #5
 3948 0130 0000C8E5 		strb	r0, [r8]
 3949              	.LBE142:
 3950              	.LBE145:
1338:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3951              		.loc 1 1338 0
 3952 0134 FEFFFFEB 		bl	OTA_CheckForUpdate
 3953              	.LVL457:
1341:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3954              		.loc 1 1341 0
 3955 0138 0070C5E5 		strb	r7, [r5]
1362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, kOTA_Err_UserAbor
 3956              		.loc 1 1362 0
 3957 013c 98759FE5 		ldr	r7, .L484+36
 3958 0140 0C808DE5 		str	r8, [sp, #12]
 3959              	.LVL458:
 3960              	.L378:
1345:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xOTA_Agent.xOTA_EventFlags, /* The event group being tested. */
 3961              		.loc 1 1345 0
 3962 0144 0030E0E3 		mvn	r3, #0
 3963 0148 0120A0E3 		mov	r2, #1
 3964 014c 00308DE5 		str	r3, [sp]
 3965 0150 0F10A0E3 		mov	r1, #15
 3966 0154 0030A0E3 		mov	r3, #0
 3967 0158 840095E5 		ldr	r0, [r5, #132]
 3968 015c FEFFFFEB 		bl	xEventGroupWaitBits
 3969              	.LVL459:
1353:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3970              		.loc 1 1353 0
 3971 0160 029010E2 		ands	r9, r0, #2
1345:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     xOTA_Agent.xOTA_EventFlags, /* The event group being tested. */
 3972              		.loc 1 1345 0
 3973 0164 0080A0E1 		mov	r8, r0
 3974              	.LVL460:
1353:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 3975              		.loc 1 1353 0
 3976 0168 6700000A 		beq	.L379
1355:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     break; /* Break, so we stop all OTA processing. */
 3977              		.loc 1 1355 0
 3978 016c 68159FE5 		ldr	r1, .L484+36
 3979 0170 68059FE5 		ldr	r0, .L484+40
 3980              	.LVL461:
 3981 0174 FEFFFFEB 		bl	vLoggingPrintf
 3982              	.LVL462:
 3983              	.LBB146:
 3984              	.LBB147:
 732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3985              		.loc 1 732 0
 3986 0178 940095E5 		ldr	r0, [r5, #148]
 729:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 3987              		.loc 1 729 0
 3988 017c 0310A0E3 		mov	r1, #3
 3989 0180 0010C5E5 		strb	r1, [r5]
 732:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 3990              		.loc 1 732 0
 3991 0184 000050E3 		cmp	r0, #0
 3992 0188 0B00000A 		beq	.L380
 734:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ( void ) xTimerDelete( xOTA_Agent.xSelfTestTimer, 0 );
 3993              		.loc 1 734 0
 3994 018c 0040A0E3 		mov	r4, #0
 3995              	.LVL463:
 3996 0190 0430A0E1 		mov	r3, r4
 3997 0194 0420A0E1 		mov	r2, r4
 3998 0198 00408DE5 		str	r4, [sp]
 3999 019c FEFFFFEB 		bl	xTimerGenericCommand
 4000              	.LVL464:
 735:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.xSelfTestTimer = NULL;
 4001              		.loc 1 735 0
 4002 01a0 00408DE5 		str	r4, [sp]
 4003 01a4 0430A0E1 		mov	r3, r4
 4004 01a8 0420A0E1 		mov	r2, r4
 4005 01ac 0510A0E3 		mov	r1, #5
 4006 01b0 940095E5 		ldr	r0, [r5, #148]
 4007 01b4 FEFFFFEB 		bl	xTimerGenericCommand
 4008              	.LVL465:
 736:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 4009              		.loc 1 736 0
 4010 01b8 944085E5 		str	r4, [r5, #148]
 4011              	.L380:
 4012              	.LBB148:
 4013              	.LBB149:
2862:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xUnSub.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intentionally using snpri
 4014              		.loc 1 2862 0
 4015 01bc 054D8DE2 		add	r4, sp, #320
2863:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   sizeof( cJobTopic ),
 4016              		.loc 1 2863 0
 4017 01c0 1C359FE5 		ldr	r3, .L484+44
 4018 01c4 04259FE5 		ldr	r2, .L484+24
 4019 01c8 011CA0E3 		mov	r1, #256
 4020 01cc 0600A0E1 		mov	r0, r6
2862:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xUnSub.usTopicLength = ( uint16_t ) snprintf( cJobTopic, /*lint -e586 Intentionally using snpri
 4021              		.loc 1 2862 0
 4022 01d0 2C6124E5 		str	r6, [r4, #-300]!
2863:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   sizeof( cJobTopic ),
 4023              		.loc 1 2863 0
 4024 01d4 FEFFFFEB 		bl	snprintf
 4025              	.LVL466:
 4026 01d8 7000FFE6 		uxth	r0, r0
 4027 01dc B400C4E1 		strh	r0, [r4, #4]	@ movhi
2868:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4028              		.loc 1 2868 0
 4029 01e0 010040E2 		sub	r0, r0, #1
 4030 01e4 FE0050E3 		cmp	r0, #254
 4031 01e8 0900008A 		bhi	.L381
2870:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4032              		.loc 1 2870 0
 4033 01ec FA2FA0E3 		mov	r2, #1000
 4034 01f0 0410A0E1 		mov	r1, r4
 4035 01f4 440095E5 		ldr	r0, [r5, #68]
 4036 01f8 FEFFFFEB 		bl	MQTT_AGENT_Unsubscribe
 4037              	.LVL467:
 4038 01fc 000050E3 		cmp	r0, #0
2872:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4039              		.loc 1 2872 0
 4040 0200 14209DE5 		ldr	r2, [sp, #20]
 4041 0204 DC149FE5 		ldr	r1, .L484+48
 4042 0208 DC049F15 		ldrne	r0, .L484+52
2876:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4043              		.loc 1 2876 0
 4044 020c B8049F05 		ldreq	r0, .L484+20
 4045 0210 FEFFFFEB 		bl	vLoggingPrintf
 4046              	.LVL468:
 4047              	.L381:
2881:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                   sizeof( cJobTopic ),
 4048              		.loc 1 2881 0
 4049 0214 C8349FE5 		ldr	r3, .L484+44
 4050 0218 011CA0E3 		mov	r1, #256
 4051 021c 9C249FE5 		ldr	r2, .L484+8
 4052 0220 0600A0E1 		mov	r0, r6
 4053 0224 FEFFFFEB 		bl	snprintf
 4054              	.LVL469:
 4055 0228 7000FFE6 		uxth	r0, r0
 4056 022c B400C4E1 		strh	r0, [r4, #4]	@ movhi
2886:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4057              		.loc 1 2886 0
 4058 0230 010040E2 		sub	r0, r0, #1
 4059 0234 FE0050E3 		cmp	r0, #254
 4060 0238 0900008A 		bhi	.L383
2888:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4061              		.loc 1 2888 0
 4062 023c FA2FA0E3 		mov	r2, #1000
 4063 0240 0410A0E1 		mov	r1, r4
 4064 0244 440095E5 		ldr	r0, [r5, #68]
 4065 0248 FEFFFFEB 		bl	MQTT_AGENT_Unsubscribe
 4066              	.LVL470:
 4067 024c 000050E3 		cmp	r0, #0
2890:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4068              		.loc 1 2890 0
 4069 0250 14209DE5 		ldr	r2, [sp, #20]
 4070 0254 8C149FE5 		ldr	r1, .L484+48
 4071 0258 8C049F15 		ldrne	r0, .L484+52
2894:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4072              		.loc 1 2894 0
 4073 025c 68049F05 		ldreq	r0, .L484+20
 4074 0260 FEFFFFEB 		bl	vLoggingPrintf
 4075              	.LVL471:
 4076              	.L383:
 4077              	.LBE149:
 4078              	.LBE148:
 745:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4079              		.loc 1 745 0
 4080 0264 84049FE5 		ldr	r0, .L484+56
 4081 0268 FEFFFFEB 		bl	prvOTA_Close
 4082              	.LVL472:
 4083 026c 002050E2 		subs	r2, r0, #0
 4084 0270 0200001A 		bne	.L385
 747:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4085              		.loc 1 747 0
 4086 0274 78149FE5 		ldr	r1, .L484+60
 4087 0278 78049FE5 		ldr	r0, .L484+64
 4088 027c FEFFFFEB 		bl	vLoggingPrintf
 4089              	.LVL473:
 4090              	.L385:
 752:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4091              		.loc 1 752 0
 4092 0280 8C0095E5 		ldr	r0, [r5, #140]
 4093 0284 000050E3 		cmp	r0, #0
 4094 0288 0200000A 		beq	.L386
 754:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 4095              		.loc 1 754 0
 4096 028c FEFFFFEB 		bl	vPortFree
 4097              	.LVL474:
 755:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 4098              		.loc 1 755 0
 4099 0290 0030A0E3 		mov	r3, #0
 4100 0294 8C3085E5 		str	r3, [r5, #140]
 4101              	.L386:
 761:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4102              		.loc 1 761 0
 4103 0298 0030A0E3 		mov	r3, #0
 4104 029c 38308DE5 		str	r3, [sp, #56]
 763:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4105              		.loc 1 763 0
 4106 02a0 9C3095E5 		ldr	r3, [r5, #156]
 4107 02a4 000053E3 		cmp	r3, #0
 4108 02a8 0E00001A 		bne	.L455
 783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4109              		.loc 1 783 0
 4110 02ac 40149FE5 		ldr	r1, .L484+60
 4111 02b0 44049FE5 		ldr	r0, .L484+68
 4112 02b4 090000EA 		b	.L480
 4113              	.L390:
 767:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4114              		.loc 1 767 0
 4115 02b8 AC3095E5 		ldr	r3, [r5, #172]
 770:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4116              		.loc 1 770 0
 4117 02bc 38109DE5 		ldr	r1, [sp, #56]
 4118 02c0 440095E5 		ldr	r0, [r5, #68]
 767:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4119              		.loc 1 767 0
 4120 02c4 013083E2 		add	r3, r3, #1
 4121 02c8 AC3085E5 		str	r3, [r5, #172]
 770:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4122              		.loc 1 770 0
 4123 02cc FEFFFFEB 		bl	MQTT_AGENT_ReturnBuffer
 4124              	.LVL475:
 4125 02d0 000050E3 		cmp	r0, #0
 4126 02d4 0300000A 		beq	.L455
 776:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     break;
 4127              		.loc 1 776 0
 4128 02d8 14149FE5 		ldr	r1, .L484+60
 4129 02dc 1C049FE5 		ldr	r0, .L484+72
 4130              	.L480:
 783:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4131              		.loc 1 783 0
 4132 02e0 FEFFFFEB 		bl	vLoggingPrintf
 4133              	.LVL476:
 4134 02e4 050000EA 		b	.L389
 4135              	.L455:
 765:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             {
 4136              		.loc 1 765 0
 4137 02e8 0020A0E3 		mov	r2, #0
 4138 02ec 24108DE2 		add	r1, sp, #36
 4139              	.LVL477:
 4140 02f0 9C0095E5 		ldr	r0, [r5, #156]
 4141 02f4 FEFFFFEB 		bl	xQueueReceive
 4142              	.LVL478:
 4143 02f8 000050E3 		cmp	r0, #0
 4144 02fc EDFFFF1A 		bne	.L390
 4145              	.L389:
 4146              	.LVL479:
 4147              	.LBE147:
 4148              	.LBE146:
1541:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4149              		.loc 1 1541 0
 4150 0300 840095E5 		ldr	r0, [r5, #132]
 4151 0304 FEFFFFEB 		bl	vEventGroupDelete
 4152              	.LVL480:
 4153 0308 5EFFFFEA 		b	.L377
 4154              	.LVL481:
 4155              	.L379:
1360:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4156              		.loc 1 1360 0
 4157 030c 080010E3 		tst	r0, #8
 4158 0310 0A00000A 		beq	.L391
1360:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4159              		.loc 1 1360 0 is_stmt 0 discriminator 1
 4160 0314 000054E3 		cmp	r4, #0
 4161 0318 0800000A 		beq	.L391
1362:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvSetImageStateWithReason( eOTA_ImageState_Aborted, kOTA_Err_UserAbor
 4162              		.loc 1 1362 0 is_stmt 1
 4163 031c 0710A0E1 		mov	r1, r7
 4164 0320 DC039FE5 		ldr	r0, .L484+76
 4165              	.LVL482:
 4166 0324 FEFFFFEB 		bl	vLoggingPrintf
 4167              	.LVL483:
1363:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvOTA_Close( pxC ); /* Ignore false result since we're setting the po
 4168              		.loc 1 1363 0
 4169 0328 0A13A0E3 		mov	r1, #671088640
 4170 032c 0400A0E3 		mov	r0, #4
 4171 0330 FEFFFFEB 		bl	prvSetImageStateWithReason
 4172              	.LVL484:
1364:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxC = NULL;
 4173              		.loc 1 1364 0
 4174 0334 0400A0E1 		mov	r0, r4
1365:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 4175              		.loc 1 1365 0
 4176 0338 0940A0E1 		mov	r4, r9
 4177              	.LVL485:
1364:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     pxC = NULL;
 4178              		.loc 1 1364 0
 4179 033c FEFFFFEB 		bl	prvOTA_Close
 4180              	.LVL486:
 4181              	.L391:
1369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4182              		.loc 1 1369 0
 4183 0340 040018E3 		tst	r8, #4
 4184 0344 0D00000A 		beq	.L392
1369:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4185              		.loc 1 1369 0 is_stmt 0 discriminator 1
 4186 0348 000054E3 		cmp	r4, #0
 4187 034c 0B00000A 		beq	.L392
1371:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 4188              		.loc 1 1371 0 is_stmt 1
 4189 0350 103094E5 		ldr	r3, [r4, #16]
 4190 0354 000053E3 		cmp	r3, #0
 4191 0358 0800000A 		beq	.L392
1373:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4192              		.loc 1 1373 0
 4193 035c 0400A0E1 		mov	r0, r4
 4194 0360 FEFFFFEB 		bl	prvPublishGetStreamMessage
 4195              	.LVL487:
1375:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {                                 /* Abort the current OTA. */
 4196              		.loc 1 1375 0
 4197 0364 001050E2 		subs	r1, r0, #0
 4198 0368 0400000A 		beq	.L392
1377:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             ( void ) prvOTA_Close( pxC ); /* Ignore false result since we're settin
 4199              		.loc 1 1377 0
 4200 036c 0400A0E3 		mov	r0, #4
 4201              	.LVL488:
 4202 0370 FEFFFFEB 		bl	prvSetImageStateWithReason
 4203              	.LVL489:
1378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             pxC = NULL;
 4204              		.loc 1 1378 0
 4205 0374 0400A0E1 		mov	r0, r4
1379:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         }
 4206              		.loc 1 1379 0
 4207 0378 0040A0E3 		mov	r4, #0
 4208              	.LVL490:
1378:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             pxC = NULL;
 4209              		.loc 1 1378 0
 4210 037c FEFFFFEB 		bl	prvOTA_Close
 4211              	.LVL491:
 4212              	.L392:
1391:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4213              		.loc 1 1391 0
 4214 0380 010018E3 		tst	r8, #1
 4215 0384 C700000A 		beq	.L393
1393:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4216              		.loc 1 1393 0
 4217 0388 0030A0E3 		mov	r3, #0
 4218 038c 38308DE5 		str	r3, [sp, #56]
1395:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     {
 4219              		.loc 1 1395 0
 4220 0390 0030D5E5 		ldrb	r3, [r5]	@ zero_extendqisi2
 4221 0394 013043E2 		sub	r3, r3, #1
 4222 0398 010053E3 		cmp	r3, #1
 4223 039c C100008A 		bhi	.L393
 4224              	.LVL492:
 4225              	.L394:
1397:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                         {
 4226              		.loc 1 1397 0
 4227 03a0 0020A0E3 		mov	r2, #0
 4228 03a4 24108DE2 		add	r1, sp, #36
 4229 03a8 9C0095E5 		ldr	r0, [r5, #156]
 4230 03ac FEFFFFEB 		bl	xQueueReceive
 4231              	.LVL493:
 4232 03b0 000050E3 		cmp	r0, #0
 4233 03b4 BB00000A 		beq	.L393
1400:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 4234              		.loc 1 1400 0
 4235 03b8 3CA0DDE5 		ldrb	r10, [sp, #60]	@ zero_extendqisi2
 4236 03bc 00005AE3 		cmp	r10, #0
 4237 03c0 4100001A 		bne	.L395
1402:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 4238              		.loc 1 1402 0
 4239 03c4 000054E3 		cmp	r4, #0
 4240 03c8 0400000A 		beq	.L396
1404:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     ( void ) prvOTA_Close( pxC ); /* Abort the existing OTA and ign
 4241              		.loc 1 1404 0
 4242 03cc 0A13A0E3 		mov	r1, #671088640
 4243 03d0 0400A0E3 		mov	r0, #4
 4244 03d4 FEFFFFEB 		bl	prvSetImageStateWithReason
 4245              	.LVL494:
1405:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 4246              		.loc 1 1405 0
 4247 03d8 0400A0E1 		mov	r0, r4
 4248 03dc FEFFFFEB 		bl	prvOTA_Close
 4249              	.LVL495:
 4250              	.L396:
 4251              	.LBB150:
 4252              	.LBB151:
2457:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4253              		.loc 1 2457 0
 4254 03e0 34109DE5 		ldr	r1, [sp, #52]
 4255 03e4 30009DE5 		ldr	r0, [sp, #48]
 4256 03e8 FEFFFFEB 		bl	prvParseJobDoc
 4257              	.LVL496:
2459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4258              		.loc 1 2459 0
 4259 03ec 004050E2 		subs	r4, r0, #0
 4260              	.LVL497:
 4261 03f0 9B00000A 		beq	.L397
 4262              	.LVL498:
 4263              	.LBB152:
 4264              	.LBB153:
 838:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4265              		.loc 1 838 0
 4266 03f4 FEFFFFEB 		bl	prvPAL_GetPlatformImageState
 4267              	.LVL499:
 4268 03f8 010050E3 		cmp	r0, #1
 4269 03fc 6600001A 		bne	.L475
 4270              	.LVL500:
 4271              	.L398:
 4272              	.LBE153:
 4273              	.LBE152:
 4274              	.LBE151:
 4275              	.LBE150:
1438:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 }
 4276              		.loc 1 1438 0
 4277 0400 0230A0E3 		mov	r3, #2
 4278 0404 0030C5E5 		strb	r3, [r5]
 4279 0408 990000EA 		b	.L407
 4280              	.LVL501:
 4281              	.L402:
 4282              	.LBB164:
 4283              	.LBB162:
 4284              	.LBB154:
 4285              	.LBB155:
2796:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             xResult = pdTRUE;
 4286              		.loc 1 2796 0
 4287 040c B8029FE5 		ldr	r0, .L484+20
 4288 0410 FEFFFFEB 		bl	vLoggingPrintf
 4289              	.LVL502:
 4290              	.LBE155:
 4291              	.LBE154:
 4292              	.LBB158:
2479:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4293              		.loc 1 2479 0
 4294 0414 0920A0E1 		mov	r2, r9
 4295 0418 FF10A0E3 		mov	r1, #255
 4296 041c 2C0094E5 		ldr	r0, [r4, #44]
 4297 0420 FEFFFFEB 		bl	memset
 4298              	.LVL503:
2489:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4299              		.loc 1 2489 0
 4300 0424 891168E0 		rsb	r1, r8, r9, lsl #3
 4301              	.LVL504:
2488:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 uint32_t ulNumOutOfRange = ( ulBitmapLen * BITS_PER_BYTE ) - ulNumBlocks;
 4302              		.loc 1 2488 0
 4303 0428 8030A0E3 		mov	r3, #128
2491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4304              		.loc 1 2491 0
 4305 042c 0A00A0E1 		mov	r0, r10
2493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ucBit >>= 1U;
 4306              		.loc 1 2493 0
 4307 0430 019049E2 		sub	r9, r9, #1
 4308              	.LVL505:
 4309              	.L404:
2491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4310              		.loc 1 2491 0
 4311 0434 000051E1 		cmp	r1, r0
 4312 0438 0D00001A 		bne	.L405
2498:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4313              		.loc 1 2498 0
 4314 043c 0400A0E1 		mov	r0, r4
 4315              	.LVL506:
2497:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 prvStartRequestTimer( pxUpdateFile );
 4316              		.loc 1 2497 0
 4317 0440 108084E5 		str	r8, [r4, #16]
2498:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4318              		.loc 1 2498 0
 4319 0444 FEFFFFEB 		bl	prvStartRequestTimer
 4320              	.LVL507:
2501:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4321              		.loc 1 2501 0
 4322 0448 0400A0E1 		mov	r0, r4
 4323 044c FEFFFFEB 		bl	prvPAL_CreateFileForRx
 4324              	.LVL508:
2503:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4325              		.loc 1 2503 0
 4326 0450 001050E2 		subs	r1, r0, #0
 4327 0454 E9FFFF0A 		beq	.L398
2505:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ( void ) prvOTA_Close( pxUpdateFile ); /* Ignore false result since we're setti
 4328              		.loc 1 2505 0
 4329 0458 0400A0E3 		mov	r0, #4
 4330              	.LVL509:
 4331 045c FEFFFFEB 		bl	prvSetImageStateWithReason
 4332              	.LVL510:
 4333 0460 7D0000EA 		b	.L400
 4334              	.LVL511:
 4335              	.L401:
 4336              	.LBE158:
 4337              	.LBB159:
 4338              	.LBB156:
2802:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     }
 4339              		.loc 1 2802 0
 4340 0464 9C129FE5 		ldr	r1, .L484+80
 4341 0468 9C029FE5 		ldr	r0, .L484+84
 4342 046c FEFFFFEB 		bl	vLoggingPrintf
 4343              	.LVL512:
 4344 0470 790000EA 		b	.L400
 4345              	.LVL513:
 4346              	.L405:
 4347              	.LBE156:
 4348              	.LBE159:
 4349              	.LBB160:
2493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ucBit >>= 1U;
 4350              		.loc 1 2493 0
 4351 0474 2CC094E5 		ldr	ip, [r4, #44]
2491:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {
 4352              		.loc 1 2491 0
 4353 0478 010080E2 		add	r0, r0, #1
 4354              	.LVL514:
2493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ucBit >>= 1U;
 4355              		.loc 1 2493 0
 4356 047c 0920DCE7 		ldrb	r2, [ip, r9]	@ zero_extendqisi2
 4357 0480 0320C2E1 		bic	r2, r2, r3
2494:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 4358              		.loc 1 2494 0
 4359 0484 A330A0E1 		lsr	r3, r3, #1
 4360              	.LVL515:
2493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                     ucBit >>= 1U;
 4361              		.loc 1 2493 0
 4362 0488 0920CCE7 		strb	r2, [ip, r9]
 4363 048c E8FFFFEA 		b	.L404
 4364              	.LVL516:
 4365              	.L406:
 4366              	.LBE160:
 4367              	.LBE162:
 4368              	.LBE164:
1421:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 4369              		.loc 1 1421 0
 4370 0490 FEFFFFEB 		bl	OTA_CheckForSelfTest
 4371              	.LVL517:
 4372 0494 010050E3 		cmp	r0, #1
 4373 0498 0300001A 		bne	.L408
1423:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4374              		.loc 1 1423 0
 4375 049c 883095E5 		ldr	r3, [r5, #136]
 4376 04a0 0200A0E3 		mov	r0, #2
 4377 04a4 33FF2FE1 		blx	r3
 4378              	.LVL518:
 4379 04a8 700000EA 		b	.L482
 4380              	.L408:
1430:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             ( void ) prvSetImageStateWithReason( eOTA_ImageState_Re
 4381              		.loc 1 1430 0
 4382 04ac 0710A0E1 		mov	r1, r7
 4383 04b0 58029FE5 		ldr	r0, .L484+88
 4384 04b4 FEFFFFEB 		bl	vLoggingPrintf
 4385              	.LVL519:
1431:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             ( void ) prvResetDevice(); /* Ignore return code since 
 4386              		.loc 1 1431 0
 4387 04b8 2614A0E3 		mov	r1, #637534208
 4388 04bc 0300A0E3 		mov	r0, #3
 4389 04c0 FEFFFFEB 		bl	prvSetImageStateWithReason
 4390              	.LVL520:
1432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4391              		.loc 1 1432 0
 4392 04c4 FEFFFFEB 		bl	prvResetDevice
 4393              	.LVL521:
 4394 04c8 680000EA 		b	.L482
 4395              	.LVL522:
 4396              	.L395:
1442:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 4397              		.loc 1 1442 0
 4398 04cc 01005AE3 		cmp	r10, #1
 4399 04d0 6700001A 		bne	.L407
1445:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 4400              		.loc 1 1445 0
 4401 04d4 000054E3 		cmp	r4, #0
 4402 04d8 6400000A 		beq	.L482
1445:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 4403              		.loc 1 1445 0 is_stmt 0 discriminator 1
 4404 04dc 0C309DE5 		ldr	r3, [sp, #12]
 4405 04e0 0080D3E5 		ldrb	r8, [r3]	@ zero_extendqisi2
 4406 04e4 000058E3 		cmp	r8, #0
 4407 04e8 6100001A 		bne	.L407
 4408              	.LBB165:
1448:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                                  ( const char * ) x
 4409              		.loc 1 1448 0 is_stmt 1
 4410 04ec 0630A0E1 		mov	r3, r6
 4411 04f0 34209DE5 		ldr	r2, [sp, #52]
 4412 04f4 30109DE5 		ldr	r1, [sp, #48]
 4413 04f8 0400A0E1 		mov	r0, r4
 4414 04fc FEFFFFEB 		bl	prvIngestDataBlock
 4415              	.LVL523:
1453:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 4416              		.loc 1 1453 0
 4417 0500 009050E2 		subs	r9, r0, #0
 4418 0504 1D0000AA 		bge	.L410
1459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 4419              		.loc 1 1459 0
 4420 0508 010079E3 		cmn	r9, #1
1462:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4421              		.loc 1 1462 0
 4422 050c 0830A001 		moveq	r3, r8
 4423 0510 0A20A001 		moveq	r2, r10
 4424 0514 0310A001 		moveq	r1, r3
1459:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 4425              		.loc 1 1459 0
 4426 0518 0800000A 		beq	.L481
1466:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             /* Call the platform specific code to reject the image.
 4427              		.loc 1 1466 0
 4428 051c 0920A0E1 		mov	r2, r9
 4429 0520 0710A0E1 		mov	r1, r7
 4430 0524 0B00A0E1 		mov	r0, fp
 4431              	.LVL524:
 4432 0528 FEFFFFEB 		bl	vLoggingPrintf
 4433              	.LVL525:
1468:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4434              		.loc 1 1468 0
 4435 052c 0300A0E3 		mov	r0, #3
 4436 0530 FEFFFFEB 		bl	prvPAL_SetPlatformImageState
 4437              	.LVL526:
1479:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4438              		.loc 1 1479 0
 4439 0534 40209DE5 		ldr	r2, [sp, #64]
 4440 0538 0930A0E1 		mov	r3, r9
 4441 053c 0410A0E3 		mov	r1, #4
 4442              	.L481:
 4443 0540 0400A0E1 		mov	r0, r4
 4444 0544 FEFFFFEB 		bl	prvUpdateJobStatus
 4445              	.LVL527:
1483:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         pxC = NULL;
 4446              		.loc 1 1483 0
 4447 0548 0400A0E1 		mov	r0, r4
 4448 054c 0040A0E3 		mov	r4, #0
 4449              	.LVL528:
 4450 0550 FEFFFFEB 		bl	prvOTA_Close
 4451              	.LVL529:
1487:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4452              		.loc 1 1487 0
 4453 0554 010099E2 		adds	r0, r9, #1
 4454 0558 883095E5 		ldr	r3, [r5, #136]
 4455 055c 0100A013 		movne	r0, #1
 4456 0560 33FF2FE1 		blx	r3
 4457              	.LVL530:
1490:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 4458              		.loc 1 1490 0
 4459 0564 8C0095E5 		ldr	r0, [r5, #140]
 4460 0568 000050E3 		cmp	r0, #0
1484:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4461              		.loc 1 1484 0
 4462 056c 0040A001 		moveq	r4, r0
1490:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         {
 4463              		.loc 1 1490 0
 4464 0570 3F00000A 		beq	.L407
1492:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                             xOTA_Agent.pucOTA_Singleton_ActiveJobName = NULL;
 4465              		.loc 1 1492 0
 4466 0574 FEFFFFEB 		bl	vPortFree
 4467              	.LVL531:
1493:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4468              		.loc 1 1493 0
 4469 0578 8C4085E5 		str	r4, [r5, #140]
 4470 057c 3C0000EA 		b	.L407
 4471              	.LVL532:
 4472              	.L410:
1499:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         prvUpdateJobStatus( pxC, eJobStatus_InProgress, ( int32_t )
 4473              		.loc 1 1499 0
 4474 0580 1C8084E5 		str	r8, [r4, #28]
1500:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     }
 4475              		.loc 1 1500 0
 4476 0584 0830A0E1 		mov	r3, r8
 4477 0588 0820A0E1 		mov	r2, r8
 4478 058c 0810A0E1 		mov	r1, r8
 4479 0590 0400A0E1 		mov	r0, r4
 4480              	.LVL533:
 4481 0594 FEFFFFEB 		bl	prvUpdateJobStatus
 4482              	.LVL534:
 4483 0598 350000EA 		b	.L407
 4484              	.LVL535:
 4485              	.L475:
 4486              	.LBE165:
 4487              	.LBB166:
 4488              	.LBB163:
2461:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4489              		.loc 1 2461 0
 4490 059c 2C0094E5 		ldr	r0, [r4, #44]
 4491 05a0 000050E3 		cmp	r0, #0
 4492 05a4 0200000A 		beq	.L418
2463:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             pxUpdateFile->pucRxBlockBitmap = NULL;
 4493              		.loc 1 2463 0
 4494 05a8 FEFFFFEB 		bl	vPortFree
 4495              	.LVL536:
2464:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4496              		.loc 1 2464 0
 4497 05ac 0030A0E3 		mov	r3, #0
 4498 05b0 2C3084E5 		str	r3, [r4, #44]
 4499              	.L418:
2470:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         ulBitmapLen = ( ulNumBlocks + ( BITS_PER_BYTE - 1U ) ) >> LOG2_BITS_PER_BYTE;
 4500              		.loc 1 2470 0
 4501 05b4 0C8094E5 		ldr	r8, [r4, #12]
 4502 05b8 FF8F88E2 		add	r8, r8, #1020
 4503 05bc 038088E2 		add	r8, r8, #3
 4504 05c0 2885A0E1 		lsr	r8, r8, #10
 4505              	.LVL537:
2471:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         pxUpdateFile->pucRxBlockBitmap = ( uint8_t * ) pvPortMalloc( ulBitmapLen ); /*lint !e9079 F
 4506              		.loc 1 2471 0
 4507 05c4 079088E2 		add	r9, r8, #7
 4508 05c8 A991A0E1 		lsr	r9, r9, #3
 4509              	.LVL538:
2472:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4510              		.loc 1 2472 0
 4511 05cc 0900A0E1 		mov	r0, r9
 4512 05d0 FEFFFFEB 		bl	pvPortMalloc
 4513              	.LVL539:
2474:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4514              		.loc 1 2474 0
 4515 05d4 000050E3 		cmp	r0, #0
2472:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4516              		.loc 1 2472 0
 4517 05d8 2C0084E5 		str	r0, [r4, #44]
2474:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4518              		.loc 1 2474 0
 4519 05dc 1E00000A 		beq	.L400
 4520              	.LVL540:
 4521              	.LBB161:
 4522              	.LBB157:
2777:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.xQoS = eMQTTQoS0;
 4523              		.loc 1 2777 0
 4524 05e0 1020A0E3 		mov	r2, #16
 4525 05e4 0010A0E3 		mov	r1, #0
 4526 05e8 14008DE2 		add	r0, sp, #20
 4527 05ec FEFFFFEB 		bl	memset
 4528              	.LVL541:
2780:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pxPublishCallback = prvOTAPublishCallback;
 4529              		.loc 1 2780 0
 4530 05f0 0130A0E3 		mov	r3, #1
2779:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pvPublishCallbackContext = ( void * ) eOTA_PubMsgType_Stream; /*lint
 4531              		.loc 1 2779 0
 4532 05f4 14608DE5 		str	r6, [sp, #20]
2780:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.pxPublishCallback = prvOTAPublishCallback;
 4533              		.loc 1 2780 0
 4534 05f8 1C308DE5 		str	r3, [sp, #28]
2782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       sizeof( cOTA_RxStreamTopic ),
 4535              		.loc 1 2782 0
 4536 05fc 011CA0E3 		mov	r1, #256
2781:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.usTopicLength = ( uint16_t ) snprintf( cOTA_RxStreamTopic,    /*lint
 4537              		.loc 1 2781 0
 4538 0600 08309DE5 		ldr	r3, [sp, #8]
2782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       sizeof( cOTA_RxStreamTopic ),
 4539              		.loc 1 2782 0
 4540 0604 0600A0E1 		mov	r0, r6
 4541 0608 04219FE5 		ldr	r2, .L484+92
2781:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     xOTAUpdateDataSubscription.usTopicLength = ( uint16_t ) snprintf( cOTA_RxStreamTopic,    /*lint
 4542              		.loc 1 2781 0
 4543 060c 20308DE5 		str	r3, [sp, #32]
2782:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                                                       sizeof( cOTA_RxStreamTopic ),
 4544              		.loc 1 2782 0
 4545 0610 243094E5 		ldr	r3, [r4, #36]
 4546 0614 00308DE5 		str	r3, [sp]
 4547 0618 C4309FE5 		ldr	r3, .L484+44
 4548 061c FEFFFFEB 		bl	snprintf
 4549              	.LVL542:
 4550 0620 7000FFE6 		uxth	r0, r0
 4551 0624 B801CDE1 		strh	r0, [sp, #24]	@ movhi
2788:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****     {
 4552              		.loc 1 2788 0
 4553 0628 010040E2 		sub	r0, r0, #1
 4554 062c FE0050E3 		cmp	r0, #254
 4555 0630 8BFFFF8A 		bhi	.L401
2790:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4556              		.loc 1 2790 0
 4557 0634 302507E3 		movw	r2, #30000
 4558 0638 14108DE2 		add	r1, sp, #20
 4559 063c 440095E5 		ldr	r0, [r5, #68]
 4560 0640 FEFFFFEB 		bl	MQTT_AGENT_Subscribe
 4561              	.LVL543:
 4562 0644 00A050E2 		subs	r10, r0, #0
2792:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4563              		.loc 1 2792 0
 4564 0648 14209DE5 		ldr	r2, [sp, #20]
 4565 064c B4109FE5 		ldr	r1, .L484+80
2790:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         {
 4566              		.loc 1 2790 0
 4567 0650 6DFFFF0A 		beq	.L402
2792:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****         }
 4568              		.loc 1 2792 0
 4569 0654 6C009FE5 		ldr	r0, .L484+16
 4570 0658 FEFFFFEB 		bl	vLoggingPrintf
 4571              	.LVL544:
 4572              	.L400:
 4573              	.LBE157:
 4574              	.LBE161:
2520:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****             pxUpdateFile = NULL;
 4575              		.loc 1 2520 0
 4576 065c 0400A0E1 		mov	r0, r4
 4577 0660 FEFFFFEB 		bl	prvOTA_Close
 4578              	.LVL545:
 4579              	.L397:
 4580              	.LBE163:
 4581              	.LBE166:
1418:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     {
 4582              		.loc 1 1418 0
 4583 0664 9830D5E5 		ldrb	r3, [r5, #152]	@ zero_extendqisi2
 4584 0668 010053E3 		cmp	r3, #1
 4585 066c 87FFFF0A 		beq	.L406
 4586              	.L482:
1432:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                         }
 4587              		.loc 1 1432 0
 4588 0670 0040A0E3 		mov	r4, #0
 4589              	.L407:
 4590              	.LVL546:
1510:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                             {
 4591              		.loc 1 1510 0
 4592 0674 38109DE5 		ldr	r1, [sp, #56]
 4593 0678 000051E3 		cmp	r1, #0
 4594 067c 47FFFF0A 		beq	.L394
1512:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4595              		.loc 1 1512 0
 4596 0680 A83095E5 		ldr	r3, [r5, #168]
1515:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 4597              		.loc 1 1515 0
 4598 0684 440095E5 		ldr	r0, [r5, #68]
1512:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c **** 
 4599              		.loc 1 1512 0
 4600 0688 013083E2 		add	r3, r3, #1
 4601 068c A83085E5 		str	r3, [r5, #168]
1515:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                 {
 4602              		.loc 1 1515 0
 4603 0690 FEFFFFEB 		bl	MQTT_AGENT_ReturnBuffer
 4604              	.LVL547:
 4605 0694 000050E3 		cmp	r0, #0
 4606 0698 40FFFF0A 		beq	.L394
1521:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                                     break;
 4607              		.loc 1 1521 0
 4608 069c 0710A0E1 		mov	r1, r7
 4609 06a0 58009FE5 		ldr	r0, .L484+72
 4610 06a4 FEFFFFEB 		bl	vLoggingPrintf
 4611              	.LVL548:
 4612              	.L393:
1533:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 {   /* Any event that releases the context structure tells us we're not active anym
 4613              		.loc 1 1533 0
 4614 06a8 000054E3 		cmp	r4, #0
1535:D:/Work/DeviceTester/amazon-freertos/lib/ota\aws_ota_agent.c ****                 }
 4615              		.loc 1 1535 0
 4616 06ac 0130A003 		moveq	r3, #1
 4617 06b0 0030C505 		strbeq	r3, [r5]
 4618 06b4 A2FEFFEA 		b	.L378
 4619              	.L485:
 4620              		.align	2
 4621              	.L484:
 4622 06b8 00000000 		.word	.LANCHOR0
 4623 06bc 00000000 		.word	prvOTAPublishCallback
 4624 06c0 00000000 		.word	.LANCHOR45
 4625 06c4 00000000 		.word	.LANCHOR46
 4626 06c8 00000000 		.word	.LC0
 4627 06cc 12000000 		.word	.LC1
 4628 06d0 00000000 		.word	.LANCHOR47
 4629 06d4 00000000 		.word	.LANCHOR40
 4630 06d8 24010000 		.word	.LC82
 4631 06dc 00000000 		.word	.LANCHOR48
 4632 06e0 00000000 		.word	.LC75
 4633 06e4 01000000 		.word	.LANCHOR0+1
 4634 06e8 00000000 		.word	.LANCHOR49
 4635 06ec 20000000 		.word	.LC76
 4636 06f0 48000000 		.word	.LANCHOR0+72
 4637 06f4 00000000 		.word	.LANCHOR50
 4638 06f8 30000000 		.word	.LC77
 4639 06fc 8E000000 		.word	.LC79
 4640 0700 65000000 		.word	.LC78
 4641 0704 CF000000 		.word	.LC80
 4642 0708 00000000 		.word	.LANCHOR51
 4643 070c 20000000 		.word	.LC2
 4644 0710 F1000000 		.word	.LC81
 4645 0714 00000000 		.word	.LANCHOR1
 4646              		.cfi_endproc
 4647              	.LFE20:
 4649              		.section	.text.TEST_OTA_prvIngestDataBlock,"ax",%progbits
 4650              		.align	2
 4651              		.global	TEST_OTA_prvIngestDataBlock
 4652              		.syntax unified
 4653              		.arm
 4654              		.fpu neon
 4656              	TEST_OTA_prvIngestDataBlock:
 4657              	.LFB41:
 4658              		.file 2 "D:\\Work\\DeviceTester\\amazon-freertos\\tests\\common\\include/aws_ota_agent_test_access
   1:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /*
   2:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * Amazon FreeRTOS
   3:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  *
   5:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * this software and associated documentation files (the "Software"), to deal in
   7:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * the Software without restriction, including without limitation the rights to
   8:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * subject to the following conditions:
  11:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  *
  12:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * The above copyright notice and this permission notice shall be included in all
  13:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * copies or substantial portions of the Software.
  14:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  *
  15:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  *
  22:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * http://aws.amazon.com/freertos
  23:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * http://www.FreeRTOS.org
  24:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  */
  25:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  26:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /**
  27:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * @file aws_ota_agent_test_access_define.h
  28:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * @brief Function wrappers that access private methods in aws_ota_agent.c.
  29:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  *
  30:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  * Needed for testing private functions.
  31:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****  */
  32:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  33:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** #ifndef _AWS_OTA_AGENT_TEST_ACCESS_DEFINE_H_
  34:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** #define _AWS_OTA_AGENT_TEST_ACCESS_DEFINE_H_
  35:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  36:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /*-----------------------------------------------------------*/
  37:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  38:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** IngestResult_t TEST_OTA_prvIngestDataBlock( OTA_FileContext_t * C,
  39:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                             const char * pacRawMsg,
  40:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                             u32 iMsgSize,
  41:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                             OTA_Err_t * pxCloseResult )
  42:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** {
 4659              		.loc 2 42 0
 4660              		.cfi_startproc
 4661              		@ args = 0, pretend = 0, frame = 0
 4662              		@ frame_needed = 0, uses_anonymous_args = 0
 4663              		@ link register save eliminated.
 4664              	.LVL549:
  43:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****     return prvIngestDataBlock( C, pacRawMsg, iMsgSize, pxCloseResult );
 4665              		.loc 2 43 0
 4666 0000 FEFFFFEA 		b	prvIngestDataBlock
 4667              	.LVL550:
 4668              		.cfi_endproc
 4669              	.LFE41:
 4671              		.section	.text.TEST_OTA_prvParseJobDoc,"ax",%progbits
 4672              		.align	2
 4673              		.global	TEST_OTA_prvParseJobDoc
 4674              		.syntax unified
 4675              		.arm
 4676              		.fpu neon
 4678              	TEST_OTA_prvParseJobDoc:
 4679              	.LFB42:
  44:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** }
  45:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  46:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  47:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /*-----------------------------------------------------------*/
  48:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  49:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** OTA_FileContext_t * TEST_OTA_prvParseJobDoc( const char * pacRawMsg,
  50:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                              u32 iMsgLen )
  51:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** {
 4680              		.loc 2 51 0
 4681              		.cfi_startproc
 4682              		@ args = 0, pretend = 0, frame = 0
 4683              		@ frame_needed = 0, uses_anonymous_args = 0
 4684              		@ link register save eliminated.
 4685              	.LVL551:
  52:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****     return prvParseJobDoc( pacRawMsg, iMsgLen );
 4686              		.loc 2 52 0
 4687 0000 FEFFFFEA 		b	prvParseJobDoc
 4688              	.LVL552:
 4689              		.cfi_endproc
 4690              	.LFE42:
 4692              		.section	.text.TEST_OTA_prvOTA_Close,"ax",%progbits
 4693              		.align	2
 4694              		.global	TEST_OTA_prvOTA_Close
 4695              		.syntax unified
 4696              		.arm
 4697              		.fpu neon
 4699              	TEST_OTA_prvOTA_Close:
 4700              	.LFB43:
  53:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** }
  54:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  55:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /*-----------------------------------------------------------*/
  56:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  57:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** bool_t TEST_OTA_prvOTA_Close( OTA_FileContext_t * const C )
  58:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** {
 4701              		.loc 2 58 0
 4702              		.cfi_startproc
 4703              		@ args = 0, pretend = 0, frame = 0
 4704              		@ frame_needed = 0, uses_anonymous_args = 0
 4705              		@ link register save eliminated.
 4706              	.LVL553:
  59:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****     return prvOTA_Close( C );
 4707              		.loc 2 59 0
 4708 0000 FEFFFFEA 		b	prvOTA_Close
 4709              	.LVL554:
 4710              		.cfi_endproc
 4711              	.LFE43:
 4713              		.section	.text.TEST_OTA_prvParseJSONbyModel,"ax",%progbits
 4714              		.align	2
 4715              		.global	TEST_OTA_prvParseJSONbyModel
 4716              		.syntax unified
 4717              		.arm
 4718              		.fpu neon
 4720              	TEST_OTA_prvParseJSONbyModel:
 4721              	.LFB44:
  60:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** }
  61:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  62:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** /*-----------------------------------------------------------*/
  63:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** 
  64:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** DocParseErr_t TEST_OTA_prvParseJSONbyModel( const char * pcJSON,
  65:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                             uint32_t ulMsgLen,
  66:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****                                             JSON_DocModel_t * pxDocModel )
  67:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h **** {
 4722              		.loc 2 67 0
 4723              		.cfi_startproc
 4724              		@ args = 0, pretend = 0, frame = 0
 4725              		@ frame_needed = 0, uses_anonymous_args = 0
 4726              		@ link register save eliminated.
 4727              	.LVL555:
  68:D:\Work\DeviceTester\amazon-freertos\tests\common\include\aws_ota_agent_test_access_define.h ****     return prvParseJSONbyModel( pcJSON, ulMsgLen, pxDocModel );
 4728              		.loc 2 68 0
 4729 0000 FEFFFFEA 		b	prvParseJSONbyModel
 4730              	.LVL556:
 4731              		.cfi_endproc
 4732              	.LFE44:
 4734              		.section	.bss.ulReqCounter.9005,"aw",%nobits
 4735              		.align	2
 4736              		.set	.LANCHOR34,. + 0
 4739              	ulReqCounter.9005:
 4740 0000 00000000 		.space	4
 4741              		.section	.bss.xInSelfTest,"aw",%nobits
 4742              		.set	.LANCHOR40,. + 0
 4745              	xInSelfTest:
 4746 0000 00       		.space	1
 4747              		.section	.bss.xOTA_Agent,"aw",%nobits
 4748              		.align	2
 4749              		.set	.LANCHOR0,. + 0
 4752              	xOTA_Agent:
 4753 0000 00000000 		.space	180
 4753      00000000 
 4753      00000000 
 4753      00000000 
 4753      00000000 
 4754              		.section	.bss.xOTA_TaskHandle.8966,"aw",%nobits
 4755              		.align	2
 4756              		.set	.LANCHOR31,. + 0
 4759              	xOTA_TaskHandle.8966:
 4760 0000 00000000 		.space	4
 4761              		.section	.bss.xQueueData.8970,"aw",%nobits
 4762              		.align	2
 4763              		.set	.LANCHOR30,. + 0
 4766              	xQueueData.8970:
 4767 0000 00000000 		.space	168
 4767      00000000 
 4767      00000000 
 4767      00000000 
 4767      00000000 
 4768              		.section	.bss.xStaticQueue.8969,"aw",%nobits
 4769              		.align	2
 4770              		.set	.LANCHOR29,. + 0
 4773              	xStaticQueue.8969:
 4774 0000 00000000 		.space	80
 4774      00000000 
 4774      00000000 
 4774      00000000 
 4774      00000000 
 4775              		.section	.bss.xTimerBuffer.9111,"aw",%nobits
 4776              		.align	2
 4777              		.set	.LANCHOR27,. + 0
 4780              	xTimerBuffer.9111:
 4781 0000 00000000 		.space	48
 4781      00000000 
 4781      00000000 
 4781      00000000 
 4781      00000000 
 4782              		.section	.rodata.OTA_ActivateNewImage.str1.1,"aMS",%progbits,1
 4783              	.LC37:
 4784 0000 5B25735D 		.ascii	"[%s] Failed to activate new image (0x%08x). Please "
 4784      20466169 
 4784      6C656420 
 4784      746F2061 
 4784      63746976 
 4785 0033 72657365 		.ascii	"reset manually.\015\012\000"
 4785      74206D61 
 4785      6E75616C 
 4785      6C792E0D 
 4785      0A00
 4786              		.section	.rodata.OTA_AgentInit.str1.1,"aMS",%progbits,1
 4787              	.LC30:
 4788 0000 4F544120 		.ascii	"OTA Task\000"
 4788      5461736B 
 4788      00
 4789              	.LC31:
 4790 0009 5B25735D 		.ascii	"[%s] Ready.\015\012\000"
 4790      20526561 
 4790      64792E0D 
 4790      0A00
 4791              	.LC32:
 4792 0017 5B25735D 		.ascii	"[%s] Failed to start. OTA Task:%08x  Queue:%08x\015"
 4792      20466169 
 4792      6C656420 
 4792      746F2073 
 4792      74617274 
 4793 0047 0A00     		.ascii	"\012\000"
 4794              		.section	.rodata.OTA_AgentShutdown.str1.1,"aMS",%progbits,1
 4795              	.LC33:
 4796 0000 5B25735D 		.ascii	"[%s] Nothing to do: Already in state %u\015\012\000"
 4796      204E6F74 
 4796      68696E67 
 4796      20746F20 
 4796      646F3A20 
 4797              		.section	.rodata.OTA_CheckForSelfTest.str1.1,"aMS",%progbits,1
 4798              	.LC29:
 4799 0000 5B25735D 		.ascii	"[%s] Starting %s timer.\015\012\000"
 4799      20537461 
 4799      7274696E 
 4799      67202573 
 4799      2074696D 
 4800              		.section	.rodata.OTA_CheckForUpdate.str1.1,"aMS",%progbits,1
 4801              	.LC34:
 4802 0000 5B25735D 		.ascii	"[%s] Request #%u\015\012\000"
 4802      20526571 
 4802      75657374 
 4802      20232575 
 4802      0D0A00
 4803              	.LC35:
 4804 0013 5B25735D 		.ascii	"[%s] Failed to publish MQTT message.\015\012\000"
 4804      20466169 
 4804      6C656420 
 4804      746F2070 
 4804      75626C69 
 4805              	.LC36:
 4806 003a 5B25735D 		.ascii	"[%s] Topic too large for supplied buffer.\015\012\000"
 4806      20546F70 
 4806      69632074 
 4806      6F6F206C 
 4806      61726765 
 4807              		.section	.rodata.OTA_METHOD_NAME.8957,"a",%progbits
 4808              		.set	.LANCHOR41,. + 0
 4811              	OTA_METHOD_NAME.8957:
 4812 0000 70727644 		.ascii	"prvDefaultOTACompleteCallback\000"
 4812      65666175 
 4812      6C744F54 
 4812      41436F6D 
 4812      706C6574 
 4813              		.section	.rodata.OTA_METHOD_NAME.8965,"a",%progbits
 4814              		.set	.LANCHOR32,. + 0
 4817              	OTA_METHOD_NAME.8965:
 4818 0000 4F54415F 		.ascii	"OTA_AgentInit\000"
 4818      4167656E 
 4818      74496E69 
 4818      7400
 4819              		.section	.rodata.OTA_METHOD_NAME.8981,"a",%progbits
 4820              		.set	.LANCHOR33,. + 0
 4823              	OTA_METHOD_NAME.8981:
 4824 0000 4F54415F 		.ascii	"OTA_AgentShutdown\000"
 4824      4167656E 
 4824      74536875 
 4824      74646F77 
 4824      6E00
 4825              		.section	.rodata.OTA_METHOD_NAME.9003,"a",%progbits
 4826              		.set	.LANCHOR35,. + 0
 4829              	OTA_METHOD_NAME.9003:
 4830 0000 4F54415F 		.ascii	"OTA_CheckForUpdate\000"
 4830      43686563 
 4830      6B466F72 
 4830      55706461 
 4830      746500
 4831              		.section	.rodata.OTA_METHOD_NAME.9014,"a",%progbits
 4832              		.set	.LANCHOR50,. + 0
 4835              	OTA_METHOD_NAME.9014:
 4836 0000 70727641 		.ascii	"prvAgentShutdownCleanup\000"
 4836      67656E74 
 4836      53687574 
 4836      646F776E 
 4836      436C6561 
 4837              		.section	.rodata.OTA_METHOD_NAME.9025,"a",%progbits
 4838              		.set	.LANCHOR38,. + 0
 4841              	OTA_METHOD_NAME.9025:
 4842 0000 4F54415F 		.ascii	"OTA_ActivateNewImage\000"
 4842      41637469 
 4842      76617465 
 4842      4E657749 
 4842      6D616765 
 4843              		.section	.rodata.OTA_METHOD_NAME.9030,"a",%progbits
 4844              		.set	.LANCHOR4,. + 0
 4847              	OTA_METHOD_NAME.9030:
 4848 0000 70727652 		.ascii	"prvResetDevice\000"
 4848      65736574 
 4848      44657669 
 4848      636500
 4849              		.section	.rodata.OTA_METHOD_NAME.9039,"a",%progbits
 4850              		.set	.LANCHOR39,. + 0
 4853              	OTA_METHOD_NAME.9039:
 4854 0000 4F54415F 		.ascii	"OTA_SetImageState\000"
 4854      53657449 
 4854      6D616765 
 4854      53746174 
 4854      6500
 4855              		.section	.rodata.OTA_METHOD_NAME.9060,"a",%progbits
 4856              		.set	.LANCHOR10,. + 0
 4859              	OTA_METHOD_NAME.9060:
 4860 0000 70727655 		.ascii	"prvUpdateJobStatus\000"
 4860      70646174 
 4860      654A6F62 
 4860      53746174 
 4860      757300
 4861              		.section	.rodata.OTA_METHOD_NAME.9073,"a",%progbits
 4862              		.set	.LANCHOR23,. + 0
 4865              	OTA_METHOD_NAME.9073:
 4866 0000 70727650 		.ascii	"prvPublishGetStreamMessage\000"
 4866      75626C69 
 4866      73684765 
 4866      74537472 
 4866      65616D4D 
 4867              		.section	.rodata.OTA_METHOD_NAME.9093,"a",%progbits
 4868              		.set	.LANCHOR48,. + 0
 4871              	OTA_METHOD_NAME.9093:
 4872 0000 7072764F 		.ascii	"prvOTAUpdateTask\000"
 4872      54415570 
 4872      64617465 
 4872      5461736B 
 4872      00
 4873              		.section	.rodata.OTA_METHOD_NAME.9108,"a",%progbits
 4874              		.set	.LANCHOR28,. + 0
 4877              	OTA_METHOD_NAME.9108:
 4878 0000 4F54415F 		.ascii	"OTA_CheckForSelfTest\000"
 4878      43686563 
 4878      6B466F72 
 4878      53656C66 
 4878      54657374 
 4879              		.section	.rodata.OTA_METHOD_NAME.9115,"a",%progbits
 4880              		.set	.LANCHOR3,. + 0
 4883              	OTA_METHOD_NAME.9115:
 4884 0000 70727653 		.ascii	"prvSelfTestTimer_Callback\000"
 4884      656C6654 
 4884      65737454 
 4884      696D6572 
 4884      5F43616C 
 4885              		.section	.rodata.OTA_METHOD_NAME.9119,"a",%progbits
 4886              		.set	.LANCHOR19,. + 0
 4889              	OTA_METHOD_NAME.9119:
 4890 0000 70727653 		.ascii	"prvStopSelfTestTimer\000"
 4890      746F7053 
 4890      656C6654 
 4890      65737454 
 4890      696D6572 
 4891              		.section	.rodata.OTA_METHOD_NAME.9126,"a",%progbits
 4892              		.set	.LANCHOR21,. + 0
 4895              	OTA_METHOD_NAME.9126:
 4896 0000 70727653 		.ascii	"prvStartRequestTimer\000"
 4896      74617274 
 4896      52657175 
 4896      65737454 
 4896      696D6572 
 4897              		.section	.rodata.OTA_METHOD_NAME.9132,"a",%progbits
 4898              		.set	.LANCHOR25,. + 0
 4901              	OTA_METHOD_NAME.9132:
 4902 0000 70727653 		.ascii	"prvStopRequestTimer\000"
 4902      746F7052 
 4902      65717565 
 4902      73745469 
 4902      6D657200 
 4903              		.section	.rodata.OTA_METHOD_NAME.9136,"a",%progbits
 4904              		.set	.LANCHOR5,. + 0
 4907              	OTA_METHOD_NAME.9136:
 4908 0000 7072764F 		.ascii	"prvOTA_Close\000"
 4908      54415F43 
 4908      6C6F7365 
 4908      00
 4909              		.section	.rodata.OTA_METHOD_NAME.9168,"a",%progbits
 4910              		.set	.LANCHOR42,. + 0
 4913              	OTA_METHOD_NAME.9168:
 4914 0000 70727650 		.ascii	"prvParseJSONbyModel\000"
 4914      61727365 
 4914      4A534F4E 
 4914      62794D6F 
 4914      64656C00 
 4915              		.section	.rodata.OTA_METHOD_NAME.9218,"a",%progbits
 4916              		.set	.LANCHOR43,. + 0
 4919              	OTA_METHOD_NAME.9218:
 4920 0000 70727650 		.ascii	"prvParseJobDoc\000"
 4920      61727365 
 4920      4A6F6244 
 4920      6F6300
 4921              		.section	.rodata.OTA_METHOD_NAME.9244,"a",%progbits
 4922              		.set	.LANCHOR24,. + 0
 4925              	OTA_METHOD_NAME.9244:
 4926 0000 70727649 		.ascii	"prvIngestDataBlock\000"
 4926      6E676573 
 4926      74446174 
 4926      61426C6F 
 4926      636B00
 4927              		.section	.rodata.OTA_METHOD_NAME.9259,"a",%progbits
 4928              		.set	.LANCHOR46,. + 0
 4931              	OTA_METHOD_NAME.9259:
 4932 0000 70727653 		.ascii	"prvSubscribeToJobNotificationTopics\000"
 4932      75627363 
 4932      72696265 
 4932      546F4A6F 
 4932      624E6F74 
 4933              		.section	.rodata.OTA_METHOD_NAME.9266,"a",%progbits
 4934              		.set	.LANCHOR51,. + 0
 4937              	OTA_METHOD_NAME.9266:
 4938 0000 70727653 		.ascii	"prvSubscribeToDataStream\000"
 4938      75627363 
 4938      72696265 
 4938      546F4461 
 4938      74615374 
 4939              		.section	.rodata.OTA_METHOD_NAME.9273,"a",%progbits
 4940              		.set	.LANCHOR2,. + 0
 4943              	OTA_METHOD_NAME.9273:
 4944 0000 70727655 		.ascii	"prvUnSubscribeFromDataStream\000"
 4944      6E537562 
 4944      73637269 
 4944      62654672 
 4944      6F6D4461 
 4945              		.section	.rodata.OTA_METHOD_NAME.9280,"a",%progbits
 4946              		.set	.LANCHOR49,. + 0
 4949              	OTA_METHOD_NAME.9280:
 4950 0000 70727655 		.ascii	"prvUnSubscribeFromJobNotificationTopic\000"
 4950      6E537562 
 4950      73637269 
 4950      62654672 
 4950      6F6D4A6F 
 4951              		.section	.rodata.OTA_SetImageState.str1.1,"aMS",%progbits,1
 4952              	.LC38:
 4953 0000 5B25735D 		.ascii	"[%s] FW Error! Missing event flag variable.\015\012"
 4953      20465720 
 4953      4572726F 
 4953      7221204D 
 4953      69737369 
 4954 002d 00       		.ascii	"\000"
 4955              		.section	.rodata.cOTA_GetNextJob_MsgTemplate,"a",%progbits
 4956              		.set	.LANCHOR36,. + 0
 4959              	cOTA_GetNextJob_MsgTemplate:
 4960 0000 7B22636C 		.ascii	"{\"clientToken\":\"%u:%s\"}\000"
 4960      69656E74 
 4960      546F6B65 
 4960      6E223A22 
 4960      25753A25 
 4961              		.section	.rodata.cOTA_GetStream_TopicTemplate,"a",%progbits
 4962              		.set	.LANCHOR22,. + 0
 4965              	cOTA_GetStream_TopicTemplate:
 4966 0000 24617773 		.ascii	"$aws/things/%s/streams/%s/get/cbor\000"
 4966      2F746869 
 4966      6E67732F 
 4966      25732F73 
 4966      74726561 
 4967              		.section	.rodata.cOTA_JSON_ClientTokenKey,"a",%progbits
 4970              	cOTA_JSON_ClientTokenKey:
 4971 0000 636C6965 		.ascii	"clientToken\000"
 4971      6E74546F 
 4971      6B656E00 
 4972              		.section	.rodata.cOTA_JSON_ExecutionKey,"a",%progbits
 4975              	cOTA_JSON_ExecutionKey:
 4976 0000 65786563 		.ascii	"execution\000"
 4976      7574696F 
 4976      6E00
 4977              		.section	.rodata.cOTA_JSON_FileAttributeKey,"a",%progbits
 4980              	cOTA_JSON_FileAttributeKey:
 4981 0000 61747472 		.ascii	"attr\000"
 4981      00
 4982              		.section	.rodata.cOTA_JSON_FileCertNameKey,"a",%progbits
 4985              	cOTA_JSON_FileCertNameKey:
 4986 0000 63657274 		.ascii	"certfile\000"
 4986      66696C65 
 4986      00
 4987              		.section	.rodata.cOTA_JSON_FileGroupKey,"a",%progbits
 4990              	cOTA_JSON_FileGroupKey:
 4991 0000 66696C65 		.ascii	"files\000"
 4991      7300
 4992              		.section	.rodata.cOTA_JSON_FileIDKey,"a",%progbits
 4995              	cOTA_JSON_FileIDKey:
 4996 0000 66696C65 		.ascii	"fileid\000"
 4996      696400
 4997              		.section	.rodata.cOTA_JSON_FilePathKey,"a",%progbits
 5000              	cOTA_JSON_FilePathKey:
 5001 0000 66696C65 		.ascii	"filepath\000"
 5001      70617468 
 5001      00
 5002              		.section	.rodata.cOTA_JSON_FileSizeKey,"a",%progbits
 5005              	cOTA_JSON_FileSizeKey:
 5006 0000 66696C65 		.ascii	"filesize\000"
 5006      73697A65 
 5006      00
 5007              		.section	.rodata.cOTA_JSON_JobDocKey,"a",%progbits
 5010              	cOTA_JSON_JobDocKey:
 5011 0000 6A6F6244 		.ascii	"jobDocument\000"
 5011      6F63756D 
 5011      656E7400 
 5012              		.section	.rodata.cOTA_JSON_JobIDKey,"a",%progbits
 5015              	cOTA_JSON_JobIDKey:
 5016 0000 6A6F6249 		.ascii	"jobId\000"
 5016      6400
 5017              		.section	.rodata.cOTA_JSON_OTAUnitKey,"a",%progbits
 5020              	cOTA_JSON_OTAUnitKey:
 5021 0000 6166725F 		.ascii	"afr_ota\000"
 5021      6F746100 
 5022              		.section	.rodata.cOTA_JSON_SelfTestKey,"a",%progbits
 5023              		.set	.LANCHOR11,. + 0
 5026              	cOTA_JSON_SelfTestKey:
 5027 0000 73656C66 		.ascii	"self_test\000"
 5027      5F746573 
 5027      7400
 5028              		.section	.rodata.cOTA_JSON_StatusDetailsKey,"a",%progbits
 5031              	cOTA_JSON_StatusDetailsKey:
 5032 0000 73746174 		.ascii	"statusDetails\000"
 5032      75734465 
 5032      7461696C 
 5032      7300
 5033              		.section	.rodata.cOTA_JSON_StreamNameKey,"a",%progbits
 5036              	cOTA_JSON_StreamNameKey:
 5037 0000 73747265 		.ascii	"streamname\000"
 5037      616D6E61 
 5037      6D6500
 5038              		.section	.rodata.cOTA_JSON_UpdatedByKey,"a",%progbits
 5041              	cOTA_JSON_UpdatedByKey:
 5042 0000 75706461 		.ascii	"updatedBy\000"
 5042      74656442 
 5042      7900
 5043              		.section	.rodata.cOTA_JobStatus_ReasonStrTemplate,"a",%progbits
 5044              		.set	.LANCHOR17,. + 0
 5047              	cOTA_JobStatus_ReasonStrTemplate:
 5048 0000 22726561 		.ascii	"\"reason\":\"%s: 0x%08x\"}}\000"
 5048      736F6E22 
 5048      3A222573 
 5048      3A203078 
 5048      25303878 
 5049              		.section	.rodata.cOTA_JobStatus_ReasonValTemplate,"a",%progbits
 5050              		.set	.LANCHOR15,. + 0
 5053              	cOTA_JobStatus_ReasonValTemplate:
 5054 0000 22726561 		.ascii	"\"reason\":\"0x%08x: 0x%08x\"}}\000"
 5054      736F6E22 
 5054      3A223078 
 5054      25303878 
 5054      3A203078 
 5055              		.section	.rodata.cOTA_JobStatus_ReceiveDetailsTemplate,"a",%progbits
 5056              		.set	.LANCHOR9,. + 0
 5059              	cOTA_JobStatus_ReceiveDetailsTemplate:
 5060 0000 22257322 		.ascii	"\"%s\":\"%u/%u\"}}\000"
 5060      3A222575 
 5060      2F257522 
 5060      7D7D00
 5061              		.section	.rodata.cOTA_JobStatus_SelfTestDetailsTemplate,"a",%progbits
 5062              		.set	.LANCHOR12,. + 0
 5065              	cOTA_JobStatus_SelfTestDetailsTemplate:
 5066 0000 22257322 		.ascii	"\"%s\":\"%s\",\"updatedBy\":\"0x%x\"}}\000"
 5066      3A222573 
 5066      222C2275 
 5066      70646174 
 5066      65644279 
 5067              		.section	.rodata.cOTA_JobStatus_StatusTemplate,"a",%progbits
 5068              		.set	.LANCHOR7,. + 0
 5071              	cOTA_JobStatus_StatusTemplate:
 5072 0000 7B227374 		.ascii	"{\"status\":\"%s\",\"statusDetails\":{\000"
 5072      61747573 
 5072      223A2225 
 5072      73222C22 
 5072      73746174 
 5073              		.section	.rodata.cOTA_JobStatus_SucceededStrTemplate,"a",%progbits
 5074              		.set	.LANCHOR16,. + 0
 5077              	cOTA_JobStatus_SucceededStrTemplate:
 5078 0000 22726561 		.ascii	"\"reason\":\"%s v%u.%u.%u\"}}\000"
 5078      736F6E22 
 5078      3A222573 
 5078      20762575 
 5078      2E25752E 
 5079              		.section	.rodata.cOTA_JobStatus_TopicTemplate,"a",%progbits
 5080              		.set	.LANCHOR18,. + 0
 5083              	cOTA_JobStatus_TopicTemplate:
 5084 0000 24617773 		.ascii	"$aws/things/%s/jobs/%s/update\000"
 5084      2F746869 
 5084      6E67732F 
 5084      25732F6A 
 5084      6F62732F 
 5085              		.section	.rodata.cOTA_JobsGetNextAccepted_TopicTemplate,"a",%progbits
 5086              		.set	.LANCHOR45,. + 0
 5089              	cOTA_JobsGetNextAccepted_TopicTemplate:
 5090 0000 24617773 		.ascii	"$aws/things/%s/jobs/$next/get/accepted\000"
 5090      2F746869 
 5090      6E67732F 
 5090      25732F6A 
 5090      6F62732F 
 5091              		.section	.rodata.cOTA_JobsGetNext_TopicTemplate,"a",%progbits
 5092              		.set	.LANCHOR37,. + 0
 5095              	cOTA_JobsGetNext_TopicTemplate:
 5096 0000 24617773 		.ascii	"$aws/things/%s/jobs/$next/get\000"
 5096      2F746869 
 5096      6E67732F 
 5096      25732F6A 
 5096      6F62732F 
 5097              		.section	.rodata.cOTA_JobsNotifyNext_TopicTemplate,"a",%progbits
 5098              		.set	.LANCHOR47,. + 0
 5101              	cOTA_JobsNotifyNext_TopicTemplate:
 5102 0000 24617773 		.ascii	"$aws/things/%s/jobs/notify-next\000"
 5102      2F746869 
 5102      6E67732F 
 5102      25732F6A 
 5102      6F62732F 
 5103              		.section	.rodata.cOTA_StreamData_TopicTemplate,"a",%progbits
 5104              		.set	.LANCHOR1,. + 0
 5107              	cOTA_StreamData_TopicTemplate:
 5108 0000 24617773 		.ascii	"$aws/things/%s/streams/%s/data/cbor\000"
 5108      2F746869 
 5108      6E67732F 
 5108      25732F73 
 5108      74726561 
 5109              		.section	.rodata.cOTA_String_Failed,"a",%progbits
 5112              	cOTA_String_Failed:
 5113 0000 4641494C 		.ascii	"FAILED\000"
 5113      454400
 5114              		.section	.rodata.cOTA_String_InProgress,"a",%progbits
 5115              		.set	.LANCHOR6,. + 0
 5118              	cOTA_String_InProgress:
 5119 0000 494E5F50 		.ascii	"IN_PROGRESS\000"
 5119      524F4752 
 5119      45535300 
 5120              		.section	.rodata.cOTA_String_Receive,"a",%progbits
 5121              		.set	.LANCHOR8,. + 0
 5124              	cOTA_String_Receive:
 5125 0000 72656365 		.ascii	"receive\000"
 5125      69766500 
 5126              		.section	.rodata.cOTA_String_Rejected,"a",%progbits
 5129              	cOTA_String_Rejected:
 5130 0000 52454A45 		.ascii	"REJECTED\000"
 5130      43544544 
 5130      00
 5131              		.section	.rodata.cOTA_String_Succeeded,"a",%progbits
 5134              	cOTA_String_Succeeded:
 5135 0000 53554343 		.ascii	"SUCCEEDED\000"
 5135      45454445 
 5135      4400
 5136              		.section	.rodata.cTimerName.9109,"a",%progbits
 5137              		.set	.LANCHOR26,. + 0
 5140              	cTimerName.9109:
 5141 0000 4F54415F 		.ascii	"OTA_SelfTest\000"
 5141      53656C66 
 5141      54657374 
 5141      00
 5142              		.section	.rodata.cTimerName.9127,"a",%progbits
 5143              		.set	.LANCHOR20,. + 0
 5146              	cTimerName.9127:
 5147 0000 4F54415F 		.ascii	"OTA_FileRequest\000"
 5147      46696C65 
 5147      52657175 
 5147      65737400 
 5148              		.section	.rodata.pcOTA_JobReason_Strings,"a",%progbits
 5149              		.align	2
 5150              		.set	.LANCHOR13,. + 0
 5153              	pcOTA_JobReason_Strings:
 5154 0000 00000000 		.word	.LC83
 5155 0004 01000000 		.word	.LC84
 5156 0008 07000000 		.word	.LC85
 5157 000c 0E000000 		.word	.LC86
 5158 0010 17000000 		.word	.LC87
 5159 0014 20000000 		.word	.LC88
 5160              		.section	.rodata.pcOTA_JobStatus_Strings,"a",%progbits
 5161              		.align	2
 5162              		.set	.LANCHOR14,. + 0
 5165              	pcOTA_JobStatus_Strings:
 5166 0000 00000000 		.word	cOTA_String_InProgress
 5167 0004 00000000 		.word	cOTA_String_Failed
 5168 0008 00000000 		.word	cOTA_String_Succeeded
 5169 000c 00000000 		.word	cOTA_String_Rejected
 5170 0010 00000000 		.word	cOTA_String_Failed
 5171              		.section	.rodata.prvDefaultOTACompleteCallback.str1.1,"aMS",%progbits,1
 5172              	.LC39:
 5173 0000 5B25735D 		.ascii	"[%s] Received eOTA_JobEvent_Activate callback from "
 5173      20526563 
 5173      65697665 
 5173      6420654F 
 5173      54415F4A 
 5174 0033 4F544120 		.ascii	"OTA Agent.\015\012\000"
 5174      4167656E 
 5174      742E0D0A 
 5174      00
 5175              	.LC40:
 5176 0040 5B25735D 		.ascii	"[%s] Received eOTA_JobEvent_Fail callback from OTA "
 5176      20526563 
 5176      65697665 
 5176      6420654F 
 5176      54415F4A 
 5177 0073 4167656E 		.ascii	"Agent.\015\012\000"
 5177      742E0D0A 
 5177      00
 5178              	.LC41:
 5179 007c 5B25735D 		.ascii	"[%s] Received eOTA_JobEvent_StartTest callback from"
 5179      20526563 
 5179      65697665 
 5179      6420654F 
 5179      54415F4A 
 5180 00af 204F5441 		.ascii	" OTA Agent.\015\012\000"
 5180      20416765 
 5180      6E742E0D 
 5180      0A00
 5181              	.LC42:
 5182 00bd 5B25735D 		.ascii	"[%s] Error! Failed to set image state.\015\012\000"
 5182      20457272 
 5182      6F722120 
 5182      4661696C 
 5182      65642074 
 5183              	.LC43:
 5184 00e6 5B25735D 		.ascii	"[%s] Received invalid job event %d from OTA Agent.\015"
 5184      20526563 
 5184      65697665 
 5184      6420696E 
 5184      76616C69 
 5185 0119 0A00     		.ascii	"\012\000"
 5186              		.section	.rodata.prvIngestDataBlock.str1.1,"aMS",%progbits,1
 5187              	.LC18:
 5188 0000 5B25735D 		.ascii	"[%s] Received file block %u, size %u\015\012\000"
 5188      20526563 
 5188      65697665 
 5188      64206669 
 5188      6C652062 
 5189              	.LC19:
 5190 0027 5B25735D 		.ascii	"[%s] block %u is a DUPLICATE. %u blocks remaining.\015"
 5190      20626C6F 
 5190      636B2025 
 5190      75206973 
 5190      20612044 
 5191 005a 0A00     		.ascii	"\012\000"
 5192              	.LC20:
 5193 005c 5B25735D 		.ascii	"[%s] Error (%d) writing file block\015\012\000"
 5193      20457272 
 5193      6F722028 
 5193      25642920 
 5193      77726974 
 5194              	.LC21:
 5195 0081 5B25735D 		.ascii	"[%s] Error: Unable to write block, file handle is N"
 5195      20457272 
 5195      6F723A20 
 5195      556E6162 
 5195      6C652074 
 5196 00b4 554C4C2E 		.ascii	"ULL.\015\012\000"
 5196      0D0A00
 5197              	.LC22:
 5198 00bb 5B25735D 		.ascii	"[%s] Received final expected block of file.\015\012"
 5198      20526563 
 5198      65697665 
 5198      64206669 
 5198      6E616C20 
 5199 00e8 00       		.ascii	"\000"
 5200              	.LC23:
 5201 00e9 5B25735D 		.ascii	"[%s] Stopping file request timer.\015\012\000"
 5201      2053746F 
 5201      7070696E 
 5201      67206669 
 5201      6C652072 
 5202              	.LC24:
 5203 010d 5B25735D 		.ascii	"[%s] File receive complete and signature is valid.\015"
 5203      2046696C 
 5203      65207265 
 5203      63656976 
 5203      6520636F 
 5204 0140 0A00     		.ascii	"\012\000"
 5205              	.LC25:
 5206 0142 5B25735D 		.ascii	"[%s] Error (%u:0x%06x) closing OTA file.\015\012\000"
 5206      20457272 
 5206      6F722028 
 5206      25753A30 
 5206      78253036 
 5207              	.LC26:
 5208 016d 5B25735D 		.ascii	"[%s] Error: File handle is NULL after last block re"
 5208      20457272 
 5208      6F723A20 
 5208      46696C65 
 5208      2068616E 
 5209 01a0 63656976 		.ascii	"ceived.\015\012\000"
 5209      65642E0D 
 5209      0A00
 5210              	.LC27:
 5211 01aa 5B25735D 		.ascii	"[%s] Remaining: %u\015\012\000"
 5211      2052656D 
 5211      61696E69 
 5211      6E673A20 
 5211      25750D0A 
 5212              	.LC28:
 5213 01bf 5B25735D 		.ascii	"[%s] Error! Block %u out of expected range! Size %u"
 5213      20457272 
 5213      6F722120 
 5213      426C6F63 
 5213      6B202575 
 5214 01f2 0D0A00   		.ascii	"\015\012\000"
 5215              		.section	.rodata.prvOTAUpdateTask.str1.1,"aMS",%progbits,1
 5216              	.LC75:
 5217 0000 5B25735D 		.ascii	"[%s] Received shutdown event.\015\012\000"
 5217      20526563 
 5217      65697665 
 5217      64207368 
 5217      7574646F 
 5218              	.LC76:
 5219 0020 5B25735D 		.ascii	"[%s] FAIL: %s\012\015\000"
 5219      20464149 
 5219      4C3A2025 
 5219      730A0D00 
 5220              	.LC77:
 5221 0030 5B25735D 		.ascii	"[%s] Error! OTA_FileContext_t[%u] pointer is null.\015"
 5221      20457272 
 5221      6F722120 
 5221      4F54415F 
 5221      46696C65 
 5222 0063 0A00     		.ascii	"\012\000"
 5223              	.LC78:
 5224 0065 5B25735D 		.ascii	"[%s] MQTT_AGENT_ReturnBuffer() failed.\015\012\000"
 5224      204D5154 
 5224      545F4147 
 5224      454E545F 
 5224      52657475 
 5225              	.LC79:
 5226 008e 5B25735D 		.ascii	"[%s] Attempt to flush MQTT messages from a null que"
 5226      20417474 
 5226      656D7074 
 5226      20746F20 
 5226      666C7573 
 5227 00c1 75652070 		.ascii	"ue pointer.\015\012\000"
 5227      6F696E74 
 5227      65722E0D 
 5227      0A00
 5228              	.LC80:
 5229 00cf 5B25735D 		.ascii	"[%s] Received user abort event.\015\012\000"
 5229      20526563 
 5229      65697665 
 5229      64207573 
 5229      65722061 
 5230              	.LC81:
 5231 00f1 5B25735D 		.ascii	"[%s] Job in self test but platform state is not!\015"
 5231      204A6F62 
 5231      20696E20 
 5231      73656C66 
 5231      20746573 
 5232 0122 0A00     		.ascii	"\012\000"
 5233              	.LC82:
 5234 0124 5B25735D 		.ascii	"[%s] Aborting due to IngestResult_t error %d\015\012"
 5234      2041626F 
 5234      7274696E 
 5234      67206475 
 5234      6520746F 
 5235 0152 00       		.ascii	"\000"
 5236              		.section	.rodata.prvOTA_Close.str1.1,"aMS",%progbits,1
 5237              	.LC6:
 5238 0000 5B25735D 		.ascii	"[%s] Context->0x%08x\015\012\000"
 5238      20436F6E 
 5238      74657874 
 5238      2D3E3078 
 5238      25303878 
 5239              		.section	.rodata.prvParseJSONbyModel.str1.1,"aMS",%progbits,1
 5240              	.LC44:
 5241 0000 5B25735D 		.ascii	"[%s] The pointer to the document model is NULL.\015"
 5241      20546865 
 5241      20706F69 
 5241      6E746572 
 5241      20746F20 
 5242 0030 0A00     		.ascii	"\012\000"
 5243              	.LC45:
 5244 0032 5B25735D 		.ascii	"[%s] Document model 0x%08x body pointer is NULL.\015"
 5244      20446F63 
 5244      756D656E 
 5244      74206D6F 
 5244      64656C20 
 5245 0063 0A00     		.ascii	"\012\000"
 5246              	.LC46:
 5247 0065 5B25735D 		.ascii	"[%s] Model has too many parameters (%u).\015\012\000"
 5247      204D6F64 
 5247      656C2068 
 5247      61732074 
 5247      6F6F206D 
 5248              	.LC47:
 5249 0090 5B25735D 		.ascii	"[%s] JSON document pointer is NULL!\015\012\000"
 5249      204A534F 
 5249      4E20646F 
 5249      63756D65 
 5249      6E742070 
 5250              	.LC48:
 5251 00b6 5B25735D 		.ascii	"[%s] parameter type mismatch [ %s : %.*s ] type %u,"
 5251      20706172 
 5251      616D6574 
 5251      65722074 
 5251      79706520 
 5252 00e9 20657870 		.ascii	" expected %u\015\012\000"
 5252      65637465 
 5252      64202575 
 5252      0D0A00
 5253              	.LC49:
 5254 00f8 5B25735D 		.ascii	"[%s] Extracted parameter [ %s: %s ]\015\012\000"
 5254      20457874 
 5254      72616374 
 5254      65642070 
 5254      6172616D 
 5255              	.LC50:
 5256 011e 5B25735D 		.ascii	"[%s] Extracted parameter [ %s: %.*s ]\015\012\000"
 5256      20457874 
 5256      72616374 
 5256      65642070 
 5256      6172616D 
 5257              	.LC51:
 5258 0146 5B25735D 		.ascii	"[%s] Error! JSON token produced a null pointer for "
 5258      20457272 
 5258      6F722120 
 5258      4A534F4E 
 5258      20746F6B 
 5259 0179 70617261 		.ascii	"parameter [ %s ]\015\012\000"
 5259      6D657465 
 5259      72205B20 
 5259      2573205D 
 5259      0D0A00
 5260              	.LC52:
 5261 018c 5B25735D 		.ascii	"[%s] Extracted parameter [ %s: %u ]\015\012\000"
 5261      20457874 
 5261      72616374 
 5261      65642070 
 5261      6172616D 
 5262              	.LC53:
 5263 01b2 5B25735D 		.ascii	"[%s] mbedtls_base64_decode failed.\015\012\000"
 5263      206D6265 
 5263      64746C73 
 5263      5F626173 
 5263      6536345F 
 5264              	.LC54:
 5265 01d7 5B25735D 		.ascii	"[%s] Extracted parameter [ %s: %.32s... ]\015\012\000"
 5265      20457874 
 5265      72616374 
 5265      65642070 
 5265      6172616D 
 5266              	.LC55:
 5267 0203 5B25735D 		.ascii	"[%s] Identified parameter [ %s ]\015\012\000"
 5267      20496465 
 5267      6E746966 
 5267      69656420 
 5267      70617261 
 5268              	.LC56:
 5269 0226 5B25735D 		.ascii	"[%s] parameter not present: %s\015\012\000"
 5269      20706172 
 5269      616D6574 
 5269      6572206E 
 5269      6F742070 
 5270              	.LC57:
 5271 0247 5B25735D 		.ascii	"[%s] Error (%d) parsing JSON document.\015\012\000"
 5271      20457272 
 5271      6F722028 
 5271      25642920 
 5271      70617273 
 5272              	.LC58:
 5273 0270 5B25735D 		.ascii	"[%s] jsmn_parse didn't match token count when parsi"
 5273      206A736D 
 5273      6E5F7061 
 5273      72736520 
 5273      6469646E 
 5274 02a3 6E672E0D 		.ascii	"ng.\015\012\000"
 5274      0A00
 5275              	.LC59:
 5276 02a9 5B25735D 		.ascii	"[%s] No memory for JSON tokens.\015\012\000"
 5276      204E6F20 
 5276      6D656D6F 
 5276      72792066 
 5276      6F72204A 
 5277              	.LC60:
 5278 02cb 5B25735D 		.ascii	"[%s] Document has too many keys.\015\012\000"
 5278      20446F63 
 5278      756D656E 
 5278      74206861 
 5278      7320746F 
 5279              	.LC61:
 5280 02ee 5B25735D 		.ascii	"[%s] Invalid JSON document. No tokens parsed. \015\012"
 5280      20496E76 
 5280      616C6964 
 5280      204A534F 
 5280      4E20646F 
 5281 031e 00       		.ascii	"\000"
 5282              		.section	.rodata.prvParseJobDoc.str1.1,"aMS",%progbits,1
 5283              	.LC62:
 5284 0000 5B25735D 		.ascii	"[%s] Error! No job context available.\015\012\000"
 5284      20457272 
 5284      6F722120 
 5284      4E6F206A 
 5284      6F622063 
 5285              	.LC63:
 5286 0028 5B25735D 		.ascii	"[%s] Zero file size is not allowed!\015\012\000"
 5286      205A6572 
 5286      6F206669 
 5286      6C652073 
 5286      697A6520 
 5287              	.LC64:
 5288 004e 5B25735D 		.ascii	"[%s] Busy with existing job. Ignoring.\015\012\000"
 5288      20427573 
 5288      79207769 
 5288      74682065 
 5288      78697374 
 5289              	.LC65:
 5290 0077 5B25735D 		.ascii	"[%s] Superfluous report of current job.\015\012\000"
 5290      20537570 
 5290      6572666C 
 5290      756F7573 
 5290      20726570 
 5291              	.LC66:
 5292 00a1 5B25735D 		.ascii	"[%s] Null job reported while busy. Ignoring.\015\012"
 5292      204E756C 
 5292      6C206A6F 
 5292      62207265 
 5292      706F7274 
 5293 00cf 00       		.ascii	"\000"
 5294              	.LC67:
 5295 00d0 5B25735D 		.ascii	"[%s] In self test mode.\015\012\000"
 5295      20496E20 
 5295      73656C66 
 5295      20746573 
 5295      74206D6F 
 5296              	.LC68:
 5297 00ea 5B25735D 		.ascii	"[%s] Rejecting image because version is older than "
 5297      2052656A 
 5297      65637469 
 5297      6E672069 
 5297      6D616765 
 5298 011d 70726576 		.ascii	"previous.\015\012\000"
 5298      696F7573 
 5298      2E0D0A00 
 5299              	.LC69:
 5300 0129 5B25735D 		.ascii	"[%s] Failing job. We rebooted and the version is st"
 5300      20466169 
 5300      6C696E67 
 5300      206A6F62 
 5300      2E205765 
 5301 015c 696C6C20 		.ascii	"ill the same.\015\012\000"
 5301      74686520 
 5301      73616D65 
 5301      2E0D0A00 
 5302              	.LC70:
 5303 016c 5B25735D 		.ascii	"[%s] Ignoring job. Device must be rebooted first.\015"
 5303      2049676E 
 5303      6F72696E 
 5303      67206A6F 
 5303      622E2044 
 5304 019e 0A00     		.ascii	"\012\000"
 5305              	.LC71:
 5306 01a0 5B25735D 		.ascii	"[%s] Job was accepted. Attempting to start transfer"
 5306      204A6F62 
 5306      20776173 
 5306      20616363 
 5306      65707465 
 5307 01d3 2E0D0A00 		.ascii	".\015\012\000"
 5308              	.LC72:
 5309 01d7 5B25735D 		.ascii	"[%s] Rejecting job due to OTA_JobParseErr_t %d\015\012"
 5309      2052656A 
 5309      65637469 
 5309      6E67206A 
 5309      6F622064 
 5310 0207 00       		.ascii	"\000"
 5311              	.LC73:
 5312 0208 5B25735D 		.ascii	"[%s] Ignoring job without ID.\015\012\000"
 5312      2049676E 
 5312      6F72696E 
 5312      67206A6F 
 5312      62207769 
 5313              	.LC74:
 5314 0228 5B25735D 		.ascii	"[%s] Error %d parsing job document.\015\012\000"
 5314      20457272 
 5314      6F722025 
 5314      64207061 
 5314      7273696E 
 5315              		.section	.rodata.prvPublishGetStreamMessage.str1.1,"aMS",%progbits,1
 5316              	.LC14:
 5317 0000 72647900 		.ascii	"rdy\000"
 5318              	.LC15:
 5319 0004 5B25735D 		.ascii	"[%s] OK: %s\015\012\000"
 5319      204F4B3A 
 5319      2025730D 
 5319      0A00
 5320              	.LC16:
 5321 0012 5B25735D 		.ascii	"[%s] Failed to build stream topic!\015\012\000"
 5321      20466169 
 5321      6C656420 
 5321      746F2062 
 5321      75696C64 
 5322              	.LC17:
 5323 0037 5B25735D 		.ascii	"[%s] CBOR encode failed.\015\012\000"
 5323      2043424F 
 5323      5220656E 
 5323      636F6465 
 5323      20666169 
 5324              		.section	.rodata.prvResetDevice.str1.1,"aMS",%progbits,1
 5325              	.LC4:
 5326 0000 5B25735D 		.ascii	"[%s] Attempting forced reset of device...\015\012\000"
 5326      20417474 
 5326      656D7074 
 5326      696E6720 
 5326      666F7263 
 5327              	.LC5:
 5328 002c 5B25735D 		.ascii	"[%s] Failed to reset the device (0x%08x). Please re"
 5328      20466169 
 5328      6C656420 
 5328      746F2072 
 5328      65736574 
 5329 005f 73657420 		.ascii	"set manually.\015\012\000"
 5329      6D616E75 
 5329      616C6C79 
 5329      2E0D0A00 
 5330              		.section	.rodata.prvSelfTestTimer_Callback.str1.1,"aMS",%progbits,1
 5331              	.LC3:
 5332 0000 5B25735D 		.ascii	"[%s] Self test failed to complete within %ums\015\012"
 5332      2053656C 
 5332      66207465 
 5332      73742066 
 5332      61696C65 
 5333 002f 00       		.ascii	"\000"
 5334              		.section	.rodata.prvSetImageStateWithReason.str1.1,"aMS",%progbits,1
 5335              	.LC12:
 5336 0000 5B25735D 		.ascii	"[%s] Stopping the self test timer.\015\012\000"
 5336      2053746F 
 5336      7070696E 
 5336      67207468 
 5336      65207365 
 5337              		.section	.rodata.prvStartRequestTimer.str1.1,"aMS",%progbits,1
 5338              	.LC13:
 5339 0000 5B25735D 		.ascii	"[%s] ERROR: failed to reset/start %s timer.\015\012"
 5339      20455252 
 5339      4F523A20 
 5339      6661696C 
 5339      65642074 
 5340 002d 00       		.ascii	"\000"
 5341              		.section	.rodata.prvUnSubscribeFromDataStream.str1.1,"aMS",%progbits,1
 5342              	.LC0:
 5343 0000 5B25735D 		.ascii	"[%s] Failed: %s\012\015\000"
 5343      20466169 
 5343      6C65643A 
 5343      2025730A 
 5343      0D00
 5344              	.LC1:
 5345 0012 5B25735D 		.ascii	"[%s] OK: %s\012\015\000"
 5345      204F4B3A 
 5345      2025730A 
 5345      0D00
 5346              	.LC2:
 5347 0020 5B25735D 		.ascii	"[%s] Failed to build stream topic.\012\015\000"
 5347      20466169 
 5347      6C656420 
 5347      746F2062 
 5347      75696C64 
 5348              		.section	.rodata.prvUpdateJobStatus.str1.1,"aMS",%progbits,1
 5349              	.LC7:
 5350 0000 5B25735D 		.ascii	"[%s] Error: null context pointer!\015\012\000"
 5350      20457272 
 5350      6F723A20 
 5350      6E756C6C 
 5350      20636F6E 
 5351              	.LC8:
 5352 0024 5B25735D 		.ascii	"[%s] Msg: %s\015\012\000"
 5352      204D7367 
 5352      3A202573 
 5352      0D0A00
 5353              	.LC9:
 5354 0033 5B25735D 		.ascii	"[%s] Failed: %s\015\012\000"
 5354      20466169 
 5354      6C65643A 
 5354      2025730D 
 5354      0A00
 5355              	.LC10:
 5356 0045 5B25735D 		.ascii	"[%s] '%s' to %s\015\012\000"
 5356      20272573 
 5356      2720746F 
 5356      2025730D 
 5356      0A00
 5357              	.LC11:
 5358 0057 5B25735D 		.ascii	"[%s] Failed to build job status topic!\015\012\000"
 5358      20466169 
 5358      6C656420 
 5358      746F2062 
 5358      75696C64 
 5359              		.section	.rodata.str1.1,"aMS",%progbits,1
 5360              	.LC83:
 5361 0000 00       		.ascii	"\000"
 5362              	.LC84:
 5363 0001 72656164 		.ascii	"ready\000"
 5363      7900
 5364              	.LC85:
 5365 0007 61637469 		.ascii	"active\000"
 5365      766500
 5366              	.LC86:
 5367 000e 61636365 		.ascii	"accepted\000"
 5367      70746564 
 5367      00
 5368              	.LC87:
 5369 0017 72656A65 		.ascii	"rejected\000"
 5369      63746564 
 5369      00
 5370              	.LC88:
 5371 0020 61626F72 		.ascii	"aborted\000"
 5371      74656400 
 5372              		.section	.rodata.xOTA_JobDocModelParamStructure.9219,"a",%progbits
 5373              		.align	2
 5374              		.set	.LANCHOR44,. + 0
 5377              	xOTA_JobDocModelParamStructure.9219:
 5378 0000 00000000 		.word	cOTA_JSON_ClientTokenKey
 5379 0004 00       		.byte	0
 5380 0005 000000   		.space	3
 5381 0008 90000000 		.word	xOTA_Agent+144
 5382 000c 01       		.byte	1
 5383 000d 03       		.byte	3
 5384 000e 0000     		.space	2
 5385 0010 00000000 		.word	cOTA_JSON_ExecutionKey
 5386 0014 01       		.byte	1
 5387 0015 000000   		.space	3
 5388 0018 FFFFFFFF 		.word	-1
 5389 001c 02       		.byte	2
 5390 001d 01       		.byte	1
 5391 001e 0000     		.space	2
 5392 0020 00000000 		.word	cOTA_JSON_JobIDKey
 5393 0024 01       		.byte	1
 5394 0025 000000   		.space	3
 5395 0028 20000000 		.word	32
 5396 002c 00       		.byte	0
 5397 002d 03       		.byte	3
 5398 002e 0000     		.space	2
 5399 0030 00000000 		.word	cOTA_JSON_StatusDetailsKey
 5400 0034 00       		.byte	0
 5401 0035 000000   		.space	3
 5402 0038 FFFFFFFF 		.word	-1
 5403 003c 02       		.byte	2
 5404 003d 01       		.byte	1
 5405 003e 0000     		.space	2
 5406 0040 00000000 		.word	cOTA_JSON_SelfTestKey
 5407 0044 00       		.byte	0
 5408 0045 000000   		.space	3
 5409 0048 38000000 		.word	56
 5410 004c 06       		.byte	6
 5411 004d 03       		.byte	3
 5412 004e 0000     		.space	2
 5413 0050 00000000 		.word	cOTA_JSON_UpdatedByKey
 5414 0054 00       		.byte	0
 5415 0055 000000   		.space	3
 5416 0058 34000000 		.word	52
 5417 005c 04       		.byte	4
 5418 005d 03       		.byte	3
 5419 005e 0000     		.space	2
 5420 0060 00000000 		.word	cOTA_JSON_JobDocKey
 5421 0064 01       		.byte	1
 5422 0065 000000   		.space	3
 5423 0068 FFFFFFFF 		.word	-1
 5424 006c 02       		.byte	2
 5425 006d 01       		.byte	1
 5426 006e 0000     		.space	2
 5427 0070 00000000 		.word	cOTA_JSON_OTAUnitKey
 5428 0074 01       		.byte	1
 5429 0075 000000   		.space	3
 5430 0078 FFFFFFFF 		.word	-1
 5431 007c 02       		.byte	2
 5432 007d 01       		.byte	1
 5433 007e 0000     		.space	2
 5434 0080 00000000 		.word	cOTA_JSON_StreamNameKey
 5435 0084 01       		.byte	1
 5436 0085 000000   		.space	3
 5437 0088 24000000 		.word	36
 5438 008c 00       		.byte	0
 5439 008d 03       		.byte	3
 5440 008e 0000     		.space	2
 5441 0090 00000000 		.word	cOTA_JSON_FileGroupKey
 5442 0094 01       		.byte	1
 5443 0095 000000   		.space	3
 5444 0098 FFFFFFFF 		.word	-1
 5445 009c 03       		.byte	3
 5446 009d 02       		.byte	2
 5447 009e 0000     		.space	2
 5448 00a0 00000000 		.word	cOTA_JSON_FilePathKey
 5449 00a4 01       		.byte	1
 5450 00a5 000000   		.space	3
 5451 00a8 00000000 		.word	0
 5452 00ac 00       		.byte	0
 5453 00ad 03       		.byte	3
 5454 00ae 0000     		.space	2
 5455 00b0 00000000 		.word	cOTA_JSON_FileSizeKey
 5456 00b4 01       		.byte	1
 5457 00b5 000000   		.space	3
 5458 00b8 0C000000 		.word	12
 5459 00bc 04       		.byte	4
 5460 00bd 04       		.byte	4
 5461 00be 0000     		.space	2
 5462 00c0 00000000 		.word	cOTA_JSON_FileIDKey
 5463 00c4 01       		.byte	1
 5464 00c5 000000   		.space	3
 5465 00c8 18000000 		.word	24
 5466 00cc 04       		.byte	4
 5467 00cd 04       		.byte	4
 5468 00ce 0000     		.space	2
 5469 00d0 00000000 		.word	cOTA_JSON_FileCertNameKey
 5470 00d4 01       		.byte	1
 5471 00d5 000000   		.space	3
 5472 00d8 30000000 		.word	48
 5473 00dc 00       		.byte	0
 5474 00dd 03       		.byte	3
 5475 00de 0000     		.space	2
 5476 00e0 00000000 		.word	cOTA_JSON_FileSignatureKey
 5477 00e4 01       		.byte	1
 5478 00e5 000000   		.space	3
 5479 00e8 28000000 		.word	40
 5480 00ec 05       		.byte	5
 5481 00ed 03       		.byte	3
 5482 00ee 0000     		.space	2
 5483 00f0 00000000 		.word	cOTA_JSON_FileAttributeKey
 5484 00f4 00       		.byte	0
 5485 00f5 000000   		.space	3
 5486 00f8 14000000 		.word	20
 5487 00fc 04       		.byte	4
 5488 00fd 04       		.byte	4
 5489 00fe 0000     		.space	2
 5490              		.text
 5491              	.Letext0:
 5492              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\lib\\gcc\\arm-none-eab
 5493              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5494              		.file 5 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5495              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5496              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5497              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5498              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\include
 5499              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 5500              		.file 11 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 5501              		.file 12 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\third_party\\unity\\src/unity_internals.h"
 5502              		.file 13 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/projdefs.h"
 5503              		.file 14 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\FreeRTOS\\portable\\GCC\\ARM_CA9_RZA2M/por
 5504              		.file 15 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/FreeRTOS.h"
 5505              		.file 16 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/task.h"
 5506              		.file 17 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/timers.h"
 5507              		.file 18 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/aws_ota_agent.h"
 5508              		.file 19 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/aws_ota_pal.h"
 5509              		.file 20 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/event_groups.h"
 5510              		.file 21 "D:\\Work\\DeviceTester\\amazon-freertos\\tests\\common\\include/aws_clientcredential_key
 5511              		.file 22 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/aws_appversion32.h"
 5512              		.file 23 "D:\\Work\\DeviceTester\\amazon-freertos\\tests\\common\\include/aws_application_version.
 5513              		.file 24 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\third_party\\jsmn/jsmn.h"
 5514              		.file 25 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/aws_ota_agent_internal.h"
 5515              		.file 26 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/queue.h"
 5516              		.file 27 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/aws_mqtt_buffer.h"
 5517              		.file 28 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/aws_mqtt_lib.h"
 5518              		.file 29 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include/aws_mqtt_agent.h"
 5519              		.file 30 "D:\\Work\\DeviceTester\\amazon-freertos\\tests\\common\\include/aws_clientcredential.h"
 5520              		.file 31 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 5521              		.file 32 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/aws_mqtt_config_defaults.
 5522              		.file 33 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/portable.h"
 5523              		.file 34 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\include\\private/aws_ota_cbor.h"
 5524              		.file 35 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
 5525              		.file 36 "D:\\Work\\DeviceTester\\amazon-freertos\\lib\\third_party\\mbedtls\\include/mbedtls/base
 5526              		.file 37 "c:\\program files (x86)\\gnu tools arm embedded\\6 2017-q2-update\\arm-none-eabi\\includ
DEFINED SYMBOLS
                            *ABS*:00000000 aws_ota_agent.c
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:17     .text.prvRequestTimer_Callback:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:22     .text.prvRequestTimer_Callback:00000000 prvRequestTimer_Callback
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:44     .text.prvRequestTimer_Callback:00000018 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:49     .text.prvUnSubscribeFromDataStream:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:54     .text.prvUnSubscribeFromDataStream:00000000 prvUnSubscribeFromDataStream
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:140    .text.prvUnSubscribeFromDataStream:000000a0 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:150    .text.prvSelfTestTimer_Callback:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:155    .text.prvSelfTestTimer_Callback:00000000 prvSelfTestTimer_Callback
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:184    .text.prvSelfTestTimer_Callback:0000001c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:190    .text.prvResetDevice:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:195    .text.prvResetDevice:00000000 prvResetDevice
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:233    .text.prvResetDevice:00000034 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:240    .text.prvOTA_Close:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:245    .text.prvOTA_Close:00000000 prvOTA_Close
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:389    .text.prvOTA_Close:00000124 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:395    .text.prvOTAPublishCallback:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:400    .text.prvOTAPublishCallback:00000000 prvOTAPublishCallback
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:503    .text.prvOTAPublishCallback:000000a8 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:508    .text.prvPublishMessage:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:513    .text.prvPublishMessage:00000000 prvPublishMessage
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:568    .text.prvPublishMessage:00000048 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:573    .text.prvUpdateJobStatus:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:578    .text.prvUpdateJobStatus:00000000 prvUpdateJobStatus
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:851    .text.prvUpdateJobStatus:00000224 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:875    .text.prvSetImageStateWithReason:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:880    .text.prvSetImageStateWithReason:00000000 prvSetImageStateWithReason
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1022   .text.prvSetImageStateWithReason:000000f8 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1032   .text.prvStartRequestTimer:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1037   .text.prvStartRequestTimer:00000000 prvStartRequestTimer
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1140   .text.prvStartRequestTimer:000000a4 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1148   .text.prvPublishGetStreamMessage:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1153   .text.prvPublishGetStreamMessage:00000000 prvPublishGetStreamMessage
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1320   .text.prvPublishGetStreamMessage:00000138 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1333   .text.prvIngestDataBlock:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1338   .text.prvIngestDataBlock:00000000 prvIngestDataBlock
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1696   .text.prvIngestDataBlock:000002bc $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1713   .text.OTA_CheckForSelfTest:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1718   .text.OTA_CheckForSelfTest:00000000 OTA_CheckForSelfTest
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1829   .text.OTA_CheckForSelfTest:000000d4 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1842   .text.OTA_AgentInit:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:1848   .text.OTA_AgentInit:00000000 OTA_AgentInit
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2027   .text.OTA_AgentInit:0000014c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2502   .text.prvDefaultOTACompleteCallback:00000000 prvDefaultOTACompleteCallback
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3776   .text.prvOTAUpdateTask:00000000 prvOTAUpdateTask
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2043   .text.OTA_AgentShutdown:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2049   .text.OTA_AgentShutdown:00000000 OTA_AgentShutdown
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2111   .text.OTA_AgentShutdown:00000064 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2118   .text.OTA_GetAgentState:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2124   .text.OTA_GetAgentState:00000000 OTA_GetAgentState
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2138   .text.OTA_GetAgentState:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2143   .text.OTA_GetPacketsDropped:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2149   .text.OTA_GetPacketsDropped:00000000 OTA_GetPacketsDropped
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2163   .text.OTA_GetPacketsDropped:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2168   .text.OTA_GetPacketsQueued:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2174   .text.OTA_GetPacketsQueued:00000000 OTA_GetPacketsQueued
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2188   .text.OTA_GetPacketsQueued:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2193   .text.OTA_GetPacketsProcessed:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2199   .text.OTA_GetPacketsProcessed:00000000 OTA_GetPacketsProcessed
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2213   .text.OTA_GetPacketsProcessed:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2218   .text.OTA_GetPacketsReceived:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2224   .text.OTA_GetPacketsReceived:00000000 OTA_GetPacketsReceived
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2238   .text.OTA_GetPacketsReceived:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2243   .text.OTA_CheckForUpdate:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2249   .text.OTA_CheckForUpdate:00000000 OTA_CheckForUpdate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2351   .text.OTA_CheckForUpdate:000000c0 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2363   .text.OTA_ActivateNewImage:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2369   .text.OTA_ActivateNewImage:00000000 OTA_ActivateNewImage
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2397   .text.OTA_ActivateNewImage:00000024 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2403   .text.OTA_SetImageState:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2409   .text.OTA_SetImageState:00000000 OTA_SetImageState
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2489   .text.OTA_SetImageState:0000007c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2497   .text.prvDefaultOTACompleteCallback:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2600   .text.prvDefaultOTACompleteCallback:0000007c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2610   .text.OTA_GetImageState:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2616   .text.OTA_GetImageState:00000000 OTA_GetImageState
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2630   .text.OTA_GetImageState:0000000c $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2635   .text.JSON_IsCStringEqual:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2641   .text.JSON_IsCStringEqual:00000000 JSON_IsCStringEqual
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2702   .text.prvParseJSONbyModel:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:2707   .text.prvParseJSONbyModel:00000000 prvParseJSONbyModel
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3365   .text.prvParseJSONbyModel:000004f4 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3388   .text.prvParseJobDoc:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3393   .text.prvParseJobDoc:00000000 prvParseJobDoc
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3748   .text.prvParseJobDoc:00000294 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:3771   .text.prvOTAUpdateTask:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4622   .text.prvOTAUpdateTask:000006b8 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4650   .text.TEST_OTA_prvIngestDataBlock:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4656   .text.TEST_OTA_prvIngestDataBlock:00000000 TEST_OTA_prvIngestDataBlock
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4672   .text.TEST_OTA_prvParseJobDoc:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4678   .text.TEST_OTA_prvParseJobDoc:00000000 TEST_OTA_prvParseJobDoc
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4693   .text.TEST_OTA_prvOTA_Close:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4699   .text.TEST_OTA_prvOTA_Close:00000000 TEST_OTA_prvOTA_Close
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4714   .text.TEST_OTA_prvParseJSONbyModel:00000000 $a
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4720   .text.TEST_OTA_prvParseJSONbyModel:00000000 TEST_OTA_prvParseJSONbyModel
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4735   .bss.ulReqCounter.9005:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4739   .bss.ulReqCounter.9005:00000000 ulReqCounter.9005
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4745   .bss.xInSelfTest:00000000 xInSelfTest
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4746   .bss.xInSelfTest:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4748   .bss.xOTA_Agent:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4752   .bss.xOTA_Agent:00000000 xOTA_Agent
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4755   .bss.xOTA_TaskHandle.8966:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4759   .bss.xOTA_TaskHandle.8966:00000000 xOTA_TaskHandle.8966
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4762   .bss.xQueueData.8970:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4766   .bss.xQueueData.8970:00000000 xQueueData.8970
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4769   .bss.xStaticQueue.8969:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4773   .bss.xStaticQueue.8969:00000000 xStaticQueue.8969
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4776   .bss.xTimerBuffer.9111:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4780   .bss.xTimerBuffer.9111:00000000 xTimerBuffer.9111
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4811   .rodata.OTA_METHOD_NAME.8957:00000000 OTA_METHOD_NAME.8957
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4817   .rodata.OTA_METHOD_NAME.8965:00000000 OTA_METHOD_NAME.8965
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4823   .rodata.OTA_METHOD_NAME.8981:00000000 OTA_METHOD_NAME.8981
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4829   .rodata.OTA_METHOD_NAME.9003:00000000 OTA_METHOD_NAME.9003
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4835   .rodata.OTA_METHOD_NAME.9014:00000000 OTA_METHOD_NAME.9014
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4841   .rodata.OTA_METHOD_NAME.9025:00000000 OTA_METHOD_NAME.9025
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4847   .rodata.OTA_METHOD_NAME.9030:00000000 OTA_METHOD_NAME.9030
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4853   .rodata.OTA_METHOD_NAME.9039:00000000 OTA_METHOD_NAME.9039
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4859   .rodata.OTA_METHOD_NAME.9060:00000000 OTA_METHOD_NAME.9060
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4865   .rodata.OTA_METHOD_NAME.9073:00000000 OTA_METHOD_NAME.9073
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4871   .rodata.OTA_METHOD_NAME.9093:00000000 OTA_METHOD_NAME.9093
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4877   .rodata.OTA_METHOD_NAME.9108:00000000 OTA_METHOD_NAME.9108
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4883   .rodata.OTA_METHOD_NAME.9115:00000000 OTA_METHOD_NAME.9115
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4889   .rodata.OTA_METHOD_NAME.9119:00000000 OTA_METHOD_NAME.9119
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4895   .rodata.OTA_METHOD_NAME.9126:00000000 OTA_METHOD_NAME.9126
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4901   .rodata.OTA_METHOD_NAME.9132:00000000 OTA_METHOD_NAME.9132
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4907   .rodata.OTA_METHOD_NAME.9136:00000000 OTA_METHOD_NAME.9136
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4913   .rodata.OTA_METHOD_NAME.9168:00000000 OTA_METHOD_NAME.9168
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4919   .rodata.OTA_METHOD_NAME.9218:00000000 OTA_METHOD_NAME.9218
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4925   .rodata.OTA_METHOD_NAME.9244:00000000 OTA_METHOD_NAME.9244
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4931   .rodata.OTA_METHOD_NAME.9259:00000000 OTA_METHOD_NAME.9259
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4937   .rodata.OTA_METHOD_NAME.9266:00000000 OTA_METHOD_NAME.9266
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4943   .rodata.OTA_METHOD_NAME.9273:00000000 OTA_METHOD_NAME.9273
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4949   .rodata.OTA_METHOD_NAME.9280:00000000 OTA_METHOD_NAME.9280
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4959   .rodata.cOTA_GetNextJob_MsgTemplate:00000000 cOTA_GetNextJob_MsgTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4965   .rodata.cOTA_GetStream_TopicTemplate:00000000 cOTA_GetStream_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4970   .rodata.cOTA_JSON_ClientTokenKey:00000000 cOTA_JSON_ClientTokenKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4975   .rodata.cOTA_JSON_ExecutionKey:00000000 cOTA_JSON_ExecutionKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4980   .rodata.cOTA_JSON_FileAttributeKey:00000000 cOTA_JSON_FileAttributeKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4985   .rodata.cOTA_JSON_FileCertNameKey:00000000 cOTA_JSON_FileCertNameKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4990   .rodata.cOTA_JSON_FileGroupKey:00000000 cOTA_JSON_FileGroupKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:4995   .rodata.cOTA_JSON_FileIDKey:00000000 cOTA_JSON_FileIDKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5000   .rodata.cOTA_JSON_FilePathKey:00000000 cOTA_JSON_FilePathKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5005   .rodata.cOTA_JSON_FileSizeKey:00000000 cOTA_JSON_FileSizeKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5010   .rodata.cOTA_JSON_JobDocKey:00000000 cOTA_JSON_JobDocKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5015   .rodata.cOTA_JSON_JobIDKey:00000000 cOTA_JSON_JobIDKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5020   .rodata.cOTA_JSON_OTAUnitKey:00000000 cOTA_JSON_OTAUnitKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5026   .rodata.cOTA_JSON_SelfTestKey:00000000 cOTA_JSON_SelfTestKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5031   .rodata.cOTA_JSON_StatusDetailsKey:00000000 cOTA_JSON_StatusDetailsKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5036   .rodata.cOTA_JSON_StreamNameKey:00000000 cOTA_JSON_StreamNameKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5041   .rodata.cOTA_JSON_UpdatedByKey:00000000 cOTA_JSON_UpdatedByKey
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5047   .rodata.cOTA_JobStatus_ReasonStrTemplate:00000000 cOTA_JobStatus_ReasonStrTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5053   .rodata.cOTA_JobStatus_ReasonValTemplate:00000000 cOTA_JobStatus_ReasonValTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5059   .rodata.cOTA_JobStatus_ReceiveDetailsTemplate:00000000 cOTA_JobStatus_ReceiveDetailsTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5065   .rodata.cOTA_JobStatus_SelfTestDetailsTemplate:00000000 cOTA_JobStatus_SelfTestDetailsTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5071   .rodata.cOTA_JobStatus_StatusTemplate:00000000 cOTA_JobStatus_StatusTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5077   .rodata.cOTA_JobStatus_SucceededStrTemplate:00000000 cOTA_JobStatus_SucceededStrTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5083   .rodata.cOTA_JobStatus_TopicTemplate:00000000 cOTA_JobStatus_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5089   .rodata.cOTA_JobsGetNextAccepted_TopicTemplate:00000000 cOTA_JobsGetNextAccepted_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5095   .rodata.cOTA_JobsGetNext_TopicTemplate:00000000 cOTA_JobsGetNext_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5101   .rodata.cOTA_JobsNotifyNext_TopicTemplate:00000000 cOTA_JobsNotifyNext_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5107   .rodata.cOTA_StreamData_TopicTemplate:00000000 cOTA_StreamData_TopicTemplate
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5112   .rodata.cOTA_String_Failed:00000000 cOTA_String_Failed
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5118   .rodata.cOTA_String_InProgress:00000000 cOTA_String_InProgress
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5124   .rodata.cOTA_String_Receive:00000000 cOTA_String_Receive
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5129   .rodata.cOTA_String_Rejected:00000000 cOTA_String_Rejected
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5134   .rodata.cOTA_String_Succeeded:00000000 cOTA_String_Succeeded
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5140   .rodata.cTimerName.9109:00000000 cTimerName.9109
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5146   .rodata.cTimerName.9127:00000000 cTimerName.9127
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5149   .rodata.pcOTA_JobReason_Strings:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5153   .rodata.pcOTA_JobReason_Strings:00000000 pcOTA_JobReason_Strings
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5161   .rodata.pcOTA_JobStatus_Strings:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5165   .rodata.pcOTA_JobStatus_Strings:00000000 pcOTA_JobStatus_Strings
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5373   .rodata.xOTA_JobDocModelParamStructure.9219:00000000 $d
C:\Users\a5089698\AppData\Local\Temp\ccde3RzQ.s:5377   .rodata.xOTA_JobDocModelParamStructure.9219:00000000 xOTA_JobDocModelParamStructure.9219
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
xEventGroupSetBits
snprintf
MQTT_AGENT_Unsubscribe
vLoggingPrintf
prvPAL_ResetDevice
xTimerGenericCommand
vPortFree
prvPAL_Abort
memset
xQueueGenericSend
MQTT_AGENT_Publish
xAppFirmwareVersion
prvPAL_SetPlatformImageState
xTimerCreate
xTaskGetTickCount
OTA_CBOR_Encode_GetStreamRequestMessage
OTA_CBOR_Decode_GetStreamResponseMessage
prvPAL_WriteBlock
prvPAL_CloseFile
prvPAL_GetPlatformImageState
xTimerCreateStatic
strlen
memcpy
vPortEnterCritical
xQueueGenericCreateStatic
xTaskCreate
vPortExitCritical
longjmp
vTaskDelay
Unity
prvPAL_ActivateNewImage
strncmp
jsmn_init
jsmn_parse
pvPortMalloc
strtoul
mbedtls_base64_decode
strcmp
MQTT_AGENT_Subscribe
vTaskDelete
xEventGroupCreate
xEventGroupWaitBits
MQTT_AGENT_ReturnBuffer
xQueueReceive
vEventGroupDelete
prvPAL_CreateFileForRx
cOTA_JSON_FileSignatureKey
